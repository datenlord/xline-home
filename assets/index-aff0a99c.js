var mS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var UV=mS((XV,Ld)=>{function y2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function fi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var b2={exports:{}},Mh={},w2={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic=Symbol.for("react.element"),pS=Symbol.for("react.portal"),gS=Symbol.for("react.fragment"),yS=Symbol.for("react.strict_mode"),bS=Symbol.for("react.profiler"),wS=Symbol.for("react.provider"),vS=Symbol.for("react.context"),xS=Symbol.for("react.forward_ref"),kS=Symbol.for("react.suspense"),SS=Symbol.for("react.memo"),_S=Symbol.for("react.lazy"),Yy=Symbol.iterator;function ES(e){return e===null||typeof e!="object"?null:(e=Yy&&e[Yy]||e["@@iterator"],typeof e=="function"?e:null)}var v2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x2=Object.assign,k2={};function Ho(e,t,n){this.props=e,this.context=t,this.refs=k2,this.updater=n||v2}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ho.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function S2(){}S2.prototype=Ho.prototype;function mg(e,t,n){this.props=e,this.context=t,this.refs=k2,this.updater=n||v2}var pg=mg.prototype=new S2;pg.constructor=mg;x2(pg,Ho.prototype);pg.isPureReactComponent=!0;var Gy=Array.isArray,_2=Object.prototype.hasOwnProperty,gg={current:null},E2={key:!0,ref:!0,__self:!0,__source:!0};function T2(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)_2.call(t,r)&&!E2.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ic,type:e,key:a,ref:s,props:i,_owner:gg.current}}function TS(e,t){return{$$typeof:Ic,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ic}function CS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ky=/\/+/g;function af(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CS(""+e.key):t.toString(36)}function cd(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ic:case pS:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+af(s,0):r,Gy(i)?(n="",e!=null&&(n=e.replace(Ky,"$&/")+"/"),cd(i,t,n,"",function(c){return c})):i!=null&&(yg(i)&&(i=TS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ky,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Gy(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+af(a,o);s+=cd(a,t,n,l,i)}else if(l=ES(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+af(a,o++),s+=cd(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function lu(e,t,n){if(e==null)return e;var r=[],i=0;return cd(e,r,"","",function(a){return t.call(n,a,i++)}),r}function AS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dn={current:null},ud={transition:null},RS={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:ud,ReactCurrentOwner:gg};function C2(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:lu,forEach:function(e,t,n){lu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lu(e,function(){t++}),t},toArray:function(e){return lu(e,function(t){return t})||[]},only:function(e){if(!yg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Je.Component=Ho;Je.Fragment=gS;Je.Profiler=bS;Je.PureComponent=mg;Je.StrictMode=yS;Je.Suspense=kS;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RS;Je.act=C2;Je.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=x2({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=gg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)_2.call(t,l)&&!E2.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Ic,type:e.type,key:i,ref:a,props:r,_owner:s}};Je.createContext=function(e){return e={$$typeof:vS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wS,_context:e},e.Consumer=e};Je.createElement=T2;Je.createFactory=function(e){var t=T2.bind(null,e);return t.type=e,t};Je.createRef=function(){return{current:null}};Je.forwardRef=function(e){return{$$typeof:xS,render:e}};Je.isValidElement=yg;Je.lazy=function(e){return{$$typeof:_S,_payload:{_status:-1,_result:e},_init:AS}};Je.memo=function(e,t){return{$$typeof:SS,type:e,compare:t===void 0?null:t}};Je.startTransition=function(e){var t=ud.transition;ud.transition={};try{e()}finally{ud.transition=t}};Je.unstable_act=C2;Je.useCallback=function(e,t){return Dn.current.useCallback(e,t)};Je.useContext=function(e){return Dn.current.useContext(e)};Je.useDebugValue=function(){};Je.useDeferredValue=function(e){return Dn.current.useDeferredValue(e)};Je.useEffect=function(e,t){return Dn.current.useEffect(e,t)};Je.useId=function(){return Dn.current.useId()};Je.useImperativeHandle=function(e,t,n){return Dn.current.useImperativeHandle(e,t,n)};Je.useInsertionEffect=function(e,t){return Dn.current.useInsertionEffect(e,t)};Je.useLayoutEffect=function(e,t){return Dn.current.useLayoutEffect(e,t)};Je.useMemo=function(e,t){return Dn.current.useMemo(e,t)};Je.useReducer=function(e,t,n){return Dn.current.useReducer(e,t,n)};Je.useRef=function(e){return Dn.current.useRef(e)};Je.useState=function(e){return Dn.current.useState(e)};Je.useSyncExternalStore=function(e,t,n){return Dn.current.useSyncExternalStore(e,t,n)};Je.useTransition=function(){return Dn.current.useTransition()};Je.version="18.3.1";w2.exports=Je;var Q=w2.exports;const Xn=fi(Q),IS=y2({__proto__:null,default:Xn},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS=Q,MS=Symbol.for("react.element"),OS=Symbol.for("react.fragment"),DS=Object.prototype.hasOwnProperty,LS=NS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PS={key:!0,ref:!0,__self:!0,__source:!0};function A2(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)DS.call(t,r)&&!PS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:MS,type:e,key:a,ref:s,props:i,_owner:LS.current}}Mh.Fragment=OS;Mh.jsx=A2;Mh.jsxs=A2;b2.exports=Mh;var S=b2.exports,Nm={},R2={exports:{}},lr={},I2={exports:{}},N2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,K){var C=$.length;$.push(K);e:for(;0<C;){var oe=C-1>>>1,G=$[oe];if(0<i(G,K))$[oe]=K,$[C]=G,C=oe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var K=$[0],C=$.pop();if(C!==K){$[0]=C;e:for(var oe=0,G=$.length,A=G>>>1;oe<A;){var ee=2*(oe+1)-1,he=$[ee],U=ee+1,Te=$[U];if(0>i(he,C))U<G&&0>i(Te,he)?($[oe]=Te,$[U]=C,oe=U):($[oe]=he,$[ee]=C,oe=ee);else if(U<G&&0>i(Te,C))$[oe]=Te,$[U]=C,oe=U;else break e}}return K}function i($,K){var C=$.sortIndex-K.sortIndex;return C!==0?C:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,f=3,h=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k($){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=$)r(c),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(c)}}function T($){if(p=!1,k($),!g)if(n(l)!==null)g=!0,ze(R);else{var K=n(c);K!==null&&W(T,K.startTime-$)}}function R($,K){g=!1,p&&(p=!1,b(I),I=-1),h=!0;var C=f;try{for(k(K),d=n(l);d!==null&&(!(d.expirationTime>K)||$&&!Y());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,f=d.priorityLevel;var G=oe(d.expirationTime<=K);K=e.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),k(K)}else r(l);d=n(l)}if(d!==null)var A=!0;else{var ee=n(c);ee!==null&&W(T,ee.startTime-K),A=!1}return A}finally{d=null,f=C,h=!1}}var x=!1,M=null,I=-1,B=5,D=-1;function Y(){return!(e.unstable_now()-D<B)}function X(){if(M!==null){var $=e.unstable_now();D=$;var K=!0;try{K=M(!0,$)}finally{K?ce():(x=!1,M=null)}}else x=!1}var ce;if(typeof w=="function")ce=function(){w(X)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,de=se.port2;se.port1.onmessage=X,ce=function(){de.postMessage(null)}}else ce=function(){v(X,0)};function ze($){M=$,x||(x=!0,ce())}function W($,K){I=v(function(){$(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,ze(R))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var C=f;f=K;try{return $()}finally{f=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var C=f;f=$;try{return K()}finally{f=C}},e.unstable_scheduleCallback=function($,K,C){var oe=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?oe+C:oe):C=oe,$){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=C+G,$={id:u++,callback:K,priorityLevel:$,startTime:C,expirationTime:G,sortIndex:-1},C>oe?($.sortIndex=C,t(c,$),n(l)===null&&$===n(c)&&(p?(b(I),I=-1):p=!0,W(T,C-oe))):($.sortIndex=G,t(l,$),g||h||(g=!0,ze(R))),$},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function($){var K=f;return function(){var C=f;f=K;try{return $.apply(this,arguments)}finally{f=C}}}})(N2);I2.exports=N2;var zS=I2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS=Q,or=zS;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M2=new Set,Ql={};function As(e,t){No(e,t),No(e+"Capture",t)}function No(e,t){for(Ql[e]=t,e=0;e<t.length;e++)M2.add(t[e])}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mm=Object.prototype.hasOwnProperty,BS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qy={},Zy={};function $S(e){return Mm.call(Zy,e)?!0:Mm.call(Qy,e)?!1:BS.test(e)?Zy[e]=!0:(Qy[e]=!0,!1)}function US(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jS(e,t,n,r){if(t===null||typeof t>"u"||US(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ln(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vn[e]=new Ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vn[t]=new Ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vn[e]=new Ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vn[e]=new Ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vn[e]=new Ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vn[e]=new Ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vn[e]=new Ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vn[e]=new Ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vn[e]=new Ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var bg=/[\-:]([a-z])/g;function wg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bg,wg);vn[t]=new Ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bg,wg);vn[t]=new Ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bg,wg);vn[t]=new Ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function vg(e,t,n,r){var i=vn.hasOwnProperty(t)?vn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jS(t,n,i,r)&&(n=null),r||i===null?$S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gi=FS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cu=Symbol.for("react.element"),Js=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),O2=Symbol.for("react.provider"),D2=Symbol.for("react.context"),kg=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),Lm=Symbol.for("react.suspense_list"),Sg=Symbol.for("react.memo"),da=Symbol.for("react.lazy"),L2=Symbol.for("react.offscreen"),Jy=Symbol.iterator;function hl(e){return e===null||typeof e!="object"?null:(e=Jy&&e[Jy]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Object.assign,sf;function Cl(e){if(sf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sf=t&&t[1]||""}return`
`+sf+e}var of=!1;function lf(e,t){if(!e||of)return"";of=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{of=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cl(e):""}function qS(e){switch(e.tag){case 5:return Cl(e.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return e=lf(e.type,!1),e;case 11:return e=lf(e.type.render,!1),e;case 1:return e=lf(e.type,!0),e;default:return""}}function Pm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eo:return"Fragment";case Js:return"Portal";case Om:return"Profiler";case xg:return"StrictMode";case Dm:return"Suspense";case Lm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D2:return(e.displayName||"Context")+".Consumer";case O2:return(e._context.displayName||"Context")+".Provider";case kg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sg:return t=e.displayName||null,t!==null?t:Pm(e.type)||"Memo";case da:t=e._payload,e=e._init;try{return Pm(e(t))}catch{}}return null}function HS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pm(t);case 8:return t===xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WS(e){var t=P2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uu(e){e._valueTracker||(e._valueTracker=WS(e))}function z2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=P2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zm(e,t){var n=t.checked;return Kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function eb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Oa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function F2(e,t){t=t.checked,t!=null&&vg(e,"checked",t,!1)}function Fm(e,t){F2(e,t);var n=Oa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bm(e,t.type,Oa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bm(e,t,n){(t!=="number"||Pd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Al=Array.isArray;function bo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Oa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $m(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(Al(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Oa(n)}}function B2(e,t){var n=Oa(t.value),r=Oa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Um(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var du,U2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(du=du||document.createElement("div"),du.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=du.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XS=["Webkit","ms","Moz","O"];Object.keys(Ll).forEach(function(e){XS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ll[t]=Ll[e]})});function j2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ll.hasOwnProperty(e)&&Ll[e]?(""+t).trim():t+"px"}function q2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=j2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var VS=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jm(e,t){if(t){if(VS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function qm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=null;function _g(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wm=null,wo=null,vo=null;function ib(e){if(e=Oc(e)){if(typeof Wm!="function")throw Error(re(280));var t=e.stateNode;t&&(t=zh(t),Wm(e.stateNode,e.type,t))}}function H2(e){wo?vo?vo.push(e):vo=[e]:wo=e}function W2(){if(wo){var e=wo,t=vo;if(vo=wo=null,ib(e),t)for(e=0;e<t.length;e++)ib(t[e])}}function X2(e,t){return e(t)}function V2(){}var cf=!1;function Y2(e,t,n){if(cf)return e(t,n);cf=!0;try{return X2(e,t,n)}finally{cf=!1,(wo!==null||vo!==null)&&(V2(),W2())}}function Jl(e,t){var n=e.stateNode;if(n===null)return null;var r=zh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var Xm=!1;if(Ui)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){Xm=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{Xm=!1}function YS(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pl=!1,zd=null,Fd=!1,Vm=null,GS={onError:function(e){Pl=!0,zd=e}};function KS(e,t,n,r,i,a,s,o,l){Pl=!1,zd=null,YS.apply(GS,arguments)}function QS(e,t,n,r,i,a,s,o,l){if(KS.apply(this,arguments),Pl){if(Pl){var c=zd;Pl=!1,zd=null}else throw Error(re(198));Fd||(Fd=!0,Vm=c)}}function Rs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function G2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ab(e){if(Rs(e)!==e)throw Error(re(188))}function ZS(e){var t=e.alternate;if(!t){if(t=Rs(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ab(i),e;if(a===r)return ab(i),t;a=a.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function K2(e){return e=ZS(e),e!==null?Q2(e):null}function Q2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Q2(e);if(t!==null)return t;e=e.sibling}return null}var Z2=or.unstable_scheduleCallback,sb=or.unstable_cancelCallback,JS=or.unstable_shouldYield,e_=or.unstable_requestPaint,rn=or.unstable_now,t_=or.unstable_getCurrentPriorityLevel,Eg=or.unstable_ImmediatePriority,J2=or.unstable_UserBlockingPriority,Bd=or.unstable_NormalPriority,n_=or.unstable_LowPriority,ex=or.unstable_IdlePriority,Oh=null,si=null;function r_(e){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Oh,e,void 0,(e.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:s_,i_=Math.log,a_=Math.LN2;function s_(e){return e>>>=0,e===0?32:31-(i_(e)/a_|0)|0}var hu=64,fu=4194304;function Rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $d(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Rl(o):(a&=s,a!==0&&(r=Rl(a)))}else s=n&~i,s!==0?r=Rl(s):a!==0&&(r=Rl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Hr(t),i=1<<n,r|=e[n],t&=~i;return r}function o_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Hr(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=o_(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Ym(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tx(){var e=hu;return hu<<=1,!(hu&4194240)&&(hu=64),e}function uf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hr(t),e[t]=n}function c_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Hr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Tg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Hr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function nx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rx,Cg,ix,ax,sx,Gm=!1,mu=[],ka=null,Sa=null,_a=null,ec=new Map,tc=new Map,fa=[],u_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ob(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(t.pointerId)}}function ml(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Oc(t),t!==null&&Cg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function d_(e,t,n,r,i){switch(t){case"focusin":return ka=ml(ka,e,t,n,r,i),!0;case"dragenter":return Sa=ml(Sa,e,t,n,r,i),!0;case"mouseover":return _a=ml(_a,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ec.set(a,ml(ec.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,tc.set(a,ml(tc.get(a)||null,e,t,n,r,i)),!0}return!1}function ox(e){var t=as(e.target);if(t!==null){var n=Rs(t);if(n!==null){if(t=n.tag,t===13){if(t=G2(n),t!==null){e.blockedOn=t,sx(e.priority,function(){ix(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Km(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Hm=r,n.target.dispatchEvent(r),Hm=null}else return t=Oc(n),t!==null&&Cg(t),e.blockedOn=n,!1;t.shift()}return!0}function lb(e,t,n){dd(e)&&n.delete(t)}function h_(){Gm=!1,ka!==null&&dd(ka)&&(ka=null),Sa!==null&&dd(Sa)&&(Sa=null),_a!==null&&dd(_a)&&(_a=null),ec.forEach(lb),tc.forEach(lb)}function pl(e,t){e.blockedOn===t&&(e.blockedOn=null,Gm||(Gm=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,h_)))}function nc(e){function t(i){return pl(i,e)}if(0<mu.length){pl(mu[0],e);for(var n=1;n<mu.length;n++){var r=mu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ka!==null&&pl(ka,e),Sa!==null&&pl(Sa,e),_a!==null&&pl(_a,e),ec.forEach(t),tc.forEach(t),n=0;n<fa.length;n++)r=fa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fa.length&&(n=fa[0],n.blockedOn===null);)ox(n),n.blockedOn===null&&fa.shift()}var xo=Gi.ReactCurrentBatchConfig,Ud=!0;function f_(e,t,n,r){var i=gt,a=xo.transition;xo.transition=null;try{gt=1,Ag(e,t,n,r)}finally{gt=i,xo.transition=a}}function m_(e,t,n,r){var i=gt,a=xo.transition;xo.transition=null;try{gt=4,Ag(e,t,n,r)}finally{gt=i,xo.transition=a}}function Ag(e,t,n,r){if(Ud){var i=Km(e,t,n,r);if(i===null)vf(e,t,r,jd,n),ob(e,r);else if(d_(i,e,t,n,r))r.stopPropagation();else if(ob(e,r),t&4&&-1<u_.indexOf(e)){for(;i!==null;){var a=Oc(i);if(a!==null&&rx(a),a=Km(e,t,n,r),a===null&&vf(e,t,r,jd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else vf(e,t,r,null,n)}}var jd=null;function Km(e,t,n,r){if(jd=null,e=_g(r),e=as(e),e!==null)if(t=Rs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=G2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jd=e,null}function lx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t_()){case Eg:return 1;case J2:return 4;case Bd:case n_:return 16;case ex:return 536870912;default:return 16}default:return 16}}var pa=null,Rg=null,hd=null;function cx(){if(hd)return hd;var e,t=Rg,n=t.length,r,i="value"in pa?pa.value:pa.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return hd=i.slice(e,1<r?1-r:void 0)}function fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pu(){return!0}function cb(){return!1}function cr(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pu:cb,this.isPropagationStopped=cb,this}return Kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=cr(Wo),Mc=Kt({},Wo,{view:0,detail:0}),p_=cr(Mc),df,hf,gl,Dh=Kt({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ng,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(df=e.screenX-gl.screenX,hf=e.screenY-gl.screenY):hf=df=0,gl=e),df)},movementY:function(e){return"movementY"in e?e.movementY:hf}}),ub=cr(Dh),g_=Kt({},Dh,{dataTransfer:0}),y_=cr(g_),b_=Kt({},Mc,{relatedTarget:0}),ff=cr(b_),w_=Kt({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),v_=cr(w_),x_=Kt({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k_=cr(x_),S_=Kt({},Wo,{data:0}),db=cr(S_),__={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T_[e])?!!t[e]:!1}function Ng(){return C_}var A_=Kt({},Mc,{key:function(e){if(e.key){var t=__[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ng,charCode:function(e){return e.type==="keypress"?fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R_=cr(A_),I_=Kt({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hb=cr(I_),N_=Kt({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ng}),M_=cr(N_),O_=Kt({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),D_=cr(O_),L_=Kt({},Dh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P_=cr(L_),z_=[9,13,27,32],Mg=Ui&&"CompositionEvent"in window,zl=null;Ui&&"documentMode"in document&&(zl=document.documentMode);var F_=Ui&&"TextEvent"in window&&!zl,ux=Ui&&(!Mg||zl&&8<zl&&11>=zl),fb=String.fromCharCode(32),mb=!1;function dx(e,t){switch(e){case"keyup":return z_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var to=!1;function B_(e,t){switch(e){case"compositionend":return hx(t);case"keypress":return t.which!==32?null:(mb=!0,fb);case"textInput":return e=t.data,e===fb&&mb?null:e;default:return null}}function $_(e,t){if(to)return e==="compositionend"||!Mg&&dx(e,t)?(e=cx(),hd=Rg=pa=null,to=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ux&&t.locale!=="ko"?null:t.data;default:return null}}var U_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U_[e.type]:t==="textarea"}function fx(e,t,n,r){H2(r),t=qd(t,"onChange"),0<t.length&&(n=new Ig("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fl=null,rc=null;function j_(e){_x(e,0)}function Lh(e){var t=io(e);if(z2(t))return e}function q_(e,t){if(e==="change")return t}var mx=!1;if(Ui){var mf;if(Ui){var pf="oninput"in document;if(!pf){var gb=document.createElement("div");gb.setAttribute("oninput","return;"),pf=typeof gb.oninput=="function"}mf=pf}else mf=!1;mx=mf&&(!document.documentMode||9<document.documentMode)}function yb(){Fl&&(Fl.detachEvent("onpropertychange",px),rc=Fl=null)}function px(e){if(e.propertyName==="value"&&Lh(rc)){var t=[];fx(t,rc,e,_g(e)),Y2(j_,t)}}function H_(e,t,n){e==="focusin"?(yb(),Fl=t,rc=n,Fl.attachEvent("onpropertychange",px)):e==="focusout"&&yb()}function W_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lh(rc)}function X_(e,t){if(e==="click")return Lh(t)}function V_(e,t){if(e==="input"||e==="change")return Lh(t)}function Y_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vr=typeof Object.is=="function"?Object.is:Y_;function ic(e,t){if(Vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mm.call(t,i)||!Vr(e[i],t[i]))return!1}return!0}function bb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wb(e,t){var n=bb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bb(n)}}function gx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yx(){for(var e=window,t=Pd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pd(e.document)}return t}function Og(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function G_(e){var t=yx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gx(n.ownerDocument.documentElement,n)){if(r!==null&&Og(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=wb(n,a);var s=wb(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var K_=Ui&&"documentMode"in document&&11>=document.documentMode,no=null,Qm=null,Bl=null,Zm=!1;function vb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zm||no==null||no!==Pd(r)||(r=no,"selectionStart"in r&&Og(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bl&&ic(Bl,r)||(Bl=r,r=qd(Qm,"onSelect"),0<r.length&&(t=new Ig("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=no)))}function gu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ro={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},gf={},bx={};Ui&&(bx=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Ph(e){if(gf[e])return gf[e];if(!ro[e])return e;var t=ro[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bx)return gf[e]=t[n];return e}var wx=Ph("animationend"),vx=Ph("animationiteration"),xx=Ph("animationstart"),kx=Ph("transitionend"),Sx=new Map,xb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $a(e,t){Sx.set(e,t),As(t,[e])}for(var yf=0;yf<xb.length;yf++){var bf=xb[yf],Q_=bf.toLowerCase(),Z_=bf[0].toUpperCase()+bf.slice(1);$a(Q_,"on"+Z_)}$a(wx,"onAnimationEnd");$a(vx,"onAnimationIteration");$a(xx,"onAnimationStart");$a("dblclick","onDoubleClick");$a("focusin","onFocus");$a("focusout","onBlur");$a(kx,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function kb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,QS(r,t,void 0,e),e.currentTarget=null}function _x(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;kb(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;kb(i,o,c),a=l}}}if(Fd)throw e=Vm,Fd=!1,Vm=null,e}function Dt(e,t){var n=t[rp];n===void 0&&(n=t[rp]=new Set);var r=e+"__bubble";n.has(r)||(Ex(t,e,2,!1),n.add(r))}function wf(e,t,n){var r=0;t&&(r|=4),Ex(n,e,r,t)}var yu="_reactListening"+Math.random().toString(36).slice(2);function ac(e){if(!e[yu]){e[yu]=!0,M2.forEach(function(n){n!=="selectionchange"&&(J_.has(n)||wf(n,!1,e),wf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yu]||(t[yu]=!0,wf("selectionchange",!1,t))}}function Ex(e,t,n,r){switch(lx(t)){case 1:var i=f_;break;case 4:i=m_;break;default:i=Ag}n=i.bind(null,t,n,e),i=void 0,!Xm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vf(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=as(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}Y2(function(){var c=a,u=_g(n),d=[];e:{var f=Sx.get(e);if(f!==void 0){var h=Ig,g=e;switch(e){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":h=R_;break;case"focusin":g="focus",h=ff;break;case"focusout":g="blur",h=ff;break;case"beforeblur":case"afterblur":h=ff;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=M_;break;case wx:case vx:case xx:h=v_;break;case kx:h=D_;break;case"scroll":h=p_;break;case"wheel":h=P_;break;case"copy":case"cut":case"paste":h=k_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=hb}var p=(t&4)!==0,v=!p&&e==="scroll",b=p?f!==null?f+"Capture":null:f;p=[];for(var w=c,k;w!==null;){k=w;var T=k.stateNode;if(k.tag===5&&T!==null&&(k=T,b!==null&&(T=Jl(w,b),T!=null&&p.push(sc(w,T,k)))),v)break;w=w.return}0<p.length&&(f=new h(f,g,null,n,u),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Hm&&(g=n.relatedTarget||n.fromElement)&&(as(g)||g[ji]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?as(g):null,g!==null&&(v=Rs(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(p=ub,T="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=hb,T="onPointerLeave",b="onPointerEnter",w="pointer"),v=h==null?f:io(h),k=g==null?f:io(g),f=new p(T,w+"leave",h,n,u),f.target=v,f.relatedTarget=k,T=null,as(u)===c&&(p=new p(b,w+"enter",g,n,u),p.target=k,p.relatedTarget=v,T=p),v=T,h&&g)t:{for(p=h,b=g,w=0,k=p;k;k=Us(k))w++;for(k=0,T=b;T;T=Us(T))k++;for(;0<w-k;)p=Us(p),w--;for(;0<k-w;)b=Us(b),k--;for(;w--;){if(p===b||b!==null&&p===b.alternate)break t;p=Us(p),b=Us(b)}p=null}else p=null;h!==null&&Sb(d,f,h,p,!1),g!==null&&v!==null&&Sb(d,v,g,p,!0)}}e:{if(f=c?io(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var R=q_;else if(pb(f))if(mx)R=V_;else{R=W_;var x=H_}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=X_);if(R&&(R=R(e,c))){fx(d,R,n,u);break e}x&&x(e,f,c),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&Bm(f,"number",f.value)}switch(x=c?io(c):window,e){case"focusin":(pb(x)||x.contentEditable==="true")&&(no=x,Qm=c,Bl=null);break;case"focusout":Bl=Qm=no=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,vb(d,n,u);break;case"selectionchange":if(K_)break;case"keydown":case"keyup":vb(d,n,u)}var M;if(Mg)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else to?dx(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(ux&&n.locale!=="ko"&&(to||I!=="onCompositionStart"?I==="onCompositionEnd"&&to&&(M=cx()):(pa=u,Rg="value"in pa?pa.value:pa.textContent,to=!0)),x=qd(c,I),0<x.length&&(I=new db(I,e,null,n,u),d.push({event:I,listeners:x}),M?I.data=M:(M=hx(n),M!==null&&(I.data=M)))),(M=F_?B_(e,n):$_(e,n))&&(c=qd(c,"onBeforeInput"),0<c.length&&(u=new db("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=M))}_x(d,t)})}function sc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Jl(e,n),a!=null&&r.unshift(sc(e,a,i)),a=Jl(e,t),a!=null&&r.push(sc(e,a,i))),e=e.return}return r}function Us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sb(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Jl(n,a),l!=null&&s.unshift(sc(n,l,o))):i||(l=Jl(n,a),l!=null&&s.push(sc(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var e9=/\r\n?/g,t9=/\u0000|\uFFFD/g;function _b(e){return(typeof e=="string"?e:""+e).replace(e9,`
`).replace(t9,"")}function bu(e,t,n){if(t=_b(t),_b(e)!==t&&n)throw Error(re(425))}function Hd(){}var Jm=null,ep=null;function tp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,n9=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,r9=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(e){return Eb.resolve(null).then(e).catch(i9)}:np;function i9(e){setTimeout(function(){throw e})}function xf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),nc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nc(t)}function Ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),ri="__reactFiber$"+Xo,oc="__reactProps$"+Xo,ji="__reactContainer$"+Xo,rp="__reactEvents$"+Xo,a9="__reactListeners$"+Xo,s9="__reactHandles$"+Xo;function as(e){var t=e[ri];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ji]||n[ri]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tb(e);e!==null;){if(n=e[ri])return n;e=Tb(e)}return t}e=n,n=e.parentNode}return null}function Oc(e){return e=e[ri]||e[ji],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function io(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function zh(e){return e[oc]||null}var ip=[],ao=-1;function Ua(e){return{current:e}}function Lt(e){0>ao||(e.current=ip[ao],ip[ao]=null,ao--)}function Nt(e,t){ao++,ip[ao]=e.current,e.current=t}var Da={},Cn=Ua(Da),Vn=Ua(!1),ys=Da;function Mo(e,t){var n=e.type.contextTypes;if(!n)return Da;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yn(e){return e=e.childContextTypes,e!=null}function Wd(){Lt(Vn),Lt(Cn)}function Cb(e,t,n){if(Cn.current!==Da)throw Error(re(168));Nt(Cn,t),Nt(Vn,n)}function Tx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(re(108,HS(e)||"Unknown",i));return Kt({},n,r)}function Xd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Da,ys=Cn.current,Nt(Cn,e),Nt(Vn,Vn.current),!0}function Ab(e,t,n){var r=e.stateNode;if(!r)throw Error(re(169));n?(e=Tx(e,t,ys),r.__reactInternalMemoizedMergedChildContext=e,Lt(Vn),Lt(Cn),Nt(Cn,e)):Lt(Vn),Nt(Vn,n)}var Ci=null,Fh=!1,kf=!1;function Cx(e){Ci===null?Ci=[e]:Ci.push(e)}function o9(e){Fh=!0,Cx(e)}function ja(){if(!kf&&Ci!==null){kf=!0;var e=0,t=gt;try{var n=Ci;for(gt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ci=null,Fh=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(e+1)),Z2(Eg,ja),i}finally{gt=t,kf=!1}}return null}var so=[],oo=0,Vd=null,Yd=0,mr=[],pr=0,bs=null,Ri=1,Ii="";function Ja(e,t){so[oo++]=Yd,so[oo++]=Vd,Vd=e,Yd=t}function Ax(e,t,n){mr[pr++]=Ri,mr[pr++]=Ii,mr[pr++]=bs,bs=e;var r=Ri;e=Ii;var i=32-Hr(r)-1;r&=~(1<<i),n+=1;var a=32-Hr(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ri=1<<32-Hr(t)+i|n<<i|r,Ii=a+e}else Ri=1<<a|n<<i|r,Ii=e}function Dg(e){e.return!==null&&(Ja(e,1),Ax(e,1,0))}function Lg(e){for(;e===Vd;)Vd=so[--oo],so[oo]=null,Yd=so[--oo],so[oo]=null;for(;e===bs;)bs=mr[--pr],mr[pr]=null,Ii=mr[--pr],mr[pr]=null,Ri=mr[--pr],mr[pr]=null}var ar=null,ir=null,Ut=!1,$r=null;function Rx(e,t){var n=wr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ar=e,ir=Ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ar=e,ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bs!==null?{id:Ri,overflow:Ii}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ar=e,ir=null,!0):!1;default:return!1}}function ap(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sp(e){if(Ut){var t=ir;if(t){var n=t;if(!Rb(e,t)){if(ap(e))throw Error(re(418));t=Ea(n.nextSibling);var r=ar;t&&Rb(e,t)?Rx(r,n):(e.flags=e.flags&-4097|2,Ut=!1,ar=e)}}else{if(ap(e))throw Error(re(418));e.flags=e.flags&-4097|2,Ut=!1,ar=e}}}function Ib(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ar=e}function wu(e){if(e!==ar)return!1;if(!Ut)return Ib(e),Ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tp(e.type,e.memoizedProps)),t&&(t=ir)){if(ap(e))throw Ix(),Error(re(418));for(;t;)Rx(e,t),t=Ea(t.nextSibling)}if(Ib(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ir=Ea(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ir=null}}else ir=ar?Ea(e.stateNode.nextSibling):null;return!0}function Ix(){for(var e=ir;e;)e=Ea(e.nextSibling)}function Oo(){ir=ar=null,Ut=!1}function Pg(e){$r===null?$r=[e]:$r.push(e)}var l9=Gi.ReactCurrentBatchConfig;function yl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function vu(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nb(e){var t=e._init;return t(e._payload)}function Nx(e){function t(b,w){if(e){var k=b.deletions;k===null?(b.deletions=[w],b.flags|=16):k.push(w)}}function n(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=Ra(b,w),b.index=0,b.sibling=null,b}function a(b,w,k){return b.index=k,e?(k=b.alternate,k!==null?(k=k.index,k<w?(b.flags|=2,w):k):(b.flags|=2,w)):(b.flags|=1048576,w)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,w,k,T){return w===null||w.tag!==6?(w=Rf(k,b.mode,T),w.return=b,w):(w=i(w,k),w.return=b,w)}function l(b,w,k,T){var R=k.type;return R===eo?u(b,w,k.props.children,T,k.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===da&&Nb(R)===w.type)?(T=i(w,k.props),T.ref=yl(b,w,k),T.return=b,T):(T=vd(k.type,k.key,k.props,null,b.mode,T),T.ref=yl(b,w,k),T.return=b,T)}function c(b,w,k,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=If(k,b.mode,T),w.return=b,w):(w=i(w,k.children||[]),w.return=b,w)}function u(b,w,k,T,R){return w===null||w.tag!==7?(w=ms(k,b.mode,T,R),w.return=b,w):(w=i(w,k),w.return=b,w)}function d(b,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Rf(""+w,b.mode,k),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cu:return k=vd(w.type,w.key,w.props,null,b.mode,k),k.ref=yl(b,null,w),k.return=b,k;case Js:return w=If(w,b.mode,k),w.return=b,w;case da:var T=w._init;return d(b,T(w._payload),k)}if(Al(w)||hl(w))return w=ms(w,b.mode,k,null),w.return=b,w;vu(b,w)}return null}function f(b,w,k,T){var R=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return R!==null?null:o(b,w,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case cu:return k.key===R?l(b,w,k,T):null;case Js:return k.key===R?c(b,w,k,T):null;case da:return R=k._init,f(b,w,R(k._payload),T)}if(Al(k)||hl(k))return R!==null?null:u(b,w,k,T,null);vu(b,k)}return null}function h(b,w,k,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(k)||null,o(w,b,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case cu:return b=b.get(T.key===null?k:T.key)||null,l(w,b,T,R);case Js:return b=b.get(T.key===null?k:T.key)||null,c(w,b,T,R);case da:var x=T._init;return h(b,w,k,x(T._payload),R)}if(Al(T)||hl(T))return b=b.get(k)||null,u(w,b,T,R,null);vu(w,T)}return null}function g(b,w,k,T){for(var R=null,x=null,M=w,I=w=0,B=null;M!==null&&I<k.length;I++){M.index>I?(B=M,M=null):B=M.sibling;var D=f(b,M,k[I],T);if(D===null){M===null&&(M=B);break}e&&M&&D.alternate===null&&t(b,M),w=a(D,w,I),x===null?R=D:x.sibling=D,x=D,M=B}if(I===k.length)return n(b,M),Ut&&Ja(b,I),R;if(M===null){for(;I<k.length;I++)M=d(b,k[I],T),M!==null&&(w=a(M,w,I),x===null?R=M:x.sibling=M,x=M);return Ut&&Ja(b,I),R}for(M=r(b,M);I<k.length;I++)B=h(M,b,I,k[I],T),B!==null&&(e&&B.alternate!==null&&M.delete(B.key===null?I:B.key),w=a(B,w,I),x===null?R=B:x.sibling=B,x=B);return e&&M.forEach(function(Y){return t(b,Y)}),Ut&&Ja(b,I),R}function p(b,w,k,T){var R=hl(k);if(typeof R!="function")throw Error(re(150));if(k=R.call(k),k==null)throw Error(re(151));for(var x=R=null,M=w,I=w=0,B=null,D=k.next();M!==null&&!D.done;I++,D=k.next()){M.index>I?(B=M,M=null):B=M.sibling;var Y=f(b,M,D.value,T);if(Y===null){M===null&&(M=B);break}e&&M&&Y.alternate===null&&t(b,M),w=a(Y,w,I),x===null?R=Y:x.sibling=Y,x=Y,M=B}if(D.done)return n(b,M),Ut&&Ja(b,I),R;if(M===null){for(;!D.done;I++,D=k.next())D=d(b,D.value,T),D!==null&&(w=a(D,w,I),x===null?R=D:x.sibling=D,x=D);return Ut&&Ja(b,I),R}for(M=r(b,M);!D.done;I++,D=k.next())D=h(M,b,I,D.value,T),D!==null&&(e&&D.alternate!==null&&M.delete(D.key===null?I:D.key),w=a(D,w,I),x===null?R=D:x.sibling=D,x=D);return e&&M.forEach(function(X){return t(b,X)}),Ut&&Ja(b,I),R}function v(b,w,k,T){if(typeof k=="object"&&k!==null&&k.type===eo&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case cu:e:{for(var R=k.key,x=w;x!==null;){if(x.key===R){if(R=k.type,R===eo){if(x.tag===7){n(b,x.sibling),w=i(x,k.props.children),w.return=b,b=w;break e}}else if(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===da&&Nb(R)===x.type){n(b,x.sibling),w=i(x,k.props),w.ref=yl(b,x,k),w.return=b,b=w;break e}n(b,x);break}else t(b,x);x=x.sibling}k.type===eo?(w=ms(k.props.children,b.mode,T,k.key),w.return=b,b=w):(T=vd(k.type,k.key,k.props,null,b.mode,T),T.ref=yl(b,w,k),T.return=b,b=T)}return s(b);case Js:e:{for(x=k.key;w!==null;){if(w.key===x)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(b,w.sibling),w=i(w,k.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else t(b,w);w=w.sibling}w=If(k,b.mode,T),w.return=b,b=w}return s(b);case da:return x=k._init,v(b,w,x(k._payload),T)}if(Al(k))return g(b,w,k,T);if(hl(k))return p(b,w,k,T);vu(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,k),w.return=b,b=w):(n(b,w),w=Rf(k,b.mode,T),w.return=b,b=w),s(b)):n(b,w)}return v}var Do=Nx(!0),Mx=Nx(!1),Gd=Ua(null),Kd=null,lo=null,zg=null;function Fg(){zg=lo=Kd=null}function Bg(e){var t=Gd.current;Lt(Gd),e._currentValue=t}function op(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){Kd=e,zg=lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wn=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(zg!==e)if(e={context:e,memoizedValue:t,next:null},lo===null){if(Kd===null)throw Error(re(308));lo=e,Kd.dependencies={lanes:0,firstContext:e}}else lo=lo.next=e;return t}var ss=null;function $g(e){ss===null?ss=[e]:ss.push(e)}function Ox(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,$g(t)):(n.next=i.next,i.next=n),t.interleaved=n,qi(e,r)}function qi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ha=!1;function Ug(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ta(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qi(e,n)}return i=r.interleaved,i===null?(t.next=t,$g(r)):(t.next=i.next,i.next=t),r.interleaved=t,qi(e,n)}function md(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tg(e,n)}}function Mb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qd(e,t,n,r){var i=e.updateQueue;ha=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,u=c=l=null,o=a;do{var f=o.lane,h=o.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,p=o;switch(f=t,h=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=Kt({},d,f);break e;case 2:ha=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);vs|=s,e.lanes=s,e.memoizedState=d}}function Ob(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var Dc={},oi=Ua(Dc),lc=Ua(Dc),cc=Ua(Dc);function os(e){if(e===Dc)throw Error(re(174));return e}function jg(e,t){switch(Nt(cc,t),Nt(lc,e),Nt(oi,Dc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Um(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Um(t,e)}Lt(oi),Nt(oi,t)}function Lo(){Lt(oi),Lt(lc),Lt(cc)}function Lx(e){os(cc.current);var t=os(oi.current),n=Um(t,e.type);t!==n&&(Nt(lc,e),Nt(oi,n))}function qg(e){lc.current===e&&(Lt(oi),Lt(lc))}var Wt=Ua(0);function Zd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sf=[];function Hg(){for(var e=0;e<Sf.length;e++)Sf[e]._workInProgressVersionPrimary=null;Sf.length=0}var pd=Gi.ReactCurrentDispatcher,_f=Gi.ReactCurrentBatchConfig,ws=0,Yt=null,un=null,mn=null,Jd=!1,$l=!1,uc=0,c9=0;function xn(){throw Error(re(321))}function Wg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vr(e[n],t[n]))return!1;return!0}function Xg(e,t,n,r,i,a){if(ws=a,Yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pd.current=e===null||e.memoizedState===null?f9:m9,e=n(r,i),$l){a=0;do{if($l=!1,uc=0,25<=a)throw Error(re(301));a+=1,mn=un=null,t.updateQueue=null,pd.current=p9,e=n(r,i)}while($l)}if(pd.current=eh,t=un!==null&&un.next!==null,ws=0,mn=un=Yt=null,Jd=!1,t)throw Error(re(300));return e}function Vg(){var e=uc!==0;return uc=0,e}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Yt.memoizedState=mn=e:mn=mn.next=e,mn}function Er(){if(un===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=un.next;var t=mn===null?Yt.memoizedState:mn.next;if(t!==null)mn=t,un=e;else{if(e===null)throw Error(re(310));un=e,e={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},mn===null?Yt.memoizedState=mn=e:mn=mn.next=e}return mn}function dc(e,t){return typeof t=="function"?t(e):t}function Ef(e){var t=Er(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=un,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((ws&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,Yt.lanes|=u,vs|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,Vr(r,t.memoizedState)||(Wn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Yt.lanes|=a,vs|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tf(e){var t=Er(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Vr(a,t.memoizedState)||(Wn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Px(){}function zx(e,t){var n=Yt,r=Er(),i=t(),a=!Vr(r.memoizedState,i);if(a&&(r.memoizedState=i,Wn=!0),r=r.queue,Yg($x.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,hc(9,Bx.bind(null,n,r,i,t),void 0,null),pn===null)throw Error(re(349));ws&30||Fx(n,t,i)}return i}function Fx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bx(e,t,n,r){t.value=n,t.getSnapshot=r,Ux(t)&&jx(e)}function $x(e,t,n){return n(function(){Ux(t)&&jx(e)})}function Ux(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vr(e,n)}catch{return!0}}function jx(e){var t=qi(e,1);t!==null&&Wr(t,e,1,-1)}function Db(e){var t=ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:e},t.queue=e,e=e.dispatch=h9.bind(null,Yt,e),[t.memoizedState,e]}function hc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qx(){return Er().memoizedState}function gd(e,t,n,r){var i=ei();Yt.flags|=e,i.memoizedState=hc(1|t,n,void 0,r===void 0?null:r)}function Bh(e,t,n,r){var i=Er();r=r===void 0?null:r;var a=void 0;if(un!==null){var s=un.memoizedState;if(a=s.destroy,r!==null&&Wg(r,s.deps)){i.memoizedState=hc(t,n,a,r);return}}Yt.flags|=e,i.memoizedState=hc(1|t,n,a,r)}function Lb(e,t){return gd(8390656,8,e,t)}function Yg(e,t){return Bh(2048,8,e,t)}function Hx(e,t){return Bh(4,2,e,t)}function Wx(e,t){return Bh(4,4,e,t)}function Xx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vx(e,t,n){return n=n!=null?n.concat([e]):null,Bh(4,4,Xx.bind(null,t,e),n)}function Gg(){}function Yx(e,t){var n=Er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gx(e,t){var n=Er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kx(e,t,n){return ws&21?(Vr(n,t)||(n=tx(),Yt.lanes|=n,vs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wn=!0),e.memoizedState=n)}function u9(e,t){var n=gt;gt=n!==0&&4>n?n:4,e(!0);var r=_f.transition;_f.transition={};try{e(!1),t()}finally{gt=n,_f.transition=r}}function Qx(){return Er().memoizedState}function d9(e,t,n){var r=Aa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zx(e))Jx(t,n);else if(n=Ox(e,t,n,r),n!==null){var i=On();Wr(n,e,r,i),e3(n,t,r)}}function h9(e,t,n){var r=Aa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zx(e))Jx(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Vr(o,s)){var l=t.interleaved;l===null?(i.next=i,$g(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Ox(e,t,i,r),n!==null&&(i=On(),Wr(n,e,r,i),e3(n,t,r))}}function Zx(e){var t=e.alternate;return e===Yt||t!==null&&t===Yt}function Jx(e,t){$l=Jd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function e3(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tg(e,n)}}var eh={readContext:_r,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},f9={readContext:_r,useCallback:function(e,t){return ei().memoizedState=[e,t===void 0?null:t],e},useContext:_r,useEffect:Lb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gd(4194308,4,Xx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gd(4194308,4,e,t)},useInsertionEffect:function(e,t){return gd(4,2,e,t)},useMemo:function(e,t){var n=ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d9.bind(null,Yt,e),[r.memoizedState,e]},useRef:function(e){var t=ei();return e={current:e},t.memoizedState=e},useState:Db,useDebugValue:Gg,useDeferredValue:function(e){return ei().memoizedState=e},useTransition:function(){var e=Db(!1),t=e[0];return e=u9.bind(null,e[1]),ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Yt,i=ei();if(Ut){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),pn===null)throw Error(re(349));ws&30||Fx(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Lb($x.bind(null,r,a,e),[e]),r.flags|=2048,hc(9,Bx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ei(),t=pn.identifierPrefix;if(Ut){var n=Ii,r=Ri;n=(r&~(1<<32-Hr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c9++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m9={readContext:_r,useCallback:Yx,useContext:_r,useEffect:Yg,useImperativeHandle:Vx,useInsertionEffect:Hx,useLayoutEffect:Wx,useMemo:Gx,useReducer:Ef,useRef:qx,useState:function(){return Ef(dc)},useDebugValue:Gg,useDeferredValue:function(e){var t=Er();return Kx(t,un.memoizedState,e)},useTransition:function(){var e=Ef(dc)[0],t=Er().memoizedState;return[e,t]},useMutableSource:Px,useSyncExternalStore:zx,useId:Qx,unstable_isNewReconciler:!1},p9={readContext:_r,useCallback:Yx,useContext:_r,useEffect:Yg,useImperativeHandle:Vx,useInsertionEffect:Hx,useLayoutEffect:Wx,useMemo:Gx,useReducer:Tf,useRef:qx,useState:function(){return Tf(dc)},useDebugValue:Gg,useDeferredValue:function(e){var t=Er();return un===null?t.memoizedState=e:Kx(t,un.memoizedState,e)},useTransition:function(){var e=Tf(dc)[0],t=Er().memoizedState;return[e,t]},useMutableSource:Px,useSyncExternalStore:zx,useId:Qx,unstable_isNewReconciler:!1};function Pr(e,t){if(e&&e.defaultProps){t=Kt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function lp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Kt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $h={isMounted:function(e){return(e=e._reactInternals)?Rs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=On(),i=Aa(e),a=Di(r,i);a.payload=t,n!=null&&(a.callback=n),t=Ta(e,a,i),t!==null&&(Wr(t,e,i,r),md(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=On(),i=Aa(e),a=Di(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ta(e,a,i),t!==null&&(Wr(t,e,i,r),md(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=On(),r=Aa(e),i=Di(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ta(e,i,r),t!==null&&(Wr(t,e,r,n),md(t,e,r))}};function Pb(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!ic(n,r)||!ic(i,a):!0}function t3(e,t,n){var r=!1,i=Da,a=t.contextType;return typeof a=="object"&&a!==null?a=_r(a):(i=Yn(t)?ys:Cn.current,r=t.contextTypes,a=(r=r!=null)?Mo(e,i):Da),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$h,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function zb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$h.enqueueReplaceState(t,t.state,null)}function cp(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ug(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=_r(a):(a=Yn(t)?ys:Cn.current,i.context=Mo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(lp(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$h.enqueueReplaceState(i,i.state,null),Qd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Po(e,t){try{var n="",r=t;do n+=qS(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Cf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function up(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var g9=typeof WeakMap=="function"?WeakMap:Map;function n3(e,t,n){n=Di(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nh||(nh=!0,vp=r),up(e,t)},n}function r3(e,t,n){n=Di(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){up(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){up(e,t),typeof r!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Fb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new g9;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=I9.bind(null,e,t,n),t.then(e,e))}function Bb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $b(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Di(-1,1),t.tag=2,Ta(n,t,1))),n.lanes|=1),e)}var y9=Gi.ReactCurrentOwner,Wn=!1;function Rn(e,t,n,r){t.child=e===null?Mx(t,null,n,r):Do(t,e.child,n,r)}function Ub(e,t,n,r,i){n=n.render;var a=t.ref;return ko(t,i),r=Xg(e,t,n,r,a,i),n=Vg(),e!==null&&!Wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hi(e,t,i)):(Ut&&n&&Dg(t),t.flags|=1,Rn(e,t,r,i),t.child)}function jb(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!r1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,i3(e,t,a,r,i)):(e=vd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:ic,n(s,r)&&e.ref===t.ref)return Hi(e,t,i)}return t.flags|=1,e=Ra(a,r),e.ref=t.ref,e.return=t,t.child=e}function i3(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(ic(a,r)&&e.ref===t.ref)if(Wn=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Wn=!0);else return t.lanes=e.lanes,Hi(e,t,i)}return dp(e,t,n,r,i)}function a3(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(uo,er),er|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nt(uo,er),er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Nt(uo,er),er|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Nt(uo,er),er|=r;return Rn(e,t,i,n),t.child}function s3(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dp(e,t,n,r,i){var a=Yn(n)?ys:Cn.current;return a=Mo(t,a),ko(t,i),n=Xg(e,t,n,r,a,i),r=Vg(),e!==null&&!Wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hi(e,t,i)):(Ut&&r&&Dg(t),t.flags|=1,Rn(e,t,n,i),t.child)}function qb(e,t,n,r,i){if(Yn(n)){var a=!0;Xd(t)}else a=!1;if(ko(t,i),t.stateNode===null)yd(e,t),t3(t,n,r),cp(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=_r(c):(c=Yn(n)?ys:Cn.current,c=Mo(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&zb(t,s,r,c),ha=!1;var f=t.memoizedState;s.state=f,Qd(t,r,s,i),l=t.memoizedState,o!==r||f!==l||Vn.current||ha?(typeof u=="function"&&(lp(t,n,u,r),l=t.memoizedState),(o=ha||Pb(t,n,o,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Dx(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Pr(t.type,o),s.props=c,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=_r(l):(l=Yn(n)?ys:Cn.current,l=Mo(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||f!==l)&&zb(t,s,r,l),ha=!1,f=t.memoizedState,s.state=f,Qd(t,r,s,i);var g=t.memoizedState;o!==d||f!==g||Vn.current||ha?(typeof h=="function"&&(lp(t,n,h,r),g=t.memoizedState),(c=ha||Pb(t,n,c,r,f,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return hp(e,t,n,r,a,i)}function hp(e,t,n,r,i,a){s3(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Ab(t,n,!1),Hi(e,t,a);r=t.stateNode,y9.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Do(t,e.child,null,a),t.child=Do(t,null,o,a)):Rn(e,t,o,a),t.memoizedState=r.state,i&&Ab(t,n,!0),t.child}function o3(e){var t=e.stateNode;t.pendingContext?Cb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cb(e,t.context,!1),jg(e,t.containerInfo)}function Hb(e,t,n,r,i){return Oo(),Pg(i),t.flags|=256,Rn(e,t,n,r),t.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function mp(e){return{baseLanes:e,cachePool:null,transitions:null}}function l3(e,t,n){var r=t.pendingProps,i=Wt.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Nt(Wt,i&1),e===null)return sp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=qh(s,r,0,null),e=ms(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=mp(n),t.memoizedState=fp,e):Kg(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return b9(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ra(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ra(o,a):(a=ms(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?mp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=fp,r}return a=e.child,e=a.sibling,r=Ra(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kg(e,t){return t=qh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xu(e,t,n,r){return r!==null&&Pg(r),Do(t,e.child,null,n),e=Kg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function b9(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Cf(Error(re(422))),xu(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=qh({mode:"visible",children:r.children},i,0,null),a=ms(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Do(t,e.child,null,s),t.child.memoizedState=mp(s),t.memoizedState=fp,a);if(!(t.mode&1))return xu(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(re(419)),r=Cf(a,r,void 0),xu(e,t,s,r)}if(o=(s&e.childLanes)!==0,Wn||o){if(r=pn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,qi(e,i),Wr(r,e,i,-1))}return n1(),r=Cf(Error(re(421))),xu(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=N9.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ir=Ea(i.nextSibling),ar=t,Ut=!0,$r=null,e!==null&&(mr[pr++]=Ri,mr[pr++]=Ii,mr[pr++]=bs,Ri=e.id,Ii=e.overflow,bs=t),t=Kg(t,r.children),t.flags|=4096,t)}function Wb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),op(e.return,t,n)}function Af(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function c3(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Rn(e,t,r.children,n),r=Wt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wb(e,n,t);else if(e.tag===19)Wb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Nt(Wt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Zd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Af(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Af(t,!0,n,null,a);break;case"together":Af(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=Ra(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ra(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function w9(e,t,n){switch(t.tag){case 3:o3(t),Oo();break;case 5:Lx(t);break;case 1:Yn(t.type)&&Xd(t);break;case 4:jg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Nt(Gd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Nt(Wt,Wt.current&1),t.flags|=128,null):n&t.child.childLanes?l3(e,t,n):(Nt(Wt,Wt.current&1),e=Hi(e,t,n),e!==null?e.sibling:null);Nt(Wt,Wt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return c3(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nt(Wt,Wt.current),r)break;return null;case 22:case 23:return t.lanes=0,a3(e,t,n)}return Hi(e,t,n)}var u3,pp,d3,h3;u3=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pp=function(){};d3=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,os(oi.current);var a=null;switch(n){case"input":i=zm(e,i),r=zm(e,r),a=[];break;case"select":i=Kt({},i,{value:void 0}),r=Kt({},r,{value:void 0}),a=[];break;case"textarea":i=$m(e,i),r=$m(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hd)}jm(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ql.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Dt("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};h3=function(e,t,n,r){n!==r&&(t.flags|=4)};function bl(e,t){if(!Ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function v9(e,t,n){var r=t.pendingProps;switch(Lg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(t),null;case 1:return Yn(t.type)&&Wd(),kn(t),null;case 3:return r=t.stateNode,Lo(),Lt(Vn),Lt(Cn),Hg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$r!==null&&(Sp($r),$r=null))),pp(e,t),kn(t),null;case 5:qg(t);var i=os(cc.current);if(n=t.type,e!==null&&t.stateNode!=null)d3(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(re(166));return kn(t),null}if(e=os(oi.current),wu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ri]=t,r[oc]=a,e=(t.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(i=0;i<Il.length;i++)Dt(Il[i],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":eb(r,a),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Dt("invalid",r);break;case"textarea":nb(r,a),Dt("invalid",r)}jm(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&bu(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&bu(r.textContent,o,e),i=["children",""+o]):Ql.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Dt("scroll",r)}switch(n){case"input":uu(r),tb(r,a,!0);break;case"textarea":uu(r),rb(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Hd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ri]=t,e[oc]=r,u3(e,t,!1,!1),t.stateNode=e;e:{switch(s=qm(n,r),n){case"dialog":Dt("cancel",e),Dt("close",e),i=r;break;case"iframe":case"object":case"embed":Dt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Il.length;i++)Dt(Il[i],e);i=r;break;case"source":Dt("error",e),i=r;break;case"img":case"image":case"link":Dt("error",e),Dt("load",e),i=r;break;case"details":Dt("toggle",e),i=r;break;case"input":eb(e,r),i=zm(e,r),Dt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Kt({},r,{value:void 0}),Dt("invalid",e);break;case"textarea":nb(e,r),i=$m(e,r),Dt("invalid",e);break;default:i=r}jm(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?q2(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U2(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zl(e,l):typeof l=="number"&&Zl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ql.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Dt("scroll",e):l!=null&&vg(e,a,l,s))}switch(n){case"input":uu(e),tb(e,r,!1);break;case"textarea":uu(e),rb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Oa(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?bo(e,!!r.multiple,a,!1):r.defaultValue!=null&&bo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Hd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kn(t),null;case 6:if(e&&t.stateNode!=null)h3(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(re(166));if(n=os(cc.current),os(oi.current),wu(t)){if(r=t.stateNode,n=t.memoizedProps,r[ri]=t,(a=r.nodeValue!==n)&&(e=ar,e!==null))switch(e.tag){case 3:bu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ri]=t,t.stateNode=r}return kn(t),null;case 13:if(Lt(Wt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ut&&ir!==null&&t.mode&1&&!(t.flags&128))Ix(),Oo(),t.flags|=98560,a=!1;else if(a=wu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(re(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[ri]=t}else Oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kn(t),a=!1}else $r!==null&&(Sp($r),$r=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Wt.current&1?dn===0&&(dn=3):n1())),t.updateQueue!==null&&(t.flags|=4),kn(t),null);case 4:return Lo(),pp(e,t),e===null&&ac(t.stateNode.containerInfo),kn(t),null;case 10:return Bg(t.type._context),kn(t),null;case 17:return Yn(t.type)&&Wd(),kn(t),null;case 19:if(Lt(Wt),a=t.memoizedState,a===null)return kn(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)bl(a,!1);else{if(dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Zd(e),s!==null){for(t.flags|=128,bl(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nt(Wt,Wt.current&1|2),t.child}e=e.sibling}a.tail!==null&&rn()>zo&&(t.flags|=128,r=!0,bl(a,!1),t.lanes=4194304)}else{if(!r)if(e=Zd(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ut)return kn(t),null}else 2*rn()-a.renderingStartTime>zo&&n!==1073741824&&(t.flags|=128,r=!0,bl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=rn(),t.sibling=null,n=Wt.current,Nt(Wt,r?n&1|2:n&1),t):(kn(t),null);case 22:case 23:return t1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?er&1073741824&&(kn(t),t.subtreeFlags&6&&(t.flags|=8192)):kn(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function x9(e,t){switch(Lg(t),t.tag){case 1:return Yn(t.type)&&Wd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lo(),Lt(Vn),Lt(Cn),Hg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qg(t),null;case 13:if(Lt(Wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(Wt),null;case 4:return Lo(),null;case 10:return Bg(t.type._context),null;case 22:case 23:return t1(),null;case 24:return null;default:return null}}var ku=!1,Sn=!1,k9=typeof WeakSet=="function"?WeakSet:Set,be=null;function co(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){en(e,t,r)}else n.current=null}function gp(e,t,n){try{n()}catch(r){en(e,t,r)}}var Xb=!1;function S9(e,t){if(Jm=Ud,e=yx(),Og(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=s+i),d!==a||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++c===i&&(o=s),f===a&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ep={focusedElem:e,selectionRange:n},Ud=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Pr(t.type,p),v);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(T){en(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return g=Xb,Xb=!1,g}function Ul(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&gp(t,n,a)}i=i.next}while(i!==r)}}function Uh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function yp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function f3(e){var t=e.alternate;t!==null&&(e.alternate=null,f3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ri],delete t[oc],delete t[rp],delete t[a9],delete t[s9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function m3(e){return e.tag===5||e.tag===3||e.tag===4}function Vb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||m3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hd));else if(r!==4&&(e=e.child,e!==null))for(bp(e,t,n),e=e.sibling;e!==null;)bp(e,t,n),e=e.sibling}function wp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wp(e,t,n),e=e.sibling;e!==null;)wp(e,t,n),e=e.sibling}var bn=null,zr=!1;function aa(e,t,n){for(n=n.child;n!==null;)p3(e,t,n),n=n.sibling}function p3(e,t,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Oh,n)}catch{}switch(n.tag){case 5:Sn||co(n,t);case 6:var r=bn,i=zr;bn=null,aa(e,t,n),bn=r,zr=i,bn!==null&&(zr?(e=bn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bn.removeChild(n.stateNode));break;case 18:bn!==null&&(zr?(e=bn,n=n.stateNode,e.nodeType===8?xf(e.parentNode,n):e.nodeType===1&&xf(e,n),nc(e)):xf(bn,n.stateNode));break;case 4:r=bn,i=zr,bn=n.stateNode.containerInfo,zr=!0,aa(e,t,n),bn=r,zr=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&gp(n,t,s),i=i.next}while(i!==r)}aa(e,t,n);break;case 1:if(!Sn&&(co(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){en(n,t,o)}aa(e,t,n);break;case 21:aa(e,t,n);break;case 22:n.mode&1?(Sn=(r=Sn)||n.memoizedState!==null,aa(e,t,n),Sn=r):aa(e,t,n);break;default:aa(e,t,n)}}function Yb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new k9),t.forEach(function(r){var i=M9.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:bn=o.stateNode,zr=!1;break e;case 3:bn=o.stateNode.containerInfo,zr=!0;break e;case 4:bn=o.stateNode.containerInfo,zr=!0;break e}o=o.return}if(bn===null)throw Error(re(160));p3(a,s,i),bn=null,zr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){en(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)g3(t,e),t=t.sibling}function g3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dr(t,e),Jr(e),r&4){try{Ul(3,e,e.return),Uh(3,e)}catch(p){en(e,e.return,p)}try{Ul(5,e,e.return)}catch(p){en(e,e.return,p)}}break;case 1:Dr(t,e),Jr(e),r&512&&n!==null&&co(n,n.return);break;case 5:if(Dr(t,e),Jr(e),r&512&&n!==null&&co(n,n.return),e.flags&32){var i=e.stateNode;try{Zl(i,"")}catch(p){en(e,e.return,p)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&F2(i,a),qm(o,s);var c=qm(o,a);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?q2(i,d):u==="dangerouslySetInnerHTML"?U2(i,d):u==="children"?Zl(i,d):vg(i,u,d,c)}switch(o){case"input":Fm(i,a);break;case"textarea":B2(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?bo(i,!!a.multiple,h,!1):f!==!!a.multiple&&(a.defaultValue!=null?bo(i,!!a.multiple,a.defaultValue,!0):bo(i,!!a.multiple,a.multiple?[]:"",!1))}i[oc]=a}catch(p){en(e,e.return,p)}}break;case 6:if(Dr(t,e),Jr(e),r&4){if(e.stateNode===null)throw Error(re(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){en(e,e.return,p)}}break;case 3:if(Dr(t,e),Jr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nc(t.containerInfo)}catch(p){en(e,e.return,p)}break;case 4:Dr(t,e),Jr(e);break;case 13:Dr(t,e),Jr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Jg=rn())),r&4&&Yb(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Sn=(c=Sn)||u,Dr(t,e),Sn=c):Dr(t,e),Jr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(d=be=u;be!==null;){switch(f=be,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ul(4,f,f.return);break;case 1:co(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){en(r,n,p)}}break;case 5:co(f,f.return);break;case 22:if(f.memoizedState!==null){Kb(d);continue}}h!==null?(h.return=f,be=h):Kb(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=j2("display",s))}catch(p){en(e,e.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){en(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dr(t,e),Jr(e),r&4&&Yb(e);break;case 21:break;default:Dr(t,e),Jr(e)}}function Jr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(m3(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zl(i,""),r.flags&=-33);var a=Vb(e);wp(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=Vb(e);bp(e,o,s);break;default:throw Error(re(161))}}catch(l){en(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _9(e,t,n){be=e,y3(e)}function y3(e,t,n){for(var r=(e.mode&1)!==0;be!==null;){var i=be,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ku;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Sn;o=ku;var c=Sn;if(ku=s,(Sn=l)&&!c)for(be=i;be!==null;)s=be,l=s.child,s.tag===22&&s.memoizedState!==null?Qb(i):l!==null?(l.return=s,be=l):Qb(i);for(;a!==null;)be=a,y3(a),a=a.sibling;be=i,ku=o,Sn=c}Gb(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,be=a):Gb(e)}}function Gb(e){for(;be!==null;){var t=be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sn||Uh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Sn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Pr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ob(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ob(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&nc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Sn||t.flags&512&&yp(t)}catch(f){en(t,t.return,f)}}if(t===e){be=null;break}if(n=t.sibling,n!==null){n.return=t.return,be=n;break}be=t.return}}function Kb(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,be=n;break}be=t.return}}function Qb(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uh(4,t)}catch(l){en(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){en(t,i,l)}}var a=t.return;try{yp(t)}catch(l){en(t,a,l)}break;case 5:var s=t.return;try{yp(t)}catch(l){en(t,s,l)}}}catch(l){en(t,t.return,l)}if(t===e){be=null;break}var o=t.sibling;if(o!==null){o.return=t.return,be=o;break}be=t.return}}var E9=Math.ceil,th=Gi.ReactCurrentDispatcher,Qg=Gi.ReactCurrentOwner,xr=Gi.ReactCurrentBatchConfig,st=0,pn=null,ln=null,wn=0,er=0,uo=Ua(0),dn=0,fc=null,vs=0,jh=0,Zg=0,jl=null,qn=null,Jg=0,zo=1/0,Ei=null,nh=!1,vp=null,Ca=null,Su=!1,ga=null,rh=0,ql=0,xp=null,bd=-1,wd=0;function On(){return st&6?rn():bd!==-1?bd:bd=rn()}function Aa(e){return e.mode&1?st&2&&wn!==0?wn&-wn:l9.transition!==null?(wd===0&&(wd=tx()),wd):(e=gt,e!==0||(e=window.event,e=e===void 0?16:lx(e.type)),e):1}function Wr(e,t,n,r){if(50<ql)throw ql=0,xp=null,Error(re(185));Nc(e,n,r),(!(st&2)||e!==pn)&&(e===pn&&(!(st&2)&&(jh|=n),dn===4&&ma(e,wn)),Gn(e,r),n===1&&st===0&&!(t.mode&1)&&(zo=rn()+500,Fh&&ja()))}function Gn(e,t){var n=e.callbackNode;l_(e,t);var r=$d(e,e===pn?wn:0);if(r===0)n!==null&&sb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sb(n),t===1)e.tag===0?o9(Zb.bind(null,e)):Cx(Zb.bind(null,e)),r9(function(){!(st&6)&&ja()}),n=null;else{switch(nx(r)){case 1:n=Eg;break;case 4:n=J2;break;case 16:n=Bd;break;case 536870912:n=ex;break;default:n=Bd}n=E3(n,b3.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function b3(e,t){if(bd=-1,wd=0,st&6)throw Error(re(327));var n=e.callbackNode;if(So()&&e.callbackNode!==n)return null;var r=$d(e,e===pn?wn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ih(e,r);else{t=r;var i=st;st|=2;var a=v3();(pn!==e||wn!==t)&&(Ei=null,zo=rn()+500,fs(e,t));do try{A9();break}catch(o){w3(e,o)}while(1);Fg(),th.current=a,st=i,ln!==null?t=0:(pn=null,wn=0,t=dn)}if(t!==0){if(t===2&&(i=Ym(e),i!==0&&(r=i,t=kp(e,i))),t===1)throw n=fc,fs(e,0),ma(e,r),Gn(e,rn()),n;if(t===6)ma(e,r);else{if(i=e.current.alternate,!(r&30)&&!T9(i)&&(t=ih(e,r),t===2&&(a=Ym(e),a!==0&&(r=a,t=kp(e,a))),t===1))throw n=fc,fs(e,0),ma(e,r),Gn(e,rn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(re(345));case 2:es(e,qn,Ei);break;case 3:if(ma(e,r),(r&130023424)===r&&(t=Jg+500-rn(),10<t)){if($d(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){On(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=np(es.bind(null,e,qn,Ei),t);break}es(e,qn,Ei);break;case 4:if(ma(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Hr(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E9(r/1960))-r,10<r){e.timeoutHandle=np(es.bind(null,e,qn,Ei),r);break}es(e,qn,Ei);break;case 5:es(e,qn,Ei);break;default:throw Error(re(329))}}}return Gn(e,rn()),e.callbackNode===n?b3.bind(null,e):null}function kp(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(fs(e,t).flags|=256),e=ih(e,t),e!==2&&(t=qn,qn=n,t!==null&&Sp(t)),e}function Sp(e){qn===null?qn=e:qn.push.apply(qn,e)}function T9(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Vr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ma(e,t){for(t&=~Zg,t&=~jh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Hr(t),r=1<<n;e[n]=-1,t&=~r}}function Zb(e){if(st&6)throw Error(re(327));So();var t=$d(e,0);if(!(t&1))return Gn(e,rn()),null;var n=ih(e,t);if(e.tag!==0&&n===2){var r=Ym(e);r!==0&&(t=r,n=kp(e,r))}if(n===1)throw n=fc,fs(e,0),ma(e,t),Gn(e,rn()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,es(e,qn,Ei),Gn(e,rn()),null}function e1(e,t){var n=st;st|=1;try{return e(t)}finally{st=n,st===0&&(zo=rn()+500,Fh&&ja())}}function xs(e){ga!==null&&ga.tag===0&&!(st&6)&&So();var t=st;st|=1;var n=xr.transition,r=gt;try{if(xr.transition=null,gt=1,e)return e()}finally{gt=r,xr.transition=n,st=t,!(st&6)&&ja()}}function t1(){er=uo.current,Lt(uo)}function fs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,n9(n)),ln!==null)for(n=ln.return;n!==null;){var r=n;switch(Lg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wd();break;case 3:Lo(),Lt(Vn),Lt(Cn),Hg();break;case 5:qg(r);break;case 4:Lo();break;case 13:Lt(Wt);break;case 19:Lt(Wt);break;case 10:Bg(r.type._context);break;case 22:case 23:t1()}n=n.return}if(pn=e,ln=e=Ra(e.current,null),wn=er=t,dn=0,fc=null,Zg=jh=vs=0,qn=jl=null,ss!==null){for(t=0;t<ss.length;t++)if(n=ss[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}ss=null}return e}function w3(e,t){do{var n=ln;try{if(Fg(),pd.current=eh,Jd){for(var r=Yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jd=!1}if(ws=0,mn=un=Yt=null,$l=!1,uc=0,Qg.current=null,n===null||n.return===null){dn=1,fc=t,ln=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=wn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Bb(s);if(h!==null){h.flags&=-257,$b(h,s,o,a,t),h.mode&1&&Fb(a,c,t),t=h,l=c;var g=t.updateQueue;if(g===null){var p=new Set;p.add(l),t.updateQueue=p}else g.add(l);break e}else{if(!(t&1)){Fb(a,c,t),n1();break e}l=Error(re(426))}}else if(Ut&&o.mode&1){var v=Bb(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),$b(v,s,o,a,t),Pg(Po(l,o));break e}}a=l=Po(l,o),dn!==4&&(dn=2),jl===null?jl=[a]:jl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=n3(a,l,t);Mb(a,b);break e;case 1:o=l;var w=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Ca===null||!Ca.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t;var T=r3(a,o,t);Mb(a,T);break e}}a=a.return}while(a!==null)}k3(n)}catch(R){t=R,ln===n&&n!==null&&(ln=n=n.return);continue}break}while(1)}function v3(){var e=th.current;return th.current=eh,e===null?eh:e}function n1(){(dn===0||dn===3||dn===2)&&(dn=4),pn===null||!(vs&268435455)&&!(jh&268435455)||ma(pn,wn)}function ih(e,t){var n=st;st|=2;var r=v3();(pn!==e||wn!==t)&&(Ei=null,fs(e,t));do try{C9();break}catch(i){w3(e,i)}while(1);if(Fg(),st=n,th.current=r,ln!==null)throw Error(re(261));return pn=null,wn=0,dn}function C9(){for(;ln!==null;)x3(ln)}function A9(){for(;ln!==null&&!JS();)x3(ln)}function x3(e){var t=_3(e.alternate,e,er);e.memoizedProps=e.pendingProps,t===null?k3(e):ln=t,Qg.current=null}function k3(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=x9(n,t),n!==null){n.flags&=32767,ln=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dn=6,ln=null;return}}else if(n=v9(n,t,er),n!==null){ln=n;return}if(t=t.sibling,t!==null){ln=t;return}ln=t=e}while(t!==null);dn===0&&(dn=5)}function es(e,t,n){var r=gt,i=xr.transition;try{xr.transition=null,gt=1,R9(e,t,n,r)}finally{xr.transition=i,gt=r}return null}function R9(e,t,n,r){do So();while(ga!==null);if(st&6)throw Error(re(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(c_(e,a),e===pn&&(ln=pn=null,wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Su||(Su=!0,E3(Bd,function(){return So(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=xr.transition,xr.transition=null;var s=gt;gt=1;var o=st;st|=4,Qg.current=null,S9(e,n),g3(n,e),G_(ep),Ud=!!Jm,ep=Jm=null,e.current=n,_9(n),e_(),st=o,gt=s,xr.transition=a}else e.current=n;if(Su&&(Su=!1,ga=e,rh=i),a=e.pendingLanes,a===0&&(Ca=null),r_(n.stateNode),Gn(e,rn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nh)throw nh=!1,e=vp,vp=null,e;return rh&1&&e.tag!==0&&So(),a=e.pendingLanes,a&1?e===xp?ql++:(ql=0,xp=e):ql=0,ja(),null}function So(){if(ga!==null){var e=nx(rh),t=xr.transition,n=gt;try{if(xr.transition=null,gt=16>e?16:e,ga===null)var r=!1;else{if(e=ga,ga=null,rh=0,st&6)throw Error(re(331));var i=st;for(st|=4,be=e.current;be!==null;){var a=be,s=a.child;if(be.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(be=c;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:Ul(8,u,a)}var d=u.child;if(d!==null)d.return=u,be=d;else for(;be!==null;){u=be;var f=u.sibling,h=u.return;if(f3(u),u===c){be=null;break}if(f!==null){f.return=h,be=f;break}be=h}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}be=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,be=s;else e:for(;be!==null;){if(a=be,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ul(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,be=b;break e}be=a.return}}var w=e.current;for(be=w;be!==null;){s=be;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,be=k;else e:for(s=w;be!==null;){if(o=be,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Uh(9,o)}}catch(R){en(o,o.return,R)}if(o===s){be=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,be=T;break e}be=o.return}}if(st=i,ja(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Oh,e)}catch{}r=!0}return r}finally{gt=n,xr.transition=t}}return!1}function Jb(e,t,n){t=Po(n,t),t=n3(e,t,1),e=Ta(e,t,1),t=On(),e!==null&&(Nc(e,1,t),Gn(e,t))}function en(e,t,n){if(e.tag===3)Jb(e,e,n);else for(;t!==null;){if(t.tag===3){Jb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ca===null||!Ca.has(r))){e=Po(n,e),e=r3(t,e,1),t=Ta(t,e,1),e=On(),t!==null&&(Nc(t,1,e),Gn(t,e));break}}t=t.return}}function I9(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=On(),e.pingedLanes|=e.suspendedLanes&n,pn===e&&(wn&n)===n&&(dn===4||dn===3&&(wn&130023424)===wn&&500>rn()-Jg?fs(e,0):Zg|=n),Gn(e,t)}function S3(e,t){t===0&&(e.mode&1?(t=fu,fu<<=1,!(fu&130023424)&&(fu=4194304)):t=1);var n=On();e=qi(e,t),e!==null&&(Nc(e,t,n),Gn(e,n))}function N9(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),S3(e,n)}function M9(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(t),S3(e,n)}var _3;_3=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vn.current)Wn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wn=!1,w9(e,t,n);Wn=!!(e.flags&131072)}else Wn=!1,Ut&&t.flags&1048576&&Ax(t,Yd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;yd(e,t),e=t.pendingProps;var i=Mo(t,Cn.current);ko(t,n),i=Xg(null,t,r,e,i,n);var a=Vg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yn(r)?(a=!0,Xd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ug(t),i.updater=$h,t.stateNode=i,i._reactInternals=t,cp(t,r,e,n),t=hp(null,t,r,!0,a,n)):(t.tag=0,Ut&&a&&Dg(t),Rn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(yd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=D9(r),e=Pr(r,e),i){case 0:t=dp(null,t,r,e,n);break e;case 1:t=qb(null,t,r,e,n);break e;case 11:t=Ub(null,t,r,e,n);break e;case 14:t=jb(null,t,r,Pr(r.type,e),n);break e}throw Error(re(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pr(r,i),dp(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pr(r,i),qb(e,t,r,i,n);case 3:e:{if(o3(t),e===null)throw Error(re(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Dx(e,t),Qd(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Po(Error(re(423)),t),t=Hb(e,t,r,n,i);break e}else if(r!==i){i=Po(Error(re(424)),t),t=Hb(e,t,r,n,i);break e}else for(ir=Ea(t.stateNode.containerInfo.firstChild),ar=t,Ut=!0,$r=null,n=Mx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),r===i){t=Hi(e,t,n);break e}Rn(e,t,r,n)}t=t.child}return t;case 5:return Lx(t),e===null&&sp(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,tp(r,i)?s=null:a!==null&&tp(r,a)&&(t.flags|=32),s3(e,t),Rn(e,t,s,n),t.child;case 6:return e===null&&sp(t),null;case 13:return l3(e,t,n);case 4:return jg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Do(t,null,r,n):Rn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pr(r,i),Ub(e,t,r,i,n);case 7:return Rn(e,t,t.pendingProps,n),t.child;case 8:return Rn(e,t,t.pendingProps.children,n),t.child;case 12:return Rn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Nt(Gd,r._currentValue),r._currentValue=s,a!==null)if(Vr(a.value,s)){if(a.children===i.children&&!Vn.current){t=Hi(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Di(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),op(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(re(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),op(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Rn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),i=_r(i),r=r(i),t.flags|=1,Rn(e,t,r,n),t.child;case 14:return r=t.type,i=Pr(r,t.pendingProps),i=Pr(r.type,i),jb(e,t,r,i,n);case 15:return i3(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pr(r,i),yd(e,t),t.tag=1,Yn(r)?(e=!0,Xd(t)):e=!1,ko(t,n),t3(t,r,i),cp(t,r,i,n),hp(null,t,r,!0,e,n);case 19:return c3(e,t,n);case 22:return a3(e,t,n)}throw Error(re(156,t.tag))};function E3(e,t){return Z2(e,t)}function O9(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(e,t,n,r){return new O9(e,t,n,r)}function r1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D9(e){if(typeof e=="function")return r1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kg)return 11;if(e===Sg)return 14}return 2}function Ra(e,t){var n=e.alternate;return n===null?(n=wr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vd(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")r1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case eo:return ms(n.children,i,a,t);case xg:s=8,i|=8;break;case Om:return e=wr(12,n,t,i|2),e.elementType=Om,e.lanes=a,e;case Dm:return e=wr(13,n,t,i),e.elementType=Dm,e.lanes=a,e;case Lm:return e=wr(19,n,t,i),e.elementType=Lm,e.lanes=a,e;case L2:return qh(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O2:s=10;break e;case D2:s=9;break e;case kg:s=11;break e;case Sg:s=14;break e;case da:s=16,r=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=wr(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function ms(e,t,n,r){return e=wr(7,e,r,t),e.lanes=n,e}function qh(e,t,n,r){return e=wr(22,e,r,t),e.elementType=L2,e.lanes=n,e.stateNode={isHidden:!1},e}function Rf(e,t,n){return e=wr(6,e,null,t),e.lanes=n,e}function If(e,t,n){return t=wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L9(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uf(0),this.expirationTimes=uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function i1(e,t,n,r,i,a,s,o,l){return e=new L9(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=wr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ug(a),e}function P9(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function T3(e){if(!e)return Da;e=e._reactInternals;e:{if(Rs(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(Yn(n))return Tx(e,n,t)}return t}function C3(e,t,n,r,i,a,s,o,l){return e=i1(n,r,!0,e,i,a,s,o,l),e.context=T3(null),n=e.current,r=On(),i=Aa(n),a=Di(r,i),a.callback=t??null,Ta(n,a,i),e.current.lanes=i,Nc(e,i,r),Gn(e,r),e}function Hh(e,t,n,r){var i=t.current,a=On(),s=Aa(i);return n=T3(n),t.context===null?t.context=n:t.pendingContext=n,t=Di(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ta(i,t,s),e!==null&&(Wr(e,i,s,a),md(e,i,s)),s}function ah(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ew(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function a1(e,t){ew(e,t),(e=e.alternate)&&ew(e,t)}function z9(){return null}var A3=typeof reportError=="function"?reportError:function(e){console.error(e)};function s1(e){this._internalRoot=e}Wh.prototype.render=s1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Hh(e,t,null,null)};Wh.prototype.unmount=s1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xs(function(){Hh(null,e,null,null)}),t[ji]=null}};function Wh(e){this._internalRoot=e}Wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ax();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fa.length&&t!==0&&t<fa[n].priority;n++);fa.splice(n,0,e),n===0&&ox(e)}};function o1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tw(){}function F9(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=ah(s);a.call(c)}}var s=C3(t,r,e,0,null,!1,!1,"",tw);return e._reactRootContainer=s,e[ji]=s.current,ac(e.nodeType===8?e.parentNode:e),xs(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=ah(l);o.call(c)}}var l=i1(e,0,!1,null,null,!1,!1,"",tw);return e._reactRootContainer=l,e[ji]=l.current,ac(e.nodeType===8?e.parentNode:e),xs(function(){Hh(t,l,n,r)}),l}function Vh(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=ah(s);o.call(l)}}Hh(t,s,e,i)}else s=F9(n,t,e,i,r);return ah(s)}rx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Rl(t.pendingLanes);n!==0&&(Tg(t,n|1),Gn(t,rn()),!(st&6)&&(zo=rn()+500,ja()))}break;case 13:xs(function(){var r=qi(e,1);if(r!==null){var i=On();Wr(r,e,1,i)}}),a1(e,1)}};Cg=function(e){if(e.tag===13){var t=qi(e,134217728);if(t!==null){var n=On();Wr(t,e,134217728,n)}a1(e,134217728)}};ix=function(e){if(e.tag===13){var t=Aa(e),n=qi(e,t);if(n!==null){var r=On();Wr(n,e,t,r)}a1(e,t)}};ax=function(){return gt};sx=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}};Wm=function(e,t,n){switch(t){case"input":if(Fm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zh(r);if(!i)throw Error(re(90));z2(r),Fm(r,i)}}}break;case"textarea":B2(e,n);break;case"select":t=n.value,t!=null&&bo(e,!!n.multiple,t,!1)}};X2=e1;V2=xs;var B9={usingClientEntryPoint:!1,Events:[Oc,io,zh,H2,W2,e1]},wl={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$9={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=K2(e),e===null?null:e.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||z9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{Oh=_u.inject($9),si=_u}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B9;lr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o1(t))throw Error(re(200));return P9(e,t,null,n)};lr.createRoot=function(e,t){if(!o1(e))throw Error(re(299));var n=!1,r="",i=A3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=i1(e,1,!1,null,null,n,!1,r,i),e[ji]=t.current,ac(e.nodeType===8?e.parentNode:e),new s1(t)};lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=K2(t),e=e===null?null:e.stateNode,e};lr.flushSync=function(e){return xs(e)};lr.hydrate=function(e,t,n){if(!Xh(t))throw Error(re(200));return Vh(null,e,t,!0,n)};lr.hydrateRoot=function(e,t,n){if(!o1(e))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=A3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=C3(t,null,e,1,n??null,i,!1,a,s),e[ji]=t.current,ac(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wh(t)};lr.render=function(e,t,n){if(!Xh(t))throw Error(re(200));return Vh(null,e,t,!1,n)};lr.unmountComponentAtNode=function(e){if(!Xh(e))throw Error(re(40));return e._reactRootContainer?(xs(function(){Vh(null,null,e,!1,function(){e._reactRootContainer=null,e[ji]=null})}),!0):!1};lr.unstable_batchedUpdates=e1;lr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xh(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Vh(e,t,n,!1,r)};lr.version="18.3.1-next-f1338f8080-20240426";function R3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R3)}catch(e){console.error(e)}}R3(),R2.exports=lr;var l1=R2.exports;const U9=fi(l1),j9=y2({__proto__:null,default:U9},[l1]);var nw=l1;Nm.createRoot=nw.createRoot,Nm.hydrateRoot=nw.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$t.apply(this,arguments)}var tn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(tn||(tn={}));const rw="popstate";function q9(e){e===void 0&&(e={});function t(i,a){let{pathname:s="/",search:o="",hash:l=""}=mi(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),mc("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Ss(a))}function r(i,a){ks(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return W9(t,n,r,e)}function Qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ks(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H9(){return Math.random().toString(36).substr(2,8)}function iw(e,t){return{usr:e.state,key:e.key,idx:t}}function mc(e,t,n,r){return n===void 0&&(n=null),$t({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mi(t):t,{state:n,key:t&&t.key||r||H9()})}function Ss(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function mi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function W9(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=tn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState($t({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=tn.Pop;let v=u(),b=v==null?null:v-c;c=v,l&&l({action:o,location:p.location,delta:b})}function f(v,b){o=tn.Push;let w=mc(p.location,v,b);n&&n(w,v),c=u()+1;let k=iw(w,c),T=p.createHref(w);try{s.pushState(k,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(T)}a&&l&&l({action:o,location:p.location,delta:1})}function h(v,b){o=tn.Replace;let w=mc(p.location,v,b);n&&n(w,v),c=u();let k=iw(w,c),T=p.createHref(w);s.replaceState(k,"",T),a&&l&&l({action:o,location:p.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:Ss(v);return w=w.replace(/ $/,"%20"),Qe(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let p={get action(){return o},get location(){return e(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rw,d),l=v,()=>{i.removeEventListener(rw,d),l=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:h,go(v){return s.go(v)}};return p}var wt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wt||(wt={}));const X9=new Set(["lazy","caseSensitive","path","id","index","children"]);function V9(e){return e.index===!0}function sh(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,a)=>{let s=[...n,String(a)],o=typeof i.id=="string"?i.id:s.join("-");if(Qe(i.index!==!0||!i.children,"Cannot specify children on an index route"),Qe(!r[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),V9(i)){let l=$t({},i,t(i),{id:o});return r[o]=l,l}else{let l=$t({},i,t(i),{id:o,children:void 0});return r[o]=l,i.children&&(l.children=sh(i.children,t,s,r)),l}})}function ts(e,t,n){return n===void 0&&(n="/"),xd(e,t,n,!1)}function xd(e,t,n,r){let i=typeof t=="string"?mi(t):t,a=Vo(i.pathname||"/",n);if(a==null)return null;let s=I3(e);G9(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=sE(a);o=iE(s[l],c,r)}return o}function Y9(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function I3(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Li([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(Qe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),I3(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:nE(c,a.index),routesMeta:u})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of N3(a.path))i(a,s,l)}),t}function N3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=N3(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function G9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const K9=/^:[\w-]+$/,Q9=3,Z9=2,J9=1,eE=10,tE=-2,aw=e=>e==="*";function nE(e,t){let n=e.split("/"),r=n.length;return n.some(aw)&&(r+=tE),t&&(r+=Z9),n.filter(i=>!aw(i)).reduce((i,a)=>i+(K9.test(a)?Q9:a===""?J9:eE),r)}function rE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function iE(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?t:t.slice(a.length)||"/",d=sw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=sw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Li([a,d.pathname]),pathnameBase:cE(Li([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=Li([a,d.pathnameBase]))}return s}function sw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=aE(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let p=o[d]||"";s=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const g=o[d];return h&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function aE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ks(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function sE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ks(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function oE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mi(e):e;return{pathname:n?n.startsWith("/")?n:lE(n,t):t,search:uE(r),hash:dE(i)}}function lE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function c1(e,t){let n=M3(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function u1(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=mi(e):(i=$t({},e),Qe(!i.pathname||!i.pathname.includes("?"),Nf("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),Nf("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),Nf("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?t[d]:"/"}let l=oE(i,o),c=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Li=e=>e.join("/").replace(/\/\/+/g,"/"),cE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class oh{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Yh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const O3=["post","put","patch","delete"],hE=new Set(O3),fE=["get",...O3],mE=new Set(fE),pE=new Set([301,302,303,307,308]),gE=new Set([307,308]),Mf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bE=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),D3="remix-router-transitions";function wE(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Qe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let z=e.detectErrorBoundary;i=j=>({hasErrorBoundary:z(j)})}else i=bE;let a={},s=sh(e.routes,i,void 0,a),o,l=e.basename||"/",c=e.dataStrategy||SE,u=e.patchRoutesOnNavigation,d=$t({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,h=new Set,g=null,p=null,v=null,b=e.hydrationData!=null,w=ts(s,e.history.location,l),k=null;if(w==null&&!u){let z=$n(404,{pathname:e.history.location.pathname}),{matches:j,route:V}=yw(s);w=j,k={[V.id]:z}}w&&!e.hydrationData&&iu(w,s,e.history.location.pathname).active&&(w=null);let T;if(w)if(w.some(z=>z.route.lazy))T=!1;else if(!w.some(z=>z.route.loader))T=!0;else if(d.v7_partialHydration){let z=e.hydrationData?e.hydrationData.loaderData:null,j=e.hydrationData?e.hydrationData.errors:null;if(j){let V=w.findIndex(J=>j[J.route.id]!==void 0);T=w.slice(0,V+1).every(J=>!Ep(J.route,z,j))}else T=w.every(V=>!Ep(V.route,z,j))}else T=e.hydrationData!=null;else if(T=!1,w=[],d.v7_partialHydration){let z=iu(null,s,e.history.location.pathname);z.active&&z.matches&&(w=z.matches)}let R,x={historyAction:e.history.action,location:e.history.location,matches:w,initialized:T,navigation:Mf,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},M=tn.Pop,I=!1,B,D=!1,Y=new Map,X=null,ce=!1,se=!1,de=[],ze=new Set,W=new Map,$=0,K=-1,C=new Map,oe=new Set,G=new Map,A=new Map,ee=new Set,he=new Map,U=new Map,Te;function te(){if(f=e.history.listen(z=>{let{action:j,location:V,delta:J}=z;if(Te){Te(),Te=void 0;return}ks(U.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let we=fr({currentLocation:x.location,nextLocation:V,historyAction:j});if(we&&J!=null){let Ne=new Promise(je=>{Te=je});e.history.go(J*-1),ia(we,{state:"blocked",location:V,proceed(){ia(we,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),Ne.then(()=>e.history.go(J))},reset(){let je=new Map(x.blockers);je.set(we,vl),Ie({blockers:je})}});return}return Be(j,V)}),n){zE(t,Y);let z=()=>FE(t,Y);t.addEventListener("pagehide",z),X=()=>t.removeEventListener("pagehide",z)}return x.initialized||Be(tn.Pop,x.location,{initialHydration:!0}),R}function xe(){f&&f(),X&&X(),h.clear(),B&&B.abort(),x.fetchers.forEach((z,j)=>ke(j)),x.blockers.forEach((z,j)=>Ft(j))}function Fe(z){return h.add(z),()=>h.delete(z)}function Ie(z,j){j===void 0&&(j={}),x=$t({},x,z);let V=[],J=[];d.v7_fetcherPersist&&x.fetchers.forEach((we,Ne)=>{we.state==="idle"&&(ee.has(Ne)?J.push(Ne):V.push(Ne))}),[...h].forEach(we=>we(x,{deletedFetchers:J,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),d.v7_fetcherPersist&&(V.forEach(we=>x.fetchers.delete(we)),J.forEach(we=>ke(we)))}function Re(z,j,V){var J,we;let{flushSync:Ne}=V===void 0?{}:V,je=x.actionData!=null&&x.navigation.formMethod!=null&&Fr(x.navigation.formMethod)&&x.navigation.state==="loading"&&((J=z.state)==null?void 0:J._isRedirect)!==!0,Se;j.actionData?Object.keys(j.actionData).length>0?Se=j.actionData:Se=null:je?Se=x.actionData:Se=null;let _e=j.loaderData?pw(x.loaderData,j.loaderData,j.matches||[],j.errors):x.loaderData,ve=x.blockers;ve.size>0&&(ve=new Map(ve),ve.forEach((at,yn)=>ve.set(yn,vl)));let Me=I===!0||x.navigation.formMethod!=null&&Fr(x.navigation.formMethod)&&((we=z.state)==null?void 0:we._isRedirect)!==!0;o&&(s=o,o=void 0),ce||M===tn.Pop||(M===tn.Push?e.history.push(z,z.state):M===tn.Replace&&e.history.replace(z,z.state));let et;if(M===tn.Pop){let at=Y.get(x.location.pathname);at&&at.has(z.pathname)?et={currentLocation:x.location,nextLocation:z}:Y.has(z.pathname)&&(et={currentLocation:z,nextLocation:x.location})}else if(D){let at=Y.get(x.location.pathname);at?at.add(z.pathname):(at=new Set([z.pathname]),Y.set(x.location.pathname,at)),et={currentLocation:x.location,nextLocation:z}}Ie($t({},j,{actionData:Se,loaderData:_e,historyAction:M,location:z,initialized:!0,navigation:Mf,revalidation:"idle",restoreScrollPosition:Xy(z,j.matches||x.matches),preventScrollReset:Me,blockers:ve}),{viewTransitionOpts:et,flushSync:Ne===!0}),M=tn.Pop,I=!1,D=!1,ce=!1,se=!1,de=[]}async function Tt(z,j){if(typeof z=="number"){e.history.go(z);return}let V=_p(x.location,x.matches,l,d.v7_prependBasename,z,d.v7_relativeSplatPath,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:J,submission:we,error:Ne}=ow(d.v7_normalizeFormMethod,!1,V,j),je=x.location,Se=mc(x.location,J,j&&j.state);Se=$t({},Se,e.history.encodeLocation(Se));let _e=j&&j.replace!=null?j.replace:void 0,ve=tn.Push;_e===!0?ve=tn.Replace:_e===!1||we!=null&&Fr(we.formMethod)&&we.formAction===x.location.pathname+x.location.search&&(ve=tn.Replace);let Me=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,et=(j&&j.flushSync)===!0,at=fr({currentLocation:je,nextLocation:Se,historyAction:ve});if(at){ia(at,{state:"blocked",location:Se,proceed(){ia(at,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),Tt(z,j)},reset(){let yn=new Map(x.blockers);yn.set(at,vl),Ie({blockers:yn})}});return}return await Be(ve,Se,{submission:we,pendingError:Ne,preventScrollReset:Me,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:et})}function xt(){if(Qn(),Ie({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Be(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Be(M||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:D===!0})}}async function Be(z,j,V){B&&B.abort(),B=null,M=z,ce=(V&&V.startUninterruptedRevalidation)===!0,uS(x.location,x.matches),I=(V&&V.preventScrollReset)===!0,D=(V&&V.enableViewTransition)===!0;let J=o||s,we=V&&V.overrideNavigation,Ne=ts(J,j,l),je=(V&&V.flushSync)===!0,Se=iu(Ne,J,j.pathname);if(Se.active&&Se.matches&&(Ne=Se.matches),!Ne){let{error:At,notFoundMatches:ht,route:Qt}=tf(j.pathname);Re(j,{matches:ht,loaderData:{},errors:{[Qt.id]:At}},{flushSync:je});return}if(x.initialized&&!se&&RE(x.location,j)&&!(V&&V.submission&&Fr(V.submission.formMethod))){Re(j,{matches:Ne},{flushSync:je});return}B=new AbortController;let _e=js(e.history,j,B.signal,V&&V.submission),ve;if(V&&V.pendingError)ve=[ns(Ne).route.id,{type:wt.error,error:V.pendingError}];else if(V&&V.submission&&Fr(V.submission.formMethod)){let At=await nt(_e,j,V.submission,Ne,Se.active,{replace:V.replace,flushSync:je});if(At.shortCircuited)return;if(At.pendingActionResult){let[ht,Qt]=At.pendingActionResult;if(tr(Qt)&&Yh(Qt.error)&&Qt.error.status===404){B=null,Re(j,{matches:At.matches,loaderData:{},errors:{[ht]:Qt.error}});return}}Ne=At.matches||Ne,ve=At.pendingActionResult,we=Of(j,V.submission),je=!1,Se.active=!1,_e=js(e.history,_e.url,_e.signal)}let{shortCircuited:Me,matches:et,loaderData:at,errors:yn}=await Xe(_e,j,Ne,Se.active,we,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,je,ve);Me||(B=null,Re(j,$t({matches:et||Ne},gw(ve),{loaderData:at,errors:yn})))}async function nt(z,j,V,J,we,Ne){Ne===void 0&&(Ne={}),Qn();let je=LE(j,V);if(Ie({navigation:je},{flushSync:Ne.flushSync===!0}),we){let ve=await au(J,j.pathname,z.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let Me=ns(ve.partialMatches).route.id;return{matches:ve.partialMatches,pendingActionResult:[Me,{type:wt.error,error:ve.error}]}}else if(ve.matches)J=ve.matches;else{let{notFoundMatches:Me,error:et,route:at}=tf(j.pathname);return{matches:Me,pendingActionResult:[at.id,{type:wt.error,error:et}]}}}let Se,_e=Nl(J,j);if(!_e.route.action&&!_e.route.lazy)Se={type:wt.error,error:$n(405,{method:z.method,pathname:j.pathname,routeId:_e.route.id})};else if(Se=(await Ee("action",x,z,[_e],J,null))[_e.route.id],z.signal.aborted)return{shortCircuited:!0};if(ls(Se)){let ve;return Ne&&Ne.replace!=null?ve=Ne.replace:ve=hw(Se.response.headers.get("Location"),new URL(z.url),l)===x.location.pathname+x.location.search,await Ct(z,Se,!0,{submission:V,replace:ve}),{shortCircuited:!0}}if(ya(Se))throw $n(400,{type:"defer-action"});if(tr(Se)){let ve=ns(J,_e.route.id);return(Ne&&Ne.replace)!==!0&&(M=tn.Push),{matches:J,pendingActionResult:[ve.route.id,Se]}}return{matches:J,pendingActionResult:[_e.route.id,Se]}}async function Xe(z,j,V,J,we,Ne,je,Se,_e,ve,Me){let et=we||Of(j,Ne),at=Ne||je||ww(et),yn=!ce&&(!d.v7_partialHydration||!_e);if(J){if(yn){let Zt=lt(Me);Ie($t({navigation:et},Zt!==void 0?{actionData:Zt}:{}),{flushSync:ve})}let ct=await au(V,j.pathname,z.signal);if(ct.type==="aborted")return{shortCircuited:!0};if(ct.type==="error"){let Zt=ns(ct.partialMatches).route.id;return{matches:ct.partialMatches,loaderData:{},errors:{[Zt]:ct.error}}}else if(ct.matches)V=ct.matches;else{let{error:Zt,notFoundMatches:Bs,route:dl}=tf(j.pathname);return{matches:Bs,loaderData:{},errors:{[dl.id]:Zt}}}}let At=o||s,[ht,Qt]=cw(e.history,x,V,at,j,d.v7_partialHydration&&_e===!0,d.v7_skipActionErrorRevalidation,se,de,ze,ee,G,oe,At,l,Me);if(nf(ct=>!(V&&V.some(Zt=>Zt.route.id===ct))||ht&&ht.some(Zt=>Zt.route.id===ct)),K=++$,ht.length===0&&Qt.length===0){let ct=zn();return Re(j,$t({matches:V,loaderData:{},errors:Me&&tr(Me[1])?{[Me[0]]:Me[1].error}:null},gw(Me),ct?{fetchers:new Map(x.fetchers)}:{}),{flushSync:ve}),{shortCircuited:!0}}if(yn){let ct={};if(!J){ct.navigation=et;let Zt=lt(Me);Zt!==void 0&&(ct.actionData=Zt)}Qt.length>0&&(ct.fetchers=Ae(Qt)),Ie(ct,{flushSync:ve})}Qt.forEach(ct=>{mt(ct.key),ct.controller&&W.set(ct.key,ct.controller)});let Fs=()=>Qt.forEach(ct=>mt(ct.key));B&&B.signal.addEventListener("abort",Fs);let{loaderResults:cl,fetcherResults:xi}=await ft(x,V,ht,Qt,z);if(z.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",Fs),Qt.forEach(ct=>W.delete(ct.key));let Zr=Eu(cl);if(Zr)return await Ct(z,Zr.result,!0,{replace:Se}),{shortCircuited:!0};if(Zr=Eu(xi),Zr)return oe.add(Zr.key),await Ct(z,Zr.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:rf,errors:ul}=mw(x,V,cl,Me,Qt,xi,he);he.forEach((ct,Zt)=>{ct.subscribe(Bs=>{(Bs||ct.done)&&he.delete(Zt)})}),d.v7_partialHydration&&_e&&x.errors&&(ul=$t({},x.errors,ul));let Va=zn(),su=ra(K),ou=Va||su||Qt.length>0;return $t({matches:V,loaderData:rf,errors:ul},ou?{fetchers:new Map(x.fetchers)}:{})}function lt(z){if(z&&!tr(z[1]))return{[z[0]]:z[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Ae(z){return z.forEach(j=>{let V=x.fetchers.get(j.key),J=xl(void 0,V?V.data:void 0);x.fetchers.set(j.key,J)}),new Map(x.fetchers)}function Ot(z,j,V,J){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");mt(z);let we=(J&&J.flushSync)===!0,Ne=o||s,je=_p(x.location,x.matches,l,d.v7_prependBasename,V,d.v7_relativeSplatPath,j,J==null?void 0:J.relative),Se=ts(Ne,je,l),_e=iu(Se,Ne,je);if(_e.active&&_e.matches&&(Se=_e.matches),!Se){q(z,j,$n(404,{pathname:je}),{flushSync:we});return}let{path:ve,submission:Me,error:et}=ow(d.v7_normalizeFormMethod,!0,je,J);if(et){q(z,j,et,{flushSync:we});return}let at=Nl(Se,ve),yn=(J&&J.preventScrollReset)===!0;if(Me&&Fr(Me.formMethod)){kt(z,j,ve,at,Se,_e.active,we,yn,Me);return}G.set(z,{routeId:j,path:ve}),rt(z,j,ve,at,Se,_e.active,we,yn,Me)}async function kt(z,j,V,J,we,Ne,je,Se,_e){Qn(),G.delete(z);function ve(sn){if(!sn.route.action&&!sn.route.lazy){let $s=$n(405,{method:_e.formMethod,pathname:V,routeId:j});return q(z,j,$s,{flushSync:je}),!0}return!1}if(!Ne&&ve(J))return;let Me=x.fetchers.get(z);P(z,PE(_e,Me),{flushSync:je});let et=new AbortController,at=js(e.history,V,et.signal,_e);if(Ne){let sn=await au(we,V,at.signal);if(sn.type==="aborted")return;if(sn.type==="error"){q(z,j,sn.error,{flushSync:je});return}else if(sn.matches){if(we=sn.matches,J=Nl(we,V),ve(J))return}else{q(z,j,$n(404,{pathname:V}),{flushSync:je});return}}W.set(z,et);let yn=$,ht=(await Ee("action",x,at,[J],we,z))[J.route.id];if(at.signal.aborted){W.get(z)===et&&W.delete(z);return}if(d.v7_fetcherPersist&&ee.has(z)){if(ls(ht)||tr(ht)){P(z,ua(void 0));return}}else{if(ls(ht))if(W.delete(z),K>yn){P(z,ua(void 0));return}else return oe.add(z),P(z,xl(_e)),Ct(at,ht,!1,{fetcherSubmission:_e,preventScrollReset:Se});if(tr(ht)){q(z,j,ht.error);return}}if(ya(ht))throw $n(400,{type:"defer-action"});let Qt=x.navigation.location||x.location,Fs=js(e.history,Qt,et.signal),cl=o||s,xi=x.navigation.state!=="idle"?ts(cl,x.navigation.location,l):x.matches;Qe(xi,"Didn't find any matches after fetcher action");let Zr=++$;C.set(z,Zr);let rf=xl(_e,ht.data);x.fetchers.set(z,rf);let[ul,Va]=cw(e.history,x,xi,_e,Qt,!1,d.v7_skipActionErrorRevalidation,se,de,ze,ee,G,oe,cl,l,[J.route.id,ht]);Va.filter(sn=>sn.key!==z).forEach(sn=>{let $s=sn.key,Vy=x.fetchers.get($s),fS=xl(void 0,Vy?Vy.data:void 0);x.fetchers.set($s,fS),mt($s),sn.controller&&W.set($s,sn.controller)}),Ie({fetchers:new Map(x.fetchers)});let su=()=>Va.forEach(sn=>mt(sn.key));et.signal.addEventListener("abort",su);let{loaderResults:ou,fetcherResults:ct}=await ft(x,xi,ul,Va,Fs);if(et.signal.aborted)return;et.signal.removeEventListener("abort",su),C.delete(z),W.delete(z),Va.forEach(sn=>W.delete(sn.key));let Zt=Eu(ou);if(Zt)return Ct(Fs,Zt.result,!1,{preventScrollReset:Se});if(Zt=Eu(ct),Zt)return oe.add(Zt.key),Ct(Fs,Zt.result,!1,{preventScrollReset:Se});let{loaderData:Bs,errors:dl}=mw(x,xi,ou,void 0,Va,ct,he);if(x.fetchers.has(z)){let sn=ua(ht.data);x.fetchers.set(z,sn)}ra(Zr),x.navigation.state==="loading"&&Zr>K?(Qe(M,"Expected pending action"),B&&B.abort(),Re(x.navigation.location,{matches:xi,loaderData:Bs,errors:dl,fetchers:new Map(x.fetchers)})):(Ie({errors:dl,loaderData:pw(x.loaderData,Bs,xi,dl),fetchers:new Map(x.fetchers)}),se=!1)}async function rt(z,j,V,J,we,Ne,je,Se,_e){let ve=x.fetchers.get(z);P(z,xl(_e,ve?ve.data:void 0),{flushSync:je});let Me=new AbortController,et=js(e.history,V,Me.signal);if(Ne){let ht=await au(we,V,et.signal);if(ht.type==="aborted")return;if(ht.type==="error"){q(z,j,ht.error,{flushSync:je});return}else if(ht.matches)we=ht.matches,J=Nl(we,V);else{q(z,j,$n(404,{pathname:V}),{flushSync:je});return}}W.set(z,Me);let at=$,At=(await Ee("loader",x,et,[J],we,z))[J.route.id];if(ya(At)&&(At=await h1(At,et.signal,!0)||At),W.get(z)===Me&&W.delete(z),!et.signal.aborted){if(ee.has(z)){P(z,ua(void 0));return}if(ls(At))if(K>at){P(z,ua(void 0));return}else{oe.add(z),await Ct(et,At,!1,{preventScrollReset:Se});return}if(tr(At)){q(z,j,At.error);return}Qe(!ya(At),"Unhandled fetcher deferred data"),P(z,ua(At.data))}}async function Ct(z,j,V,J){let{submission:we,fetcherSubmission:Ne,preventScrollReset:je,replace:Se}=J===void 0?{}:J;j.response.headers.has("X-Remix-Revalidate")&&(se=!0);let _e=j.response.headers.get("Location");Qe(_e,"Expected a Location header on the redirect Response"),_e=hw(_e,new URL(z.url),l);let ve=mc(x.location,_e,{_isRedirect:!0});if(n){let ht=!1;if(j.response.headers.has("X-Remix-Reload-Document"))ht=!0;else if(d1.test(_e)){const Qt=e.history.createURL(_e);ht=Qt.origin!==t.location.origin||Vo(Qt.pathname,l)==null}if(ht){Se?t.location.replace(_e):t.location.assign(_e);return}}B=null;let Me=Se===!0||j.response.headers.has("X-Remix-Replace")?tn.Replace:tn.Push,{formMethod:et,formAction:at,formEncType:yn}=x.navigation;!we&&!Ne&&et&&at&&yn&&(we=ww(x.navigation));let At=we||Ne;if(gE.has(j.response.status)&&At&&Fr(At.formMethod))await Be(Me,ve,{submission:$t({},At,{formAction:_e}),preventScrollReset:je||I,enableViewTransition:V?D:void 0});else{let ht=Of(ve,we);await Be(Me,ve,{overrideNavigation:ht,fetcherSubmission:Ne,preventScrollReset:je||I,enableViewTransition:V?D:void 0})}}async function Ee(z,j,V,J,we,Ne){let je,Se={};try{je=await _E(c,z,j,V,J,we,Ne,a,i)}catch(_e){return J.forEach(ve=>{Se[ve.route.id]={type:wt.error,error:_e}}),Se}for(let[_e,ve]of Object.entries(je))if(IE(ve)){let Me=ve.result;Se[_e]={type:wt.redirect,response:CE(Me,V,_e,we,l,d.v7_relativeSplatPath)}}else Se[_e]=await TE(ve);return Se}async function ft(z,j,V,J,we){let Ne=z.matches,je=Ee("loader",z,we,V,j,null),Se=Promise.all(J.map(async Me=>{if(Me.matches&&Me.match&&Me.controller){let at=(await Ee("loader",z,js(e.history,Me.path,Me.controller.signal),[Me.match],Me.matches,Me.key))[Me.match.route.id];return{[Me.key]:at}}else return Promise.resolve({[Me.key]:{type:wt.error,error:$n(404,{pathname:Me.path})}})})),_e=await je,ve=(await Se).reduce((Me,et)=>Object.assign(Me,et),{});return await Promise.all([OE(j,_e,we.signal,Ne,z.loaderData),DE(j,ve,J)]),{loaderResults:_e,fetcherResults:ve}}function Qn(){se=!0,de.push(...nf()),G.forEach((z,j)=>{W.has(j)&&ze.add(j),mt(j)})}function P(z,j,V){V===void 0&&(V={}),x.fetchers.set(z,j),Ie({fetchers:new Map(x.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function q(z,j,V,J){J===void 0&&(J={});let we=ns(x.matches,j);ke(z),Ie({errors:{[we.route.id]:V},fetchers:new Map(x.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function ue(z){return d.v7_fetcherPersist&&(A.set(z,(A.get(z)||0)+1),ee.has(z)&&ee.delete(z)),x.fetchers.get(z)||yE}function ke(z){let j=x.fetchers.get(z);W.has(z)&&!(j&&j.state==="loading"&&C.has(z))&&mt(z),G.delete(z),C.delete(z),oe.delete(z),ee.delete(z),ze.delete(z),x.fetchers.delete(z)}function Ue(z){if(d.v7_fetcherPersist){let j=(A.get(z)||0)-1;j<=0?(A.delete(z),ee.add(z)):A.set(z,j)}else ke(z);Ie({fetchers:new Map(x.fetchers)})}function mt(z){let j=W.get(z);j&&(j.abort(),W.delete(z))}function Zn(z){for(let j of z){let V=ue(j),J=ua(V.data);x.fetchers.set(j,J)}}function zn(){let z=[],j=!1;for(let V of oe){let J=x.fetchers.get(V);Qe(J,"Expected fetcher: "+V),J.state==="loading"&&(oe.delete(V),z.push(V),j=!0)}return Zn(z),j}function ra(z){let j=[];for(let[V,J]of C)if(J<z){let we=x.fetchers.get(V);Qe(we,"Expected fetcher: "+V),we.state==="loading"&&(mt(V),C.delete(V),j.push(V))}return Zn(j),j.length>0}function Xa(z,j){let V=x.blockers.get(z)||vl;return U.get(z)!==j&&U.set(z,j),V}function Ft(z){x.blockers.delete(z),U.delete(z)}function ia(z,j){let V=x.blockers.get(z)||vl;Qe(V.state==="unblocked"&&j.state==="blocked"||V.state==="blocked"&&j.state==="blocked"||V.state==="blocked"&&j.state==="proceeding"||V.state==="blocked"&&j.state==="unblocked"||V.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+j.state);let J=new Map(x.blockers);J.set(z,j),Ie({blockers:J})}function fr(z){let{currentLocation:j,nextLocation:V,historyAction:J}=z;if(U.size===0)return;U.size>1&&ks(!1,"A router only supports one blocker at a time");let we=Array.from(U.entries()),[Ne,je]=we[we.length-1],Se=x.blockers.get(Ne);if(!(Se&&Se.state==="proceeding")&&je({currentLocation:j,nextLocation:V,historyAction:J}))return Ne}function tf(z){let j=$n(404,{pathname:z}),V=o||s,{matches:J,route:we}=yw(V);return nf(),{notFoundMatches:J,route:we,error:j}}function nf(z){let j=[];return he.forEach((V,J)=>{(!z||z(J))&&(V.cancel(),j.push(J),he.delete(J))}),j}function cS(z,j,V){if(g=z,v=j,p=V||null,!b&&x.navigation===Mf){b=!0;let J=Xy(x.location,x.matches);J!=null&&Ie({restoreScrollPosition:J})}return()=>{g=null,v=null,p=null}}function Wy(z,j){return p&&p(z,j.map(J=>Y9(J,x.loaderData)))||z.key}function uS(z,j){if(g&&v){let V=Wy(z,j);g[V]=v()}}function Xy(z,j){if(g){let V=Wy(z,j),J=g[V];if(typeof J=="number")return J}return null}function iu(z,j,V){if(u)if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:xd(j,V,l,!0)}}else return{active:!0,matches:xd(j,V,l,!0)||[]};return{active:!1,matches:null}}async function au(z,j,V){if(!u)return{type:"success",matches:z};let J=z;for(;;){let we=o==null,Ne=o||s,je=a;try{await u({path:j,matches:J,patch:(ve,Me)=>{V.aborted||dw(ve,Me,Ne,je,i)}})}catch(ve){return{type:"error",error:ve,partialMatches:J}}finally{we&&!V.aborted&&(s=[...s])}if(V.aborted)return{type:"aborted"};let Se=ts(Ne,j,l);if(Se)return{type:"success",matches:Se};let _e=xd(Ne,j,l,!0);if(!_e||J.length===_e.length&&J.every((ve,Me)=>ve.route.id===_e[Me].route.id))return{type:"success",matches:null};J=_e}}function dS(z){a={},o=sh(z,i,void 0,a)}function hS(z,j){let V=o==null;dw(z,j,o||s,a,i),V&&(s=[...s],Ie({}))}return R={get basename(){return l},get future(){return d},get state(){return x},get routes(){return s},get window(){return t},initialize:te,subscribe:Fe,enableScrollRestoration:cS,navigate:Tt,fetch:Ot,revalidate:xt,createHref:z=>e.history.createHref(z),encodeLocation:z=>e.history.encodeLocation(z),getFetcher:ue,deleteFetcher:Ue,dispose:xe,getBlocker:Xa,deleteBlocker:Ft,patchRoutes:hS,_internalFetchControllers:W,_internalActiveDeferreds:he,_internalSetRoutes:dS},R}function vE(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function _p(e,t,n,r,i,a,s,o){let l,c;if(s){l=[];for(let d of t)if(l.push(d),d.route.id===s){c=d;break}}else l=t,c=t[t.length-1];let u=u1(i||".",c1(l,a),Vo(e.pathname,n)||e.pathname,o==="path");if(i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&c){let d=f1(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),h=f.getAll("index");f.delete("index"),h.filter(p=>p).forEach(p=>f.append("index",p));let g=f.toString();u.search=g?"?"+g:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Li([n,u.pathname])),Ss(u)}function ow(e,t,n,r){if(!r||!vE(r))return{path:n};if(r.formMethod&&!ME(r.formMethod))return{path:n,error:$n(405,{method:r.formMethod})};let i=()=>({path:n,error:$n(400,{type:"invalid-body"})}),a=r.formMethod||"get",s=e?a.toUpperCase():a.toLowerCase(),o=z3(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Fr(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,g)=>{let[p,v]=g;return""+h+p+"="+v+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Fr(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:o,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Tp(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Tp(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=fw(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=fw(l)}catch{return i()}let u={formMethod:s,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Fr(u.formMethod))return{path:n,submission:u};let d=mi(n);return t&&d.search&&f1(d.search)&&l.append("index",""),d.search="?"+l,{path:Ss(d),submission:u}}function lw(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(i=>i.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function cw(e,t,n,r,i,a,s,o,l,c,u,d,f,h,g,p){let v=p?tr(p[1])?p[1].error:p[1].data:void 0,b=e.createURL(t.location),w=e.createURL(i),k=n;a&&t.errors?k=lw(n,Object.keys(t.errors)[0],!0):p&&tr(p[1])&&(k=lw(n,p[0]));let T=p?p[1].statusCode:void 0,R=s&&T&&T>=400,x=k.filter((I,B)=>{let{route:D}=I;if(D.lazy)return!0;if(D.loader==null)return!1;if(a)return Ep(D,t.loaderData,t.errors);if(xE(t.loaderData,t.matches[B],I)||l.some(ce=>ce===I.route.id))return!0;let Y=t.matches[B],X=I;return uw(I,$t({currentUrl:b,currentParams:Y.params,nextUrl:w,nextParams:X.params},r,{actionResult:v,actionStatus:T,defaultShouldRevalidate:R?!1:o||b.pathname+b.search===w.pathname+w.search||b.search!==w.search||L3(Y,X)}))}),M=[];return d.forEach((I,B)=>{if(a||!n.some(se=>se.route.id===I.routeId)||u.has(B))return;let D=ts(h,I.path,g);if(!D){M.push({key:B,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let Y=t.fetchers.get(B),X=Nl(D,I.path),ce=!1;f.has(B)?ce=!1:c.has(B)?(c.delete(B),ce=!0):Y&&Y.state!=="idle"&&Y.data===void 0?ce=o:ce=uw(X,$t({currentUrl:b,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:v,actionStatus:T,defaultShouldRevalidate:R?!1:o})),ce&&M.push({key:B,routeId:I.routeId,path:I.path,matches:D,match:X,controller:new AbortController})}),[x,M]}function Ep(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function xE(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function L3(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function uw(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function dw(e,t,n,r,i){var a;let s;if(e){let c=r[e];Qe(c,"No route found to patch children into: routeId = "+e),c.children||(c.children=[]),s=c.children}else s=n;let o=t.filter(c=>!s.some(u=>P3(c,u))),l=sh(o,i,[e||"_","patch",String(((a=s)==null?void 0:a.length)||"0")],r);s.push(...l)}function P3(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(a=>P3(n,a))}):!1}async function kE(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Qe(i,"No route found in manifest");let a={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";ks(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!X9.has(s)&&(a[s]=r[s])}Object.assign(i,a),Object.assign(i,$t({},t(i),{lazy:void 0}))}async function SE(e){let{matches:t}=e,n=t.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,a,s)=>Object.assign(i,{[n[s].route.id]:a}),{})}async function _E(e,t,n,r,i,a,s,o,l,c){let u=a.map(h=>h.route.lazy?kE(h.route,l,o):void 0),d=a.map((h,g)=>{let p=u[g],v=i.some(w=>w.route.id===h.route.id);return $t({},h,{shouldLoad:v,resolve:async w=>(w&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(v=!0),v?EE(t,r,h,p,w,c):Promise.resolve({type:wt.data,result:void 0}))})}),f=await e({matches:d,request:r,params:a[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function EE(e,t,n,r,i,a){let s,o,l=c=>{let u,d=new Promise((g,p)=>u=p);o=()=>u(),t.signal.addEventListener("abort",o);let f=g=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:a},...g!==void 0?[g]:[]),h=(async()=>{try{return{type:"data",result:await(i?i(p=>f(p)):f())}}catch(g){return{type:"error",result:g}}})();return Promise.race([h,d])};try{let c=n.route[e];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=d}else if(await r,c=n.route[e],c)s=await l(c);else if(e==="action"){let u=new URL(t.url),d=u.pathname+u.search;throw $n(405,{method:t.method,pathname:d,routeId:n.route.id})}else return{type:wt.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(t.url),d=u.pathname+u.search;throw $n(404,{pathname:d})}Qe(s.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:wt.error,result:c}}finally{o&&t.signal.removeEventListener("abort",o)}return s}async function TE(e){let{result:t,type:n}=e;if(F3(t)){let c;try{let u=t.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?t.body==null?c=null:c=await t.json():c=await t.text()}catch(u){return{type:wt.error,error:u}}return n===wt.error?{type:wt.error,error:new oh(t.status,t.statusText,c),statusCode:t.status,headers:t.headers}:{type:wt.data,data:c,statusCode:t.status,headers:t.headers}}if(n===wt.error){if(bw(t)){var r;if(t.data instanceof Error){var i;return{type:wt.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status}}t=new oh(((r=t.init)==null?void 0:r.status)||500,void 0,t.data)}return{type:wt.error,error:t,statusCode:Yh(t)?t.status:void 0}}if(NE(t)){var a,s;return{type:wt.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((s=t.init)==null?void 0:s.headers)&&new Headers(t.init.headers)}}if(bw(t)){var o,l;return{type:wt.data,data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}}return{type:wt.data,data:t}}function CE(e,t,n,r,i,a){let s=e.headers.get("Location");if(Qe(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!d1.test(s)){let o=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=_p(new URL(t.url),o,i,!0,s,a),e.headers.set("Location",s)}return e}function hw(e,t,n){if(d1.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),a=Vo(i.pathname,n)!=null;if(i.origin===t.origin&&a)return i.pathname+i.search+i.hash}return e}function js(e,t,n,r){let i=e.createURL(z3(t)).toString(),a={signal:n};if(r&&Fr(r.formMethod)){let{formMethod:s,formEncType:o}=r;a.method=s.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(r.json)):o==="text/plain"?a.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?a.body=Tp(r.formData):a.body=r.formData}return new Request(i,a)}function Tp(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function fw(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function AE(e,t,n,r,i){let a={},s=null,o,l=!1,c={},u=n&&tr(n[1])?n[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let f=d.route.id,h=t[f];if(Qe(!ls(h),"Cannot handle redirect results in processLoaderData"),tr(h)){let g=h.error;if(u!==void 0&&(g=u,u=void 0),s=s||{},i)s[f]=g;else{let p=ns(e,f);s[p.route.id]==null&&(s[p.route.id]=g)}a[f]=void 0,l||(l=!0,o=Yh(h.error)?h.error.status:500),h.headers&&(c[f]=h.headers)}else ya(h)?(r.set(f,h.deferredData),a[f]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(o=h.statusCode),h.headers&&(c[f]=h.headers)):(a[f]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(o=h.statusCode),h.headers&&(c[f]=h.headers))}),u!==void 0&&n&&(s={[n[0]]:u},a[n[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function mw(e,t,n,r,i,a,s){let{loaderData:o,errors:l}=AE(t,n,r,s,!1);return i.forEach(c=>{let{key:u,match:d,controller:f}=c,h=a[u];if(Qe(h,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(tr(h)){let g=ns(e.matches,d==null?void 0:d.route.id);l&&l[g.route.id]||(l=$t({},l,{[g.route.id]:h.error})),e.fetchers.delete(u)}else if(ls(h))Qe(!1,"Unhandled fetcher revalidation redirect");else if(ya(h))Qe(!1,"Unhandled fetcher deferred data");else{let g=ua(h.data);e.fetchers.set(u,g)}}),{loaderData:o,errors:l}}function pw(e,t,n,r){let i=$t({},t);for(let a of n){let s=a.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&a.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function gw(e){return e?tr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ns(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function yw(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function $n(e,t){let{pathname:n,routeId:r,method:i,type:a,message:s}=t===void 0?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?l="defer() is not supported in actions":a==="invalid-body"&&(l="Unable to encode submission body")):e===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",l='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new oh(e||500,o,new Error(l),!0)}function Eu(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(ls(i))return{key:r,result:i}}}function z3(e){let t=typeof e=="string"?mi(e):e;return Ss($t({},t,{hash:""}))}function RE(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function IE(e){return F3(e.result)&&pE.has(e.result.status)}function ya(e){return e.type===wt.deferred}function tr(e){return e.type===wt.error}function ls(e){return(e&&e.type)===wt.redirect}function bw(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function NE(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function F3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ME(e){return mE.has(e.toLowerCase())}function Fr(e){return hE.has(e.toLowerCase())}async function OE(e,t,n,r,i){let a=Object.entries(t);for(let s=0;s<a.length;s++){let[o,l]=a[s],c=e.find(f=>(f==null?void 0:f.route.id)===o);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!L3(u,c)&&(i&&i[c.route.id])!==void 0;ya(l)&&d&&await h1(l,n,!1).then(f=>{f&&(t[o]=f)})}}async function DE(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:a,controller:s}=n[r],o=t[i];e.find(c=>(c==null?void 0:c.route.id)===a)&&ya(o)&&(Qe(s,"Expected an AbortController for revalidating fetcher deferred result"),await h1(o,s.signal,!0).then(c=>{c&&(t[i]=c)}))}}async function h1(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:wt.data,data:e.deferredData.unwrappedData}}catch(i){return{type:wt.error,error:i}}return{type:wt.data,data:e.deferredData.data}}}function f1(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Nl(e,t){let n=typeof t=="string"?mi(t).search:t.search;if(e[e.length-1].route.index&&f1(n||""))return e[e.length-1];let r=M3(e);return r[r.length-1]}function ww(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Of(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function LE(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function xl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function PE(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ua(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function zE(e,t){try{let n=e.sessionStorage.getItem(D3);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&t.set(i,new Set(a||[]))}}catch{}}function FE(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(D3,JSON.stringify(n))}catch(r){ks(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pc.apply(this,arguments)}const Gh=Q.createContext(null),B3=Q.createContext(null),Is=Q.createContext(null),Kh=Q.createContext(null),Ki=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),$3=Q.createContext(null);function BE(e,t){let{relative:n}=t===void 0?{}:t;Lc()||Qe(!1);let{basename:r,navigator:i}=Q.useContext(Is),{hash:a,pathname:s,search:o}=j3(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Li([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Lc(){return Q.useContext(Kh)!=null}function Qh(){return Lc()||Qe(!1),Q.useContext(Kh).location}function U3(e){Q.useContext(Is).static||Q.useLayoutEffect(e)}function Qi(){let{isDataRoute:e}=Q.useContext(Ki);return e?JE():$E()}function $E(){Lc()||Qe(!1);let e=Q.useContext(Gh),{basename:t,future:n,navigator:r}=Q.useContext(Is),{matches:i}=Q.useContext(Ki),{pathname:a}=Qh(),s=JSON.stringify(c1(i,n.v7_relativeSplatPath)),o=Q.useRef(!1);return U3(()=>{o.current=!0}),Q.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=u1(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Li([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,a,e])}const UE=Q.createContext(null);function jE(e){let t=Q.useContext(Ki).outlet;return t&&Q.createElement(UE.Provider,{value:e},t)}function m1(){let{matches:e}=Q.useContext(Ki),t=e[e.length-1];return t?t.params:{}}function j3(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=Q.useContext(Is),{matches:i}=Q.useContext(Ki),{pathname:a}=Qh(),s=JSON.stringify(c1(i,r.v7_relativeSplatPath));return Q.useMemo(()=>u1(e,JSON.parse(s),a,n==="path"),[e,s,a,n])}function qE(e,t,n,r){Lc()||Qe(!1);let{navigator:i}=Q.useContext(Is),{matches:a}=Q.useContext(Ki),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Qh(),u;if(t){var d;let v=typeof t=="string"?mi(t):t;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Qe(!1),u=v}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=ts(e,{pathname:h}),p=YE(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Li([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Li([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return t&&p?Q.createElement(Kh.Provider,{value:{location:pc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:tn.Pop}},p):p}function HE(){let e=ZE(),t=Yh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),n?Q.createElement("pre",{style:i},n):null,a)}const WE=Q.createElement(HE,null);class XE extends Q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?Q.createElement(Ki.Provider,{value:this.props.routeContext},Q.createElement($3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VE(e){let{routeContext:t,match:n,children:r}=e,i=Q.useContext(Gh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(Ki.Provider,{value:t},r)}function YE(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||Qe(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,g=!1,p=null,v=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||WE,l&&(c<0&&f===0?(eT("route-fallback",!1),g=!0,v=null):c===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,f+1)),w=()=>{let k;return h?k=p:g?k=v:d.route.Component?k=Q.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=u,Q.createElement(VE,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:k})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?Q.createElement(XE,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var q3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(q3||{}),lh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lh||{});function GE(e){let t=Q.useContext(Gh);return t||Qe(!1),t}function KE(e){let t=Q.useContext(B3);return t||Qe(!1),t}function QE(e){let t=Q.useContext(Ki);return t||Qe(!1),t}function H3(e){let t=QE(),n=t.matches[t.matches.length-1];return n.route.id||Qe(!1),n.route.id}function ZE(){var e;let t=Q.useContext($3),n=KE(lh.UseRouteError),r=H3(lh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function JE(){let{router:e}=GE(q3.UseNavigateStable),t=H3(lh.UseNavigateStable),n=Q.useRef(!1);return U3(()=>{n.current=!0}),Q.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,pc({fromRouteId:t},a)))},[e,t])}const vw={};function eT(e,t,n){!t&&!vw[e]&&(vw[e]=!0)}function tT(e){return jE(e.context)}function nT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=tn.Pop,navigator:a,static:s=!1,future:o}=e;Lc()&&Qe(!1);let l=t.replace(/^\/*/,"/"),c=Q.useMemo(()=>({basename:l,navigator:a,static:s,future:pc({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof r=="string"&&(r=mi(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:g="default"}=r,p=Q.useMemo(()=>{let v=Vo(u,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:h,key:g},navigationType:i}},[l,u,d,f,h,g,i]);return p==null?null:Q.createElement(Is.Provider,{value:c},Q.createElement(Kh.Provider,{children:n,value:p}))}new Promise(()=>{});function rT(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:Q.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:Q.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:Q.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gc.apply(this,arguments)}function iT(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function aT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sT(e,t){return e.button===0&&(!t||t==="_self")&&!aT(e)}const oT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lT="6";try{window.__reactRouterVersion=lT}catch{}function cT(e,t){return wE({basename:t==null?void 0:t.basename,future:gc({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:q9({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||uT(),routes:e,mapRouteProperties:rT,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function uT(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=gc({},t,{errors:dT(t.errors)})),t}function dT(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new oh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}const hT=Q.createContext({isTransitioning:!1}),fT=Q.createContext(new Map),mT="startTransition",xw=IS[mT],pT="flushSync",kw=j9[pT];function gT(e){xw?xw(e):e()}function kl(e){kw?kw(e):e()}class yT{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function bT(e){let{fallbackElement:t,router:n,future:r}=e,[i,a]=Q.useState(n.state),[s,o]=Q.useState(),[l,c]=Q.useState({isTransitioning:!1}),[u,d]=Q.useState(),[f,h]=Q.useState(),[g,p]=Q.useState(),v=Q.useRef(new Map),{v7_startTransition:b}=r||{},w=Q.useCallback(I=>{b?gT(I):I()},[b]),k=Q.useCallback((I,B)=>{let{deletedFetchers:D,flushSync:Y,viewTransitionOpts:X}=B;D.forEach(se=>v.current.delete(se)),I.fetchers.forEach((se,de)=>{se.data!==void 0&&v.current.set(de,se.data)});let ce=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!X||ce){Y?kl(()=>a(I)):w(()=>a(I));return}if(Y){kl(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:X.currentLocation,nextLocation:X.nextLocation})});let se=n.window.document.startViewTransition(()=>{kl(()=>a(I))});se.finished.finally(()=>{kl(()=>{d(void 0),h(void 0),o(void 0),c({isTransitioning:!1})})}),kl(()=>h(se));return}f?(u&&u.resolve(),f.skipTransition(),p({state:I,currentLocation:X.currentLocation,nextLocation:X.nextLocation})):(o(I),c({isTransitioning:!0,flushSync:!1,currentLocation:X.currentLocation,nextLocation:X.nextLocation}))},[n.window,f,u,v,w]);Q.useLayoutEffect(()=>n.subscribe(k),[n,k]),Q.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new yT)},[l]),Q.useEffect(()=>{if(u&&s&&n.window){let I=s,B=u.promise,D=n.window.document.startViewTransition(async()=>{w(()=>a(I)),await B});D.finished.finally(()=>{d(void 0),h(void 0),o(void 0),c({isTransitioning:!1})}),h(D)}},[w,s,u,n.window]),Q.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),Q.useEffect(()=>{!l.isTransitioning&&g&&(o(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),p(void 0))},[l.isTransitioning,g]),Q.useEffect(()=>{},[]);let T=Q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,B,D)=>n.navigate(I,{state:B,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(I,B,D)=>n.navigate(I,{replace:!0,state:B,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),R=n.basename||"/",x=Q.useMemo(()=>({router:n,navigator:T,static:!1,basename:R}),[n,T,R]),M=Q.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return Q.createElement(Q.Fragment,null,Q.createElement(Gh.Provider,{value:x},Q.createElement(B3.Provider,{value:i},Q.createElement(fT.Provider,{value:v.current},Q.createElement(hT.Provider,{value:l},Q.createElement(nT,{basename:R,location:i.location,navigationType:i.historyAction,navigator:T,future:M},i.initialized||n.future.v7_partialHydration?Q.createElement(wT,{routes:n.routes,future:n.future,state:i}):t))))),null)}const wT=Q.memo(vT);function vT(e){let{routes:t,future:n,state:r}=e;return qE(t,void 0,r,n)}const xT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qa=Q.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,f=iT(t,oT),{basename:h}=Q.useContext(Is),g,p=!1;if(typeof c=="string"&&kT.test(c)&&(g=c,xT))try{let k=new URL(window.location.href),T=c.startsWith("//")?new URL(k.protocol+c):new URL(c),R=Vo(T.pathname,h);T.origin===k.origin&&R!=null?c=R+T.search+T.hash:p=!0}catch{}let v=BE(c,{relative:i}),b=ST(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function w(k){r&&r(k),k.defaultPrevented||b(k)}return Q.createElement("a",gc({},f,{href:g||v,onClick:p||a?r:w,ref:n,target:l}))});var Sw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sw||(Sw={}));var _w;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_w||(_w={}));function ST(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=Qi(),c=Qh(),u=j3(e,{relative:s});return Q.useCallback(d=>{if(sT(d,n)){d.preventDefault();let f=r!==void 0?r:Ss(c)===Ss(u);l(e,{replace:f,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,i,n,e,a,s,o])}var W3={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1=Symbol.for("react.element"),g1=Symbol.for("react.portal"),Zh=Symbol.for("react.fragment"),Jh=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),_T=Symbol.for("react.server_context"),r0=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),a0=Symbol.for("react.suspense_list"),s0=Symbol.for("react.memo"),o0=Symbol.for("react.lazy"),ET=Symbol.for("react.offscreen"),X3;X3=Symbol.for("react.module.reference");function Rr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case p1:switch(e=e.type,e){case Zh:case e0:case Jh:case i0:case a0:return e;default:switch(e=e&&e.$$typeof,e){case _T:case n0:case r0:case o0:case s0:case t0:return e;default:return t}}case g1:return t}}}yt.ContextConsumer=n0;yt.ContextProvider=t0;yt.Element=p1;yt.ForwardRef=r0;yt.Fragment=Zh;yt.Lazy=o0;yt.Memo=s0;yt.Portal=g1;yt.Profiler=e0;yt.StrictMode=Jh;yt.Suspense=i0;yt.SuspenseList=a0;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(e){return Rr(e)===n0};yt.isContextProvider=function(e){return Rr(e)===t0};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===p1};yt.isForwardRef=function(e){return Rr(e)===r0};yt.isFragment=function(e){return Rr(e)===Zh};yt.isLazy=function(e){return Rr(e)===o0};yt.isMemo=function(e){return Rr(e)===s0};yt.isPortal=function(e){return Rr(e)===g1};yt.isProfiler=function(e){return Rr(e)===e0};yt.isStrictMode=function(e){return Rr(e)===Jh};yt.isSuspense=function(e){return Rr(e)===i0};yt.isSuspenseList=function(e){return Rr(e)===a0};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zh||e===e0||e===Jh||e===i0||e===a0||e===ET||typeof e=="object"&&e!==null&&(e.$$typeof===o0||e.$$typeof===s0||e.$$typeof===t0||e.$$typeof===n0||e.$$typeof===r0||e.$$typeof===X3||e.getModuleId!==void 0)};yt.typeOf=Rr;W3.exports=yt;var y1=W3.exports;const TT=fi(y1);function CT(e){function t(G,A,ee,he,U){for(var Te=0,te=0,xe=0,Fe=0,Ie,Re,Tt=0,xt=0,Be,nt=Be=Ie=0,Xe=0,lt=0,Ae=0,Ot=0,kt=ee.length,rt=kt-1,Ct,Ee="",ft="",Qn="",P="",q;Xe<kt;){if(Re=ee.charCodeAt(Xe),Xe===rt&&te+Fe+xe+Te!==0&&(te!==0&&(Re=te===47?10:47),Fe=xe=Te=0,kt++,rt++),te+Fe+xe+Te===0){if(Xe===rt&&(0<lt&&(Ee=Ee.replace(f,"")),0<Ee.trim().length)){switch(Re){case 32:case 9:case 59:case 13:case 10:break;default:Ee+=ee.charAt(Xe)}Re=59}switch(Re){case 123:for(Ee=Ee.trim(),Ie=Ee.charCodeAt(0),Be=1,Ot=++Xe;Xe<kt;){switch(Re=ee.charCodeAt(Xe)){case 123:Be++;break;case 125:Be--;break;case 47:switch(Re=ee.charCodeAt(Xe+1)){case 42:case 47:e:{for(nt=Xe+1;nt<rt;++nt)switch(ee.charCodeAt(nt)){case 47:if(Re===42&&ee.charCodeAt(nt-1)===42&&Xe+2!==nt){Xe=nt+1;break e}break;case 10:if(Re===47){Xe=nt+1;break e}}Xe=nt}}break;case 91:Re++;case 40:Re++;case 34:case 39:for(;Xe++<rt&&ee.charCodeAt(Xe)!==Re;);}if(Be===0)break;Xe++}switch(Be=ee.substring(Ot,Xe),Ie===0&&(Ie=(Ee=Ee.replace(d,"").trim()).charCodeAt(0)),Ie){case 64:switch(0<lt&&(Ee=Ee.replace(f,"")),Re=Ee.charCodeAt(1),Re){case 100:case 109:case 115:case 45:lt=A;break;default:lt=ze}if(Be=t(A,lt,Be,Re,U+1),Ot=Be.length,0<$&&(lt=n(ze,Ee,Ae),q=o(3,Be,lt,A,ce,X,Ot,Re,U,he),Ee=lt.join(""),q!==void 0&&(Ot=(Be=q.trim()).length)===0&&(Re=0,Be="")),0<Ot)switch(Re){case 115:Ee=Ee.replace(x,s);case 100:case 109:case 45:Be=Ee+"{"+Be+"}";break;case 107:Ee=Ee.replace(w,"$1 $2"),Be=Ee+"{"+Be+"}",Be=de===1||de===2&&a("@"+Be,3)?"@-webkit-"+Be+"@"+Be:"@"+Be;break;default:Be=Ee+Be,he===112&&(Be=(ft+=Be,""))}else Be="";break;default:Be=t(A,n(A,Ee,Ae),Be,he,U+1)}Qn+=Be,Be=Ae=lt=nt=Ie=0,Ee="",Re=ee.charCodeAt(++Xe);break;case 125:case 59:if(Ee=(0<lt?Ee.replace(f,""):Ee).trim(),1<(Ot=Ee.length))switch(nt===0&&(Ie=Ee.charCodeAt(0),Ie===45||96<Ie&&123>Ie)&&(Ot=(Ee=Ee.replace(" ",":")).length),0<$&&(q=o(1,Ee,A,G,ce,X,ft.length,he,U,he))!==void 0&&(Ot=(Ee=q.trim()).length)===0&&(Ee="\0\0"),Ie=Ee.charCodeAt(0),Re=Ee.charCodeAt(1),Ie){case 0:break;case 64:if(Re===105||Re===99){P+=Ee+ee.charAt(Xe);break}default:Ee.charCodeAt(Ot-1)!==58&&(ft+=i(Ee,Ie,Re,Ee.charCodeAt(2)))}Ae=lt=nt=Ie=0,Ee="",Re=ee.charCodeAt(++Xe)}}switch(Re){case 13:case 10:te===47?te=0:1+Ie===0&&he!==107&&0<Ee.length&&(lt=1,Ee+="\0"),0<$*C&&o(0,Ee,A,G,ce,X,ft.length,he,U,he),X=1,ce++;break;case 59:case 125:if(te+Fe+xe+Te===0){X++;break}default:switch(X++,Ct=ee.charAt(Xe),Re){case 9:case 32:if(Fe+Te+te===0)switch(Tt){case 44:case 58:case 9:case 32:Ct="";break;default:Re!==32&&(Ct=" ")}break;case 0:Ct="\\0";break;case 12:Ct="\\f";break;case 11:Ct="\\v";break;case 38:Fe+te+Te===0&&(lt=Ae=1,Ct="\f"+Ct);break;case 108:if(Fe+te+Te+se===0&&0<nt)switch(Xe-nt){case 2:Tt===112&&ee.charCodeAt(Xe-3)===58&&(se=Tt);case 8:xt===111&&(se=xt)}break;case 58:Fe+te+Te===0&&(nt=Xe);break;case 44:te+xe+Fe+Te===0&&(lt=1,Ct+="\r");break;case 34:case 39:te===0&&(Fe=Fe===Re?0:Fe===0?Re:Fe);break;case 91:Fe+te+xe===0&&Te++;break;case 93:Fe+te+xe===0&&Te--;break;case 41:Fe+te+Te===0&&xe--;break;case 40:if(Fe+te+Te===0){if(Ie===0)switch(2*Tt+3*xt){case 533:break;default:Ie=1}xe++}break;case 64:te+xe+Fe+Te+nt+Be===0&&(Be=1);break;case 42:case 47:if(!(0<Fe+Te+xe))switch(te){case 0:switch(2*Re+3*ee.charCodeAt(Xe+1)){case 235:te=47;break;case 220:Ot=Xe,te=42}break;case 42:Re===47&&Tt===42&&Ot+2!==Xe&&(ee.charCodeAt(Ot+2)===33&&(ft+=ee.substring(Ot,Xe+1)),Ct="",te=0)}}te===0&&(Ee+=Ct)}xt=Tt,Tt=Re,Xe++}if(Ot=ft.length,0<Ot){if(lt=A,0<$&&(q=o(2,ft,lt,G,ce,X,Ot,he,U,he),q!==void 0&&(ft=q).length===0))return P+ft+Qn;if(ft=lt.join(",")+"{"+ft+"}",de*se!==0){switch(de!==2||a(ft,2)||(se=0),se){case 111:ft=ft.replace(T,":-moz-$1")+ft;break;case 112:ft=ft.replace(k,"::-webkit-input-$1")+ft.replace(k,"::-moz-$1")+ft.replace(k,":-ms-input-$1")+ft}se=0}}return P+ft+Qn}function n(G,A,ee){var he=A.trim().split(v);A=he;var U=he.length,Te=G.length;switch(Te){case 0:case 1:var te=0;for(G=Te===0?"":G[0]+" ";te<U;++te)A[te]=r(G,A[te],ee).trim();break;default:var xe=te=0;for(A=[];te<U;++te)for(var Fe=0;Fe<Te;++Fe)A[xe++]=r(G[Fe]+" ",he[te],ee).trim()}return A}function r(G,A,ee){var he=A.charCodeAt(0);switch(33>he&&(he=(A=A.trim()).charCodeAt(0)),he){case 38:return A.replace(b,"$1"+G.trim());case 58:return G.trim()+A.replace(b,"$1"+G.trim());default:if(0<1*ee&&0<A.indexOf("\f"))return A.replace(b,(G.charCodeAt(0)===58?"":"$1")+G.trim())}return G+A}function i(G,A,ee,he){var U=G+";",Te=2*A+3*ee+4*he;if(Te===944){G=U.indexOf(":",9)+1;var te=U.substring(G,U.length-1).trim();return te=U.substring(0,G).trim()+te+";",de===1||de===2&&a(te,1)?"-webkit-"+te+te:te}if(de===0||de===2&&!a(U,1))return U;switch(Te){case 1015:return U.charCodeAt(10)===97?"-webkit-"+U+U:U;case 951:return U.charCodeAt(3)===116?"-webkit-"+U+U:U;case 963:return U.charCodeAt(5)===110?"-webkit-"+U+U:U;case 1009:if(U.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+U+U;case 978:return"-webkit-"+U+"-moz-"+U+U;case 1019:case 983:return"-webkit-"+U+"-moz-"+U+"-ms-"+U+U;case 883:if(U.charCodeAt(8)===45)return"-webkit-"+U+U;if(0<U.indexOf("image-set(",11))return U.replace(Y,"$1-webkit-$2")+U;break;case 932:if(U.charCodeAt(4)===45)switch(U.charCodeAt(5)){case 103:return"-webkit-box-"+U.replace("-grow","")+"-webkit-"+U+"-ms-"+U.replace("grow","positive")+U;case 115:return"-webkit-"+U+"-ms-"+U.replace("shrink","negative")+U;case 98:return"-webkit-"+U+"-ms-"+U.replace("basis","preferred-size")+U}return"-webkit-"+U+"-ms-"+U+U;case 964:return"-webkit-"+U+"-ms-flex-"+U+U;case 1023:if(U.charCodeAt(8)!==99)break;return te=U.substring(U.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+te+"-webkit-"+U+"-ms-flex-pack"+te+U;case 1005:return g.test(U)?U.replace(h,":-webkit-")+U.replace(h,":-moz-")+U:U;case 1e3:switch(te=U.substring(13).trim(),A=te.indexOf("-")+1,te.charCodeAt(0)+te.charCodeAt(A)){case 226:te=U.replace(R,"tb");break;case 232:te=U.replace(R,"tb-rl");break;case 220:te=U.replace(R,"lr");break;default:return U}return"-webkit-"+U+"-ms-"+te+U;case 1017:if(U.indexOf("sticky",9)===-1)break;case 975:switch(A=(U=G).length-10,te=(U.charCodeAt(A)===33?U.substring(0,A):U).substring(G.indexOf(":",7)+1).trim(),Te=te.charCodeAt(0)+(te.charCodeAt(7)|0)){case 203:if(111>te.charCodeAt(8))break;case 115:U=U.replace(te,"-webkit-"+te)+";"+U;break;case 207:case 102:U=U.replace(te,"-webkit-"+(102<Te?"inline-":"")+"box")+";"+U.replace(te,"-webkit-"+te)+";"+U.replace(te,"-ms-"+te+"box")+";"+U}return U+";";case 938:if(U.charCodeAt(5)===45)switch(U.charCodeAt(6)){case 105:return te=U.replace("-items",""),"-webkit-"+U+"-webkit-box-"+te+"-ms-flex-"+te+U;case 115:return"-webkit-"+U+"-ms-flex-item-"+U.replace(I,"")+U;default:return"-webkit-"+U+"-ms-flex-line-pack"+U.replace("align-content","").replace(I,"")+U}break;case 973:case 989:if(U.charCodeAt(3)!==45||U.charCodeAt(4)===122)break;case 931:case 953:if(D.test(G)===!0)return(te=G.substring(G.indexOf(":")+1)).charCodeAt(0)===115?i(G.replace("stretch","fill-available"),A,ee,he).replace(":fill-available",":stretch"):U.replace(te,"-webkit-"+te)+U.replace(te,"-moz-"+te.replace("fill-",""))+U;break;case 962:if(U="-webkit-"+U+(U.charCodeAt(5)===102?"-ms-"+U:"")+U,ee+he===211&&U.charCodeAt(13)===105&&0<U.indexOf("transform",10))return U.substring(0,U.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+U}return U}function a(G,A){var ee=G.indexOf(A===1?":":"{"),he=G.substring(0,A!==3?ee:10);return ee=G.substring(ee+1,G.length-1),K(A!==2?he:he.replace(B,"$1"),ee,A)}function s(G,A){var ee=i(A,A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2));return ee!==A+";"?ee.replace(M," or ($1)").substring(4):"("+A+")"}function o(G,A,ee,he,U,Te,te,xe,Fe,Ie){for(var Re=0,Tt=A,xt;Re<$;++Re)switch(xt=W[Re].call(u,G,Tt,ee,he,U,Te,te,xe,Fe,Ie)){case void 0:case!1:case!0:case null:break;default:Tt=xt}if(Tt!==A)return Tt}function l(G){switch(G){case void 0:case null:$=W.length=0;break;default:if(typeof G=="function")W[$++]=G;else if(typeof G=="object")for(var A=0,ee=G.length;A<ee;++A)l(G[A]);else C=!!G|0}return l}function c(G){return G=G.prefix,G!==void 0&&(K=null,G?typeof G!="function"?de=1:(de=2,K=G):de=0),c}function u(G,A){var ee=G;if(33>ee.charCodeAt(0)&&(ee=ee.trim()),oe=ee,ee=[oe],0<$){var he=o(-1,A,ee,ee,ce,X,0,0,0,0);he!==void 0&&typeof he=="string"&&(A=he)}var U=t(ze,ee,A,0,0);return 0<$&&(he=o(-2,U,ee,ee,ce,X,U.length,0,0,0),he!==void 0&&(U=he)),oe="",se=0,X=ce=1,U}var d=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,g=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,b=/([\t\r\n ])*\f?&/g,w=/@(k\w+)\s*(\S*)\s*/,k=/::(place)/g,T=/:(read-only)/g,R=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,M=/([\s\S]*?);/g,I=/-self|flex-/g,B=/[^]*?(:[rp][el]a[\w-]+)[^]*/,D=/stretch|:\s*\w+\-(?:conte|avail)/,Y=/([^-])(image-set\()/,X=1,ce=1,se=0,de=1,ze=[],W=[],$=0,K=null,C=0,oe="";return u.use=l,u.set=c,e!==void 0&&c(e),u}var AT={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function RT(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var IT=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ew=RT(function(e){return IT.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),V3={exports:{}},bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gn=typeof Symbol=="function"&&Symbol.for,b1=gn?Symbol.for("react.element"):60103,w1=gn?Symbol.for("react.portal"):60106,l0=gn?Symbol.for("react.fragment"):60107,c0=gn?Symbol.for("react.strict_mode"):60108,u0=gn?Symbol.for("react.profiler"):60114,d0=gn?Symbol.for("react.provider"):60109,h0=gn?Symbol.for("react.context"):60110,v1=gn?Symbol.for("react.async_mode"):60111,f0=gn?Symbol.for("react.concurrent_mode"):60111,m0=gn?Symbol.for("react.forward_ref"):60112,p0=gn?Symbol.for("react.suspense"):60113,NT=gn?Symbol.for("react.suspense_list"):60120,g0=gn?Symbol.for("react.memo"):60115,y0=gn?Symbol.for("react.lazy"):60116,MT=gn?Symbol.for("react.block"):60121,OT=gn?Symbol.for("react.fundamental"):60117,DT=gn?Symbol.for("react.responder"):60118,LT=gn?Symbol.for("react.scope"):60119;function ur(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case b1:switch(e=e.type,e){case v1:case f0:case l0:case u0:case c0:case p0:return e;default:switch(e=e&&e.$$typeof,e){case h0:case m0:case y0:case g0:case d0:return e;default:return t}}case w1:return t}}}function Y3(e){return ur(e)===f0}bt.AsyncMode=v1;bt.ConcurrentMode=f0;bt.ContextConsumer=h0;bt.ContextProvider=d0;bt.Element=b1;bt.ForwardRef=m0;bt.Fragment=l0;bt.Lazy=y0;bt.Memo=g0;bt.Portal=w1;bt.Profiler=u0;bt.StrictMode=c0;bt.Suspense=p0;bt.isAsyncMode=function(e){return Y3(e)||ur(e)===v1};bt.isConcurrentMode=Y3;bt.isContextConsumer=function(e){return ur(e)===h0};bt.isContextProvider=function(e){return ur(e)===d0};bt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===b1};bt.isForwardRef=function(e){return ur(e)===m0};bt.isFragment=function(e){return ur(e)===l0};bt.isLazy=function(e){return ur(e)===y0};bt.isMemo=function(e){return ur(e)===g0};bt.isPortal=function(e){return ur(e)===w1};bt.isProfiler=function(e){return ur(e)===u0};bt.isStrictMode=function(e){return ur(e)===c0};bt.isSuspense=function(e){return ur(e)===p0};bt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===l0||e===f0||e===u0||e===c0||e===p0||e===NT||typeof e=="object"&&e!==null&&(e.$$typeof===y0||e.$$typeof===g0||e.$$typeof===d0||e.$$typeof===h0||e.$$typeof===m0||e.$$typeof===OT||e.$$typeof===DT||e.$$typeof===LT||e.$$typeof===MT)};bt.typeOf=ur;V3.exports=bt;var PT=V3.exports,x1=PT,zT={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},FT={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},BT={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},G3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},k1={};k1[x1.ForwardRef]=BT;k1[x1.Memo]=G3;function Tw(e){return x1.isMemo(e)?G3:k1[e.$$typeof]||zT}var $T=Object.defineProperty,UT=Object.getOwnPropertyNames,Cw=Object.getOwnPropertySymbols,jT=Object.getOwnPropertyDescriptor,qT=Object.getPrototypeOf,Aw=Object.prototype;function K3(e,t,n){if(typeof t!="string"){if(Aw){var r=qT(t);r&&r!==Aw&&K3(e,r,n)}var i=UT(t);Cw&&(i=i.concat(Cw(t)));for(var a=Tw(e),s=Tw(t),o=0;o<i.length;++o){var l=i[o];if(!FT[l]&&!(n&&n[l])&&!(s&&s[l])&&!(a&&a[l])){var c=jT(t,l);try{$T(e,l,c)}catch{}}}}return e}var HT=K3;const WT=fi(HT);function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Rw=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Cp=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!y1.typeOf(e)},ch=Object.freeze([]),Ia=Object.freeze({});function Fo(e){return typeof e=="function"}function Iw(e){return e.displayName||e.name||"Component"}function S1(e){return e&&typeof e.styledComponentId=="string"}var Bo=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",_1=typeof window<"u"&&"HTMLElement"in window,XT=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY)),VT={};function _s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var YT=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,i=0;i<n;i++)r+=this.groupSizes[i];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var i=this.groupSizes,a=i.length,s=a;n>=s;)(s<<=1)<0&&_s(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var o=a;o<s;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(n+1),c=0,u=r.length;c<u;c++)this.tag.insertRule(l,r[c])&&(this.groupSizes[n]++,l++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],i=this.indexOfGroup(n),a=i+r;this.groupSizes[n]=0;for(var s=i;s<a;s++)this.tag.deleteRule(i)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var i=this.groupSizes[n],a=this.indexOfGroup(n),s=a+i,o=a;o<s;o++)r+=this.tag.getRule(o)+`/*!sc*/
`;return r},e}(),kd=new Map,uh=new Map,Hl=1,Tu=function(e){if(kd.has(e))return kd.get(e);for(;uh.has(Hl);)Hl++;var t=Hl++;return kd.set(e,t),uh.set(t,e),t},GT=function(e){return uh.get(e)},KT=function(e,t){t>=Hl&&(Hl=t+1),kd.set(e,t),uh.set(t,e)},QT="style["+Bo+'][data-styled-version="5.3.11"]',ZT=new RegExp("^"+Bo+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),JT=function(e,t,n){for(var r,i=n.split(","),a=0,s=i.length;a<s;a++)(r=i[a])&&e.registerName(t,r)},eC=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),r=[],i=0,a=n.length;i<a;i++){var s=n[i].trim();if(s){var o=s.match(ZT);if(o){var l=0|parseInt(o[1],10),c=o[2];l!==0&&(KT(c,l),JT(e,c,o[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(s)}}},tC=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},Q3=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(o){for(var l=o.childNodes,c=l.length;c>=0;c--){var u=l[c];if(u&&u.nodeType===1&&u.hasAttribute(Bo))return u}}(n),a=i!==void 0?i.nextSibling:null;r.setAttribute(Bo,"active"),r.setAttribute("data-styled-version","5.3.11");var s=tC();return s&&r.setAttribute("nonce",s),n.insertBefore(r,a),r},nC=function(){function e(n){var r=this.element=Q3(n);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var a=document.styleSheets,s=0,o=a.length;s<o;s++){var l=a[s];if(l.ownerNode===i)return l}_s(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),rC=function(){function e(n){var r=this.element=Q3(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var i=document.createTextNode(r),a=this.nodes[n];return this.element.insertBefore(i,a||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),iC=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),Nw=_1,aC={isServer:!_1,useCSSOMInjection:!XT},dh=function(){function e(n,r,i){n===void 0&&(n=Ia),r===void 0&&(r={}),this.options=Ur({},aC,{},n),this.gs=r,this.names=new Map(i),this.server=!!n.isServer,!this.server&&_1&&Nw&&(Nw=!1,function(a){for(var s=document.querySelectorAll(QT),o=0,l=s.length;o<l;o++){var c=s[o];c&&c.getAttribute(Bo)!=="active"&&(eC(a,c),c.parentNode&&c.parentNode.removeChild(c))}}(this))}e.registerId=function(n){return Tu(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(Ur({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,a=r.useCSSOMInjection,s=r.target,n=i?new iC(s):a?new nC(s):new rC(s),new YT(n)));var n,r,i,a,s},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(Tu(n),this.names.has(n))this.names.get(n).add(r);else{var i=new Set;i.add(r),this.names.set(n,i)}},t.insertRules=function(n,r,i){this.registerName(n,r),this.getTag().insertRules(Tu(n),i)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(Tu(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),i=r.length,a="",s=0;s<i;s++){var o=GT(s);if(o!==void 0){var l=n.names.get(o),c=r.getGroup(s);if(l&&c&&l.size){var u=Bo+".g"+s+'[id="'+o+'"]',d="";l!==void 0&&l.forEach(function(f){f.length>0&&(d+=f+",")}),a+=""+c+u+'{content:"'+d+`"}/*!sc*/
`}}}return a}(this)},e}(),sC=/(a)(d)/gi,Mw=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ap(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Mw(t%52)+n;return(Mw(t%52)+n).replace(sC,"$1-$2")}var ho=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Z3=function(e){return ho(5381,e)};function J3(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Fo(n)&&!S1(n))return!1}return!0}var oC=Z3("5.3.11"),lC=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&J3(t),this.componentId=n,this.baseHash=ho(oC,n),this.baseStyle=r,dh.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))a.push(this.staticRulesId);else{var s=Es(this.rules,t,n,r).join(""),o=Ap(ho(this.baseHash,s)>>>0);if(!n.hasNameForId(i,o)){var l=r(s,"."+o,void 0,i);n.insertRules(i,o,l)}a.push(o),this.staticRulesId=o}else{for(var c=this.rules.length,u=ho(this.baseHash,r.hash),d="",f=0;f<c;f++){var h=this.rules[f];if(typeof h=="string")d+=h;else if(h){var g=Es(h,t,n,r),p=Array.isArray(g)?g.join(""):g;u=ho(u,p+f),d+=p}}if(d){var v=Ap(u>>>0);if(!n.hasNameForId(i,v)){var b=r(d,"."+v,void 0,i);n.insertRules(i,v,b)}a.push(v)}}return a.join(" ")},e}(),cC=/^\s*\/\/.*$/gm,uC=[":","[",".","#"];function dC(e){var t,n,r,i,a=e===void 0?Ia:e,s=a.options,o=s===void 0?Ia:s,l=a.plugins,c=l===void 0?ch:l,u=new CT(o),d=[],f=function(p){function v(b){if(b)try{p(b+"}")}catch{}}return function(b,w,k,T,R,x,M,I,B,D){switch(b){case 1:if(B===0&&w.charCodeAt(0)===64)return p(w+";"),"";break;case 2:if(I===0)return w+"/*|*/";break;case 3:switch(I){case 102:case 112:return p(k[0]+w),"";default:return w+(D===0?"/*|*/":"")}case-2:w.split("/*|*/}").forEach(v)}}}(function(p){d.push(p)}),h=function(p,v,b){return v===0&&uC.indexOf(b[n.length])!==-1||b.match(i)?p:"."+t};function g(p,v,b,w){w===void 0&&(w="&");var k=p.replace(cC,""),T=v&&b?b+" "+v+" { "+k+" }":k;return t=w,n=v,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),u(b||!v?"":v,T)}return u.use([].concat(c,[function(p,v,b){p===2&&b.length&&b[0].lastIndexOf(n)>0&&(b[0]=b[0].replace(r,h))},f,function(p){if(p===-2){var v=d;return d=[],v}}])),g.hash=c.length?c.reduce(function(p,v){return v.name||_s(15),ho(p,v.name)},5381).toString():"",g}var e6=Xn.createContext();e6.Consumer;var t6=Xn.createContext(),hC=(t6.Consumer,new dh),Rp=dC();function n6(){return Q.useContext(e6)||hC}function r6(){return Q.useContext(t6)||Rp}var fC=function(){function e(t,n){var r=this;this.inject=function(i,a){a===void 0&&(a=Rp);var s=r.name+a.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,a(r.rules,s,"@keyframes"))},this.toString=function(){return _s(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=Rp),this.name+t.hash},e}(),mC=/([A-Z])/,pC=/([A-Z])/g,gC=/^ms-/,yC=function(e){return"-"+e.toLowerCase()};function Ow(e){return mC.test(e)?e.replace(pC,yC).replace(gC,"-ms-"):e}var Dw=function(e){return e==null||e===!1||e===""};function Es(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],s=0,o=e.length;s<o;s+=1)(i=Es(e[s],t,n,r))!==""&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}if(Dw(e))return"";if(S1(e))return"."+e.styledComponentId;if(Fo(e)){if(typeof(c=e)!="function"||c.prototype&&c.prototype.isReactComponent||!t)return e;var l=e(t);return Es(l,t,n,r)}var c;return e instanceof fC?n?(e.inject(n,r),e.getName(r)):e:Cp(e)?function u(d,f){var h,g,p=[];for(var v in d)d.hasOwnProperty(v)&&!Dw(d[v])&&(Array.isArray(d[v])&&d[v].isCss||Fo(d[v])?p.push(Ow(v)+":",d[v],";"):Cp(d[v])?p.push.apply(p,u(d[v],v)):p.push(Ow(v)+": "+(h=v,(g=d[v])==null||typeof g=="boolean"||g===""?"":typeof g!="number"||g===0||h in AT||h.startsWith("--")?String(g).trim():g+"px")+";"));return f?[f+" {"].concat(p,["}"]):p}(e):e.toString()}var Lw=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function i6(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Fo(e)||Cp(e)?Lw(Es(Rw(ch,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:Lw(Es(Rw(e,n)))}var a6=function(e,t,n){return n===void 0&&(n=Ia),e.theme!==n.theme&&e.theme||t||n.theme},bC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wC=/(^-|-$)/g;function Df(e){return e.replace(bC,"-").replace(wC,"")}var s6=function(e){return Ap(Z3(e)>>>0)};function Cu(e){return typeof e=="string"&&!0}var Ip=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},vC=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function xC(e,t,n){var r=e[n];Ip(t)&&Ip(r)?o6(r,t):e[n]=t}function o6(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s=a[i];if(Ip(s))for(var o in s)vC(o)&&xC(e,s[o],o)}return e}var yc=Xn.createContext();yc.Consumer;function kC(e){var t=Q.useContext(yc),n=Q.useMemo(function(){return function(r,i){if(!r)return _s(14);if(Fo(r)){var a=r(i);return a}return Array.isArray(r)||typeof r!="object"?_s(8):i?Ur({},i,{},r):r}(e.theme,t)},[e.theme,t]);return e.children?Xn.createElement(yc.Provider,{value:n},e.children):null}var Lf={};function l6(e,t,n){var r=S1(e),i=!Cu(e),a=t.attrs,s=a===void 0?ch:a,o=t.componentId,l=o===void 0?function(w,k){var T=typeof w!="string"?"sc":Df(w);Lf[T]=(Lf[T]||0)+1;var R=T+"-"+s6("5.3.11"+T+Lf[T]);return k?k+"-"+R:R}(t.displayName,t.parentComponentId):o,c=t.displayName,u=c===void 0?function(w){return Cu(w)?"styled."+w:"Styled("+Iw(w)+")"}(e):c,d=t.displayName&&t.componentId?Df(t.displayName)+"-"+t.componentId:t.componentId||l,f=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,h=t.shouldForwardProp;r&&e.shouldForwardProp&&(h=t.shouldForwardProp?function(w,k,T){return e.shouldForwardProp(w,k,T)&&t.shouldForwardProp(w,k,T)}:e.shouldForwardProp);var g,p=new lC(n,d,r?e.componentStyle:void 0),v=p.isStatic&&s.length===0,b=function(w,k){return function(T,R,x,M){var I=T.attrs,B=T.componentStyle,D=T.defaultProps,Y=T.foldedComponentIds,X=T.shouldForwardProp,ce=T.styledComponentId,se=T.target,de=function(he,U,Te){he===void 0&&(he=Ia);var te=Ur({},U,{theme:he}),xe={};return Te.forEach(function(Fe){var Ie,Re,Tt,xt=Fe;for(Ie in Fo(xt)&&(xt=xt(te)),xt)te[Ie]=xe[Ie]=Ie==="className"?(Re=xe[Ie],Tt=xt[Ie],Re&&Tt?Re+" "+Tt:Re||Tt):xt[Ie]}),[te,xe]}(a6(R,Q.useContext(yc),D)||Ia,R,I),ze=de[0],W=de[1],$=function(he,U,Te,te){var xe=n6(),Fe=r6(),Ie=U?he.generateAndInjectStyles(Ia,xe,Fe):he.generateAndInjectStyles(Te,xe,Fe);return Ie}(B,M,ze),K=x,C=W.$as||R.$as||W.as||R.as||se,oe=Cu(C),G=W!==R?Ur({},R,{},W):R,A={};for(var ee in G)ee[0]!=="$"&&ee!=="as"&&(ee==="forwardedAs"?A.as=G[ee]:(X?X(ee,Ew,C):!oe||Ew(ee))&&(A[ee]=G[ee]));return R.style&&W.style!==R.style&&(A.style=Ur({},R.style,{},W.style)),A.className=Array.prototype.concat(Y,ce,$!==ce?$:null,R.className,W.className).filter(Boolean).join(" "),A.ref=K,Q.createElement(C,A)}(g,w,k,v)};return b.displayName=u,(g=Xn.forwardRef(b)).attrs=f,g.componentStyle=p,g.displayName=u,g.shouldForwardProp=h,g.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ch,g.styledComponentId=d,g.target=r?e.target:e,g.withComponent=function(w){var k=t.componentId,T=function(x,M){if(x==null)return{};var I,B,D={},Y=Object.keys(x);for(B=0;B<Y.length;B++)I=Y[B],M.indexOf(I)>=0||(D[I]=x[I]);return D}(t,["componentId"]),R=k&&k+"-"+(Cu(w)?w:Df(Iw(w)));return l6(w,Ur({},T,{attrs:f,componentId:R}),n)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?o6({},e.defaultProps,w):w}}),Object.defineProperty(g,"toString",{value:function(){return"."+g.styledComponentId}}),i&&WT(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var Np=function(e){return function t(n,r,i){if(i===void 0&&(i=Ia),!y1.isValidElementType(r))return _s(1,String(r));var a=function(){return n(r,i,i6.apply(void 0,arguments))};return a.withConfig=function(s){return t(n,r,Ur({},i,{},s))},a.attrs=function(s){return t(n,r,Ur({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},a}(l6,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Np[e]=Np(e)});var SC=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=J3(n),dh.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,i,a){var s=a(Es(this.rules,r,i,a).join(""),""),o=this.componentId+n;i.insertRules(o,o,s)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,i,a){n>2&&dh.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,r,i,a)},e}();function _C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=i6.apply(void 0,[e].concat(n)),a="sc-global-"+s6(JSON.stringify(i)),s=new SC(i,a);function o(c){var u=n6(),d=r6(),f=Q.useContext(yc),h=Q.useRef(u.allocateGSInstance(a)).current;return u.server&&l(h,c,u,f,d),Q.useLayoutEffect(function(){if(!u.server)return l(h,c,u,f,d),function(){return s.removeStyles(h,u)}},[h,c,u,f,d]),null}function l(c,u,d,f,h){if(s.isStatic)s.renderStyles(c,VT,d,h);else{var g=Ur({},u,{theme:a6(u,f,o.defaultProps)});s.renderStyles(c,g,d,h)}}return Xn.memo(o)}const L=Np,EC=L.ul`
  display: flex;
  height: 100%;
  @media screen and (max-width: 768px) {
    display: none;
  }
`,TC=L.li`
  position: relative;
  display: flex;
  align-items: center;
  padding-inline: 20px;
  color: #ffffff;
  font-size: 18px;
  line-height: 1;
  text-transform: capitalize;
  white-space: nowrap;
  border-bottom: ${e=>e.isDropdown?"4px solid hsla(234, 60%, 66%, 1)":"none"};
  transition: all 0.05s;
  cursor: pointer;
  @media screen and (max-width: 1024px) {
    font-size: 16px;
    font-weight: 300;
    padding-inline: 16px;
  }
`,CC=L.ul`
  position: absolute;
  top: 86px;
  left: 0;
  display: ${e=>e.isDropdown?"block":"none"};
  padding: 16px 20px;
  background: hsl(231, 14%, 18%);
  border-radius: 8px;
  transition: all 0s ease 0.1s;
  width: 200px;
`,AC=L.li`
  display: block;
  padding-block: 8px;
  color: hsl(0, 0%, 88%);
  font-weight: 400;
  font-size: 14px;
  &:hover {
    color: hsl(234, 60%, 66%);
  }
`,c6=(e,t)=>{t&&(t.startsWith("http")||t.startsWith("https")?window.location.href=t:e(t))},RC=({label:e,url:t})=>{const n=Qi();return S.jsx(AC,{onClick:()=>c6(n,t),children:e})},IC=({subNavItems:e,isDropdown:t})=>S.jsx(CC,{isDropdown:t,children:e==null?void 0:e.map(({key:n,label:r,url:i})=>S.jsx(RC,{label:r,url:i},n))}),NC=({label:e,subNavItems:t,url:n})=>{const r=Qi(),[i,a]=Q.useState(!1);return S.jsxs(TC,{isDropdown:i,onMouseOver:()=>a(!0),onMouseOut:()=>a(!1),onClick:()=>c6(r,n),children:[e,t&&S.jsx(IC,{subNavItems:t,isDropdown:i})]})},MC=({items:e})=>S.jsx(EC,{children:e.map(({key:t,label:n,url:r,children:i})=>S.jsx(NC,{label:n,url:r,subNavItems:i},t))}),OC="/xline-home/assets/home-menu-icon-89ded3a1.svg",DC="/xline-home/assets/dropIcon-a6089e22.svg",LC="/xline-home/assets/dropIconActive-ff0a9a64.svg",PC=L.img`
  display: none;
  margin-left: 12px;
  @media screen and (max-width: 768px) {
    display: block;
  }
`,zC=L.ul`
  display: ${e=>e.isDropDown?"flex":"none"};
  flex-direction: column;
  position: absolute;
  top: 53px;
  left: 0;
  width: 100%;
  z-index: 1000;
  @media screen and (min-width: 768px) {
    display: none;
  }
`,FC=L.li`
  display: flex;
  align-items: center;
  height: 42px;
  padding-inline: 20px;
`,BC=L(FC)`
  background: #111429;
  color: ${e=>e.isDropdown?"#7680DD":"#E0E0E0"};
  font-weight: 500;
  font-size: 16px;
  line-height: 1;
`,$C=L.p`
  /* min-width: 100px; */
`,UC=L.ul`
  display: ${e=>e.isDropdown?"block":"none"};
  height: ${e=>e.isDropdown?"min-content":"0px"};
  transition: all 1s;
`,jC=L.li`
  display: flex;
  align-items: center;
  height: 42px;
  padding-inline: 20px;
`,qC=L(jC)`
  background: #242840;
  color: #e0e0e0;
`,Pw=L.img`
  margin-left: 12px;
  height: 12px;
  width: 12px;
`,u6=(e,t,n,r)=>{t?t.startsWith("http")||t.startsWith("https")?window.location.href=t:e(t):r&&r(!n)},HC=({label:e,url:t})=>{const n=Qi();return S.jsx(qC,{onClick:()=>u6(n,t),children:e})},WC=({isDropdown:e,subNavItems:t})=>S.jsx(UC,{isDropdown:e,children:t==null?void 0:t.map(({key:n,label:r,url:i})=>S.jsx(HC,{label:r,url:i},n))}),XC=({label:e,url:t,subNavItems:n})=>{const r=Qi(),[i,a]=Q.useState(!1);return S.jsxs(S.Fragment,{children:[S.jsxs(BC,{isDropdown:i,onClick:()=>u6(r,t,i,a),children:[S.jsx($C,{children:e}),(n==null?void 0:n.length)!==0&&S.jsx(S.Fragment,{children:i?S.jsx(Pw,{src:LC}):S.jsx(Pw,{src:DC})})]}),S.jsx(WC,{isDropdown:i,subNavItems:n})]})},VC=({items:e})=>{const[t,n]=Q.useState(!1);return S.jsxs(S.Fragment,{children:[S.jsx(PC,{src:OC,onClick:()=>n(!t)}),S.jsx(zC,{isDropDown:t,children:(e||[]).map(({key:r,label:i,url:a,children:s})=>S.jsx(XC,{label:i,url:a,subNavItems:s},r))})]})},E1="/xline-home/assets/logo-09b12ff2.svg",d6="/xline-home/assets/github-icon-6d7f2a5b.svg",zw=[{key:"docs",label:"Docs",children:[{key:"what's-new",label:"What's new",url:"/docs/What's-New"},{key:"get-started",label:"Get started",url:"/docs/Get-Started"},{key:"deploy",label:"Deploy",url:"/docs/Deploy"},{key:"develop",label:"Develop",url:"/docs/Develop"},{key:"reference",label:"reference",url:"/docs/Xline-Architecture-Details"}]},{key:"deep-dive",label:"Deep dive",children:[{key:"consensus",label:"Consensus",url:"/deep-dive/Consensus"},{key:"kv-engine",label:"KV engine",url:"/deep-dive/Key-value-Engine"},{key:"rpc",label:"RPC",url:"/deep-dive/Remote-Procedure-Calls-(RPC)"},{key:"test",label:"Test",url:"/deep-dive/Testing"}]},{key:"community",label:"Community",children:[{key:"chat",label:"Chat",url:"https://discord.gg/XyFXGpSfvb"},{key:"contribute",label:"Contribute",url:"/contribute"},{key:"2024 GSoC",label:"2024 GSoC",url:"/GSoC"},{key:"Community Meeting",label:"Community Meeting",url:"/meeting"}]},{key:"resources",label:"Resources",children:[{key:"blog",label:"Blog",url:"/blog"},{key:"video",label:"Video",url:"/video"}]}],YC=L.header`
  position: absolute;
  top: 0;
  left: 0;
  height: 86px;
  width: 100%;
  background-color: hsla(236, 60%, 10%, 0.4);
  color: ${e=>e.theme.color.white};
  @media screen and (max-width: 1024px) {
    height: 69px;
  }
  @media screen and (max-width: 768px) {
    height: 53px;
  }
`,GC=L.div`
  position: relative;
  display: flex;
  align-items: center;
  height: inherit;
  width: 100%;
  max-width: 1440px;
  margin-inline: auto;
  padding-left: 105px;
  padding-right: 101px;
  @media screen and (max-width: 1024px) {
    padding-inline: 64px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 20px;
  }
`,KC=L.img`
  width: 111px;
  height: 32px;
  margin-right: calc(68px - 20px);
  @media screen and (max-width: 1024px) {
    width: 86px;
    height: 22px;
    margin-right: 24px;
  }
  @media screen and (max-width: 768px) {
    width: 64px;
    height: 18px;
    margin-right: 0;
  }
`,QC=L.div`
  flex: 1;
  min-width: ${e=>e.theme.scale.md};
  @media screen and (max-width: 1024px) {
    min-width: 16px;
  }
`,ZC=L.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 131px;
  height: 48px;
  /* padding: 8px 16px; */
  color: ${e=>e.theme.color.white};
  background: linear-gradient(
    90deg,
    hsla(270, 50%, 60%, 1),
    hsla(257, 97%, 73%, 1) 50%,
    hsla(266, 87%, 75%, 1)
  );
  border: none;
  border-radius: 50vh;
  cursor: pointer;
  @media screen and (max-width: 1024px) {
    width: 106px;
    height: 36px;
  }
  @media screen and (max-width: 768px) {
    width: 84px;
    height: 24px;
  }
`,JC=L.img`
  width: 24.94px;
  height: 24.94px;
  margin-right: 8px;
  @media screen and (max-width: 1024px) {
    width: 18px;
    margin-right: 7px;
  }
  @media screen and (max-width: 768px) {
    width: 15px;
    margin-right: 6px;
  }
`,eA=L.p`
  font-size: 18px;
  line-height: 1;
  text-transform: capitalize;
  transform: translateY(5%);
  @media screen and (max-width: 1024px) {
    font-size: 15px;
  }
  @media screen and (max-width: 768px) {
    font-size: 11px;
  }
`,tA=()=>{const e=Qi();return S.jsx(YC,{children:S.jsxs(GC,{children:[S.jsx(KC,{src:E1,alt:"Xline",onClick:()=>e("/")}),S.jsx(MC,{items:zw}),S.jsx(QC,{}),S.jsxs(ZC,{as:"a",href:"https://github.com/datenlord/xline",children:[S.jsx(JC,{src:d6,alt:"icon"}),S.jsx(eA,{children:"github"})]}),S.jsx(VC,{items:zw})]})})},h6=[{title:"What's New",url:"/docs/What's-New",children:[{type:"heading",title:"v0.1.0",url:"/docs/What's-New",id:"v0.1.0"},{type:"heading",title:"v0.2.0",url:"/docs/What's-New",id:"v0.2.0"},{type:"heading",title:"v0.3.0",url:"/docs/What's-New",id:"v0.3.0"},{type:"heading",title:"v0.4.0",url:"/docs/What's-New",id:"v0.4.0"},{type:"heading",title:"v0.4.1",url:"/docs/What's-New",id:"v0.4.1"},{type:"heading",title:"v0.5.0",url:"/docs/What's-New",id:"v0.5.0"},{type:"heading",title:"v0.6.0",url:"/docs/What's-New",id:"v0.6.0"},{type:"heading",title:"v0.6.1",url:"/docs/What's-New",id:"v0.6.1"}]},{title:"Get Started",url:"/docs/Get-Started",children:[{type:"heading",title:"Architecture",url:"/docs/Get-Started",id:"Architecture"},{type:"heading",title:"Xline In 5 Minutes",url:"/docs/Get-Started",id:"Xline-In-5-Minutes"}]},{title:"Deploy",url:"/docs/Deploy",children:[{type:"heading",title:"Install",url:"/docs/Deploy",id:"Install"}]},{title:"Develop",url:"/docs/Develop",children:[{type:"heading",title:"Xline API",url:"/docs/Develop",id:"Xline-API"}]},{title:"Reference",url:"/docs/Xline-Architecture-Details",children:[{type:"article",title:"Xline Architecture Details",url:"/docs/Xline-Architecture-Details"},{type:"article",title:"Performance Comparison",url:"/docs/Performance-Comparison"}]}],f6=[{title:"Consensus",url:"/deep-dive/Consensus",children:[{type:"heading",title:"Basic Concept",url:"/deep-dive/Consensus",id:"Basic-Concept"},{type:"heading",title:"Consensus Protocol",url:"/deep-dive/Consensus",id:"Consensus-Protocol"}]},{title:"KV Engine",url:"/deep-dive/Key-value-Engine",children:[{type:"heading",title:"Metrics",url:"/deep-dive/Key-value-Engine",id:"Metrics"},{type:"heading",title:"LSM Tree And B-Tree",url:"/deep-dive/Key-value-Engine",id:"LSM-Tree-And-B-Tree"}]},{title:"RPC",url:"/deep-dive/Remote-Procedure-Calls-(RPC)",children:[{type:"heading",title:"Remote Procedure Call (RPC)",url:"/deep-dive/Remote-Procedure-Calls-(RPC)"}]},{title:"Test",url:"/deep-dive/Testing",children:[{type:"heading",title:"Unit Testing",url:"/deep-dive/Testing",id:"Unit-Testing"},{type:"heading",title:"Mock Testing",url:"/deep-dive/Testing",id:"Mock-Testing"},{type:"heading",title:"Integration Testing",url:"/deep-dive/Testing",id:"Integration-Testing"},{type:"heading",title:"Validation Testing",url:"/deep-dive/Testing",id:"Validation-Testing"}]}],nA="/xline-home/assets/footer-background-1fe3290c.svg",rA="/xline-home/assets/discord-icon-7417d9bb.svg",iA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAuCAYAAACh8K6vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANFSURBVHgB7Zs/axRBGId/s7N7t8YoKtqkUjSlKOQ7iNqInZ0gUcFWBK3UQkXUQksLO8HCNDYBxS+gnWAZSCEiqFFMJJvb3Xl99yRkY+YMcznmz2Yf2LvNuzebvWcnM+/OTIAWJwhY4kePjkcKEyZl4hjUIZQwpCcgi8Lsu5UCn/Z1xQdYIoYlpMIVIXDRpIxQvA1xhaIAIsMqJQiz/HYalojQ4oRWvCNa8Y5oxTvCWuc6CCI84H5wXnswwm5+vcrb/lpUcZmH3BnODTpnqSAxIGPj7GUPH7wDxzgXH0d4OdYR7wYdz3N6LyReYE1+xErPFjlOpamYgyFfiSZkz71475uaJBFvqcQ53v22GuOqPCk7mM0yOoxACaKNb6L8YDrXpskPKqtpkvzg0smmyA8yj2+CfGvpZDdBorvLLOwyEaeMgjNzA/ryiY7yblqPx10scDzh8+W6cuNcNI71F2ITe3k8KSEi7R/YBX7g4YciumQqnz//RRfPS3rMNf+JLs/Pskzs6qYbLw928aOpEZhm+U9Z/mjqnfjb7PD5DsBT/GnjRyy/avNL6svfCw/xq3Mddc0Hplj+Gx/lOxfPbevsusA2ke9evMAtHm28vy64VfklHqGWasJD+V40NYkU13Xyecr1Loagluf/rIX78jsy9UK+N228Vj7hJIakkg+Fad4tauGpbowZeIBXnatW/haIYzHD8quaX5d/CB7g3ZCBJfnO8XKsZjvI93aQrJKfK9zEiKjk52W/z1iGB1gbqykQFaQ2xpUcXCaNxStOAQ9ysfP1eFnicyLxjMdqjJb37eAON8vpDGdMr/89RpYHa6yJLwsopcnKpfp/OZY7z4Ne/LZW+6uxtkJhkm/KDVP5izE+pr2Ncdviw5hzlaJ6yLpdj/GNuMby77F8iQAJZ861YfLDmnNtkPzw5lwbIj/MOdcGyA920Wro8p2vnSwIz3+t0ILuWByBOnLTf8VZ4a27+kMlf7nACT7nivbTPXhxU5yL59T+yMCDw+bWhGOWFw0Y066Pd0Qr3hGteEdYa+O5zc345bdpIUbBnMh0ZZioul2LWOuDOMUbW1rCThgyPm4ufrFKbpbMvlv1e3jA7TtaWlpamsMfwGp0UFDsZm0AAAAASUVORK5CYII=",aA="/xline-home/assets/cncf-logo-text-9f32c1ea.png",sA=L.footer`
  background-image: url(${nA});
  background-size: cover;
`,oA=L.div`
  max-width: 1440px;
  margin-inline: auto;
  padding-inline: 128px;
  padding-block: 64px;
  @media screen and (max-width: 1024px) {
    padding-inline: 96px;
    padding-block: 48px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 64px;
    padding-block: 32px;
  }
`,lA=L.div`
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
`,Au=L.div`
  margin-inline: 32px;
  margin-bottom: 48px;
  color: white;
  width: 200px;
  @media screen and (max-width: 1024px) {
    margin-inline: 24px;
    margin-bottom: 36px;
  }
  @media screen and (max-width: 768px) {
    margin-inline: 16px;
    margin-bottom: 24px;
  }
`,Ru=L.h2`
  padding-bottom: 32px;
  margin-bottom: 32px;
  font-weight: 500;
  font-size: 28px;
  text-transform: capitalize;
  border-bottom: 1px solid white;
  cursor: default;
  @media screen and (max-width: 1024px) {
    font-size: 21px;
    padding-bottom: 24px;
    margin-bottom: 24px;
  }
  @media screen and (max-width: 768px) {
    font-size: 14px;
    padding-bottom: 16px;
    margin-bottom: 16px;
  }
`,Iu=L.ul``,sa=L.li`
  margin-bottom: 28px;
  font-weight: 400;
  font-size: 22px;
  text-transform: capitalize;
  cursor: pointer;
  @media screen and (max-width: 1024px) {
    margin-bottom: 21px;
    font-size: 16.5px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 14px;
    font-size: 11px;
  }
`,cA=L.div`
  padding-bottom: 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  /* flex-wrap: wrap; */
  @media screen and (max-width: 1024px) {
    padding-bottom: 36px;
  }
  @media screen and (max-width: 768px) {
    padding-bottom: 24px;
  }
`,uA=L.img`
  height: 48px;
  margin-bottom: 8px;
  cursor: pointer;
  @media screen and (max-width: 1024px) {
    height: 34px;
  }
  @media screen and (max-width: 768px) {
    height: 22px;
  }
  /* @media screen and (max-width: 512px) {
    display: none;
  } */
  @media screen and (max-width: 320px) {
    height: 18px;
  }
`;L.div`
  flex: 1;
  /* @media screen and (max-width: 512px) {
    display: none;
  } */
`;const Mp=L.div`
  display: flex;
  align-items: center;
  height: 32px;
  margin-left: 32px;
  margin-bottom: 8px;
  color: white;
  cursor: pointer;
  @media screen and (max-width: 1024px) {
    height: 24px;
    margin-left: 24px;
  }
  @media screen and (max-width: 768px) {
    height: 16px;
    margin-left: 16px;
  }
`,Fw=L.img`
  height: 100%;
  margin-right: 16px;
  @media screen and (max-width: 1024px) {
    margin-right: 12px;
  }
  @media screen and (max-width: 768px) {
    margin-right: 8px;
  }
`,Bw=L.p`
  font-weight: 600;
  font-size: 24px;
  line-height: 1;
  @media screen and (max-width: 1024px) {
    font-size: 18px;
  }
  @media screen and (max-width: 768px) {
    font-size: 12px;
  }
`,dA=L.div`
  margin-left: -4%;
  width: 108%;
  padding-top: 32px;

  color: #fff;
  border-top: 1px solid #fff;
`,$w=L.div`
  padding-bottom: 16px;
  text-align: center;
  font-weight: 600;
  font-size: 18px;
  line-height: 1;
  &:last-child {
    padding-bottom: 0;
  }
  @media screen and (max-width: 1024px) {
    padding-bottom: 12px;
    font-size: 13.5px;
  }
  @media screen and (max-width: 768px) {
    padding-bottom: 8px;
    font-size: 9px;
  }
`,hA=L(Mp)`
  cursor: default;
`,fA=L.img`
  height: 100%;
`,mA=L.img`
  height: 100%;
`,pA=()=>{const e=Qi();return S.jsx(S.Fragment,{children:S.jsx(sA,{children:S.jsxs(oA,{children:[S.jsxs(lA,{children:[S.jsxs(Au,{children:[S.jsx(Ru,{children:"docs"}),S.jsx(Iu,{children:h6.map(({title:t,url:n})=>S.jsx(sa,{onClick:()=>{e(n),window.scrollTo(0,0)},children:t},t))})]}),S.jsxs(Au,{children:[S.jsx(Ru,{children:"deep dive"}),S.jsx(Iu,{children:f6.map(({title:t,url:n})=>S.jsx(sa,{onClick:()=>{e(n),window.scrollTo(0,0)},children:t},t))})]}),S.jsxs(Au,{children:[S.jsx(Ru,{children:"community"}),S.jsxs(Iu,{children:[S.jsx(sa,{onClick:()=>{e("/contribute"),window.scrollTo(0,0)},children:"contribute"}),S.jsx(sa,{onClick:()=>window.location.href="https://discord.gg/XyFXGpSfvb",children:"chat"}),S.jsx(sa,{onClick:()=>{e("/GSoC"),window.scrollTo(0,0)},children:"2024 GSoC"}),S.jsx(sa,{onClick:()=>{e("/meeting"),window.scrollTo(0,0)},children:"Community Meeting"})]})]}),S.jsxs(Au,{children:[S.jsx(Ru,{children:"resources"}),S.jsxs(Iu,{children:[S.jsx(sa,{onClick:()=>{e("/blog"),window.scrollTo(0,0)},children:"blog"}),S.jsx(sa,{onClick:()=>{e("/video"),window.scrollTo(0,0)},children:"video"})]})]})]}),S.jsxs(cA,{children:[S.jsx(uA,{src:E1,alt:"Xline",onClick:()=>{window.scrollTo(0,0),e("/")}}),S.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[S.jsxs(hA,{children:[S.jsx(fA,{src:iA}),S.jsx(mA,{src:aA})]}),S.jsxs(Mp,{as:"a",href:"https://github.com/datenlord/xline",children:[S.jsx(Fw,{src:d6,alt:"icon"}),S.jsx(Bw,{children:"GitHub"})]}),S.jsxs(Mp,{as:"a",href:"https://discord.gg/XyFXGpSfvb",children:[S.jsx(Fw,{src:rA,alt:"icon"}),S.jsx(Bw,{children:"Discord"})]})]})]}),S.jsxs(dA,{children:[S.jsx($w,{children:"We are a Cloud Native Computing Foundation sandbox project."}),S.jsx($w,{children:"Xline for The Linux Foundation"})]})]})})})},gA=()=>S.jsxs(S.Fragment,{children:[S.jsx(tA,{}),S.jsx(tT,{}),S.jsx(pA,{})]}),yA="/xline-home/assets/home-cover-d1b85aac.png",Zi="/xline-home/assets/underline-f73f57b0.svg",bA="/xline-home/assets/home-introduction-7de62c15.png",wA="/xline-home/assets/home-feature-e6cc5478.png",vA="/xline-home/assets/home-feature-icon-1-fbcf26cf.svg",xA="/xline-home/assets/home-feature-icon-2-0ecc0ea1.svg",kA="/xline-home/assets/home-feature-icon-3-52559a2e.svg",SA="/xline-home/assets/home-feature-icon-4-f6b1221b.svg",_A="/xline-home/assets/home-innovation-386c4d96.svg",EA=L.div`
  background-image: url(${yA});
  background-size: cover;
`,TA=L.div`
  max-width: 1440px;
  margin-inline: auto;
  padding-top: calc(86px + 134px);
  padding-bottom: 96px;
  padding-inline: 156px;
  color: white;
  @media screen and (max-width: 1024px) {
    padding-top: calc(69px + 100px);
    padding-bottom: 72px;
    padding-inline: 117px;
  }
  @media screen and (max-width: 768px) {
    padding-top: calc(53px + 67px);
    padding-bottom: 48px;
    padding-inline: 78px;
  }
`,CA=L.img`
  width: 346px;
  height: 100px;
  margin-bottom: 36px;
  @media screen and (max-width: 1024px) {
    width: 225px;
    height: 65px;
    margin-bottom: 28px;
  }
  @media screen and (max-width: 786px) {
    width: 104px;
    height: 30px;
    margin-bottom: 24px;
  }
`,AA=L.h1`
  max-width: 90%;
  margin-bottom: 32px;
  font-weight: 500;
  font-size: 39px;
  @media screen and (max-width: 1024px) {
    margin-bottom: 24px;
    font-size: 28.5px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 16px;
    font-size: 19px;
  }
`,RA=L.button`
  display: flex;
  align-items: center;
  height: 56px;
  padding-inline: 48px;
  color: ${e=>e.theme.color.white};
  font-size: 26px;
  text-transform: capitalize;
  background: linear-gradient(
    90deg,
    hsla(270, 50%, 60%, 1),
    hsla(257, 97%, 73%, 1) 50%,
    hsla(266, 87%, 75%, 1)
  );
  border: none;
  border-radius: 50vh;
  cursor: pointer;
  @media screen and (max-width: 1024px) {
    height: 42px;
    padding-inline: 36px;
    font-size: 19.5px;
  }
  @media screen and (max-width: 768px) {
    height: 28px;
    padding-inline: 24px;
    font-size: 13px;
  }
`,IA=L.div`
  background: hsl(210, 20%, 98%);
`,NA=L.div`
  /* display: flex; */
  max-width: 1440px;
  margin-inline: auto;
  padding-block: ${({theme:e})=>e.scale.xxl};
  padding-inline: 96px;
  @media screen and (max-width: 1024px) {
    padding-block: 96px;
    padding-inline: 72px;
  }
  @media screen and (max-width: 768px) {
    padding-block: 64px;
    padding-inline: 48px;
  }
`,MA=L.img`
  float: right;
  width: 40%;
  margin-left: 40px;
  margin-bottom: 40px;
  object-fit: contain;
  @media screen and (max-width: 1024px) {
    margin-left: 30px;
    margin-bottom: 30px;
  }
  @media screen and (max-width: 768px) {
    margin-left: 20px;
    margin-bottom: 20px;
  }
  @media screen and (max-width: 425px) {
    width: 100%;
    margin-left: 0px;
  }
`,OA=L.div``,DA=L.p`
  margin-bottom: ${({theme:e})=>e.scale.md};
  font-weight: 400;
  font-size: 20px;
  line-height: 1.6;
  @media screen and (max-width: 1024px) {
    font-size: 15px;
  }
  @media screen and (max-width: 768px) {
    font-size: 10px;
  }
`,LA=L.ul`
  padding-left: ${({theme:e})=>e.scale.lg};
  @media screen and (max-width: 1024px) {
    padding-left: 48px;
  }
  @media screen and (max-width: 768px) {
    padding-left: 32px;
  }
`,Pf=L.li`
  position: relative;
  margin-bottom: ${({theme:e})=>e.scale.sm};
  font-weight: 400;
  font-size: 20px;
  line-height: 1.7;
  @media screen and (max-width: 1024px) {
    font-size: 15px;
  }
  @media screen and (max-width: 768px) {
    font-size: 10px;
  }
  ::before {
    content: '';
    position: absolute;
    left: -48px;
    top: 4px;
    height: 32px;
    width: 32px;
    background: linear-gradient(90deg, #767ee5, #9966cc);
    border-radius: 50%;
    @media screen and (max-width: 1024px) {
      left: -36px;
      top: 3px;
      width: 24px;
      height: 24px;
    }
    @media screen and (max-width: 768px) {
      left: -24px;
      top: 2px;
      width: 16px;
      height: 16px;
    }
  }
`,PA=L.div``,zA=L.div`
  display: flex;
  /* align-items: center; */
  max-width: 1440px;
  margin-inline: auto;
  padding-block: ${({theme:e})=>e.scale.xxl};
  padding-inline: 96px;
  @media screen and (max-width: 1440px) {
    flex-direction: column;
  }
  @media screen and (max-width: 1024px) {
    padding-block: 96px;
    padding-inline: 72px;
  }
  @media screen and (max-width: 768px) {
    padding-block: 64px;
    padding-inline: 48px;
  }
`,FA=L.div`
  flex-shrink: 0;
  width: 25%;
  margin-right: 48px;
  @media screen and (max-width: 1440px) {
    width: 100%;
    margin-right: 0;
    margin-bottom: 16px;
  }
`,BA=L.h2`
  position: relative;
  margin-top: 104px;
  margin-bottom: 96px;
  font-weight: 700;
  font-size: 44px;
  line-height: 1.4;
  @media screen and (max-width: 1440px) {
    margin-top: 0;
    margin-bottom: 0px;
    text-align: center;
  }
  @media screen and (max-width: 1024px) {
    font-size: 36px;
  }
  @media screen and (max-width: 768px) {
    font-size: 24px;
  }
  /* ::after {
    content: '';
    z-index: -1;
    position: absolute;
    bottom: 0;
    right: 50px;
    display: inline-block;
    width: 250px;
    height: 30px;
    background-image: url(${Zi});
    background-repeat: no-repeat;
    background-size: contain;
  } */
`,$A=L.img`
  display: block;
  margin-inline: auto;
  width: 100%;
  @media screen and (max-width: 1440px) {
    width: 30%;
  }
`,UA=L.div`
  display: flex;
  justify-content: space-between;
  align-content: space-between;
  flex: 1;
  flex-flow: wrap;
`,Nu=L.div`
  width: 48%;
  padding: 16px;
  @media screen and (max-width: 425px) {
    width: 100%;
  }
`,Mu=L.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 102px;
  height: 102px;
  margin-bottom: 32px;
  background: linear-gradient(90deg, #767ee5, #9966cc);
  border-radius: 24px;
  @media screen and (max-width: 1024px) {
    width: 76.5px;
    height: 76.5px;
    margin-bottom: 24px;
    border-radius: 18px;
  }
  @media screen and (max-width: 768px) {
    width: 51px;
    height: 51px;
    margin-bottom: 16px;
    border-radius: 12px;
  }
`,Ou=L.img`
  width: 50%;
  height: 50%;
`,Du=L.h3`
  margin-bottom: 16px;
  font-weight: 500;
  font-size: 28px;
  line-height: 1.2;
  @media screen and (max-width: 1024px) {
    font-size: 21px;
    margin-bottom: 12px;
  }
  @media screen and (max-width: 768px) {
    font-size: 14px;
    margin-bottom: 8px;
  }
`,Lu=L.p`
  font-weight: 400;
  font-size: 16px;
  line-height: 1.5;
  color: hsla(0, 0%, 0%, 0.6);
  @media screen and (max-width: 1024px) {
    font-size: 12px;
    line-height: 1.3;
  }
  @media screen and (max-width: 768px) {
    font-size: 8px;
    line-height: 1.1;
  }
`,jA=L.div`
  background: #f9fafb;
`,qA=L.div`
  display: flex;
  max-width: 1440px;
  margin-inline: auto;
  padding-block: ${({theme:e})=>e.scale.xxl};
  padding-inline: 96px;
  @media screen and (max-width: 1440px) {
    flex-direction: column;
  }
  @media screen and (max-width: 1024px) {
    padding-block: 96px;
    padding-inline: 72px;
  }
  @media screen and (max-width: 768px) {
    padding-block: 64px;
    padding-inline: 48px;
  }
`,HA=L.div`
  flex-shrink: 0;
  width: 25%;
  margin-right: 48px;
  @media screen and (max-width: 1440px) {
    width: 100%;
    margin-right: 0;
    margin-bottom: 16px;
  }
`,WA=L.div`
  text-align: center;
`,XA=L.div`
  display: inline-block;
  position: relative;
  width: 100%;
  /* height: 70px; */
  margin-inline: auto;
  margin-top: 72px;
  margin-bottom: 48px;
  font-weight: 700;
  font-size: 44px;
  line-height: 1.4;
  /* background-image: url(${Zi});
  background-repeat: no-repeat;
  background-position: bottom 0 right 0; */
  @media screen and (max-width: 1440px) {
    margin-top: 0;
    margin-bottom: 0;
  }
  @media screen and (max-width: 1024px) {
    font-size: 36px;
  }
  @media screen and (max-width: 768px) {
    font-size: 24px;
  }
`,VA=L.img`
  display: block;
  position: relative;
  left: 16px;
  width: 100%;
  margin-inline: auto;
  object-fit: contain;
  @media screen and (max-width: 1440px) {
    left: 12px;
    width: 30%;
  }
`,YA=L.div`
  flex: 1;
  padding: 48px;
  height: min-content;
  background: white;
  border-radius: 24px;
  @media screen and (max-width: 1024px) {
    padding: 36px;
    border-radius: 18px;
  }
  @media screen and (max-width: 768px) {
    padding: 24px;
    border-radius: 12px;
  }
`,zf=L.p`
  margin-bottom: 32px;
  font-weight: 400;
  font-size: 18px;
  line-height: 1.4;
  @media screen and (max-width: 1024px) {
    margin-bottom: 24px;
    font-size: 13.5px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 16px;
    font-size: 9px;
  }
`,GA=()=>{const e=Qi();return S.jsxs(S.Fragment,{children:[S.jsx(EA,{children:S.jsxs(TA,{children:[S.jsx(CA,{src:E1,alt:"Xline"}),S.jsx(AA,{children:"A High-Performance Geo-distributed Metadata Management System"}),S.jsx(RA,{onClick:()=>e("/docs/Get-Started"),children:"get start"})]})}),S.jsx(IA,{children:S.jsxs(NA,{children:[S.jsx(MA,{src:bA,alt:"Image"}),S.jsxs(OA,{children:[S.jsx(DA,{children:"Data isolation and data fragmentation resulting from cloud barriers have become impediments to business growth. The biggest challenge of multi-data center architecture is how to maintain strong data consistency and ensure high performance. Traditional single-data center solutions cannot meet the availability, performance, and consistency requirements of multi-data center scenarios."}),S.jsxs(LA,{children:[S.jsx(Pf,{children:"Xline is a distributed KV storage for metadata management. Xline makes it possible to manage metadata, such as indexes, permissions, and configurations across multiple clusters."}),S.jsx(Pf,{children:"Xline can achieve high-performance data access and strong consistency in cross data center scenarios."}),S.jsx(Pf,{children:"Xline is compatible with the ETCD interface, so that existing ETCD users can seamlessly switch to Xline and get high-performance metadata management across multiple clusters."})]})]})]})}),S.jsx(PA,{children:S.jsxs(zA,{children:[S.jsxs(FA,{children:[S.jsx(BA,{children:"Key Features of Xline"}),S.jsx($A,{src:wA,alt:"Image"})]}),S.jsxs(UA,{children:[S.jsxs(Nu,{children:[S.jsx(Mu,{children:S.jsx(Ou,{src:vA,alt:"icon"})}),S.jsx(Du,{children:"A distributed KV storage engine for multi-cluster"}),S.jsx(Lu,{children:"Unified data management for multi-cluster scenarios, making mutual access, discovery, and modification simple and convenient."})]}),S.jsxs(Nu,{children:[S.jsx(Mu,{children:S.jsx(Ou,{src:xA,alt:"icon"})}),S.jsx(Du,{children:"A unified metadata management system"}),S.jsx(Lu,{children:"Data access across clouds by caching hot data in memory, and provide unified data management to automate data migration and backup."})]}),S.jsxs(Nu,{children:[S.jsx(Mu,{children:S.jsx(Ou,{src:kA,alt:"icon"})}),S.jsx(Du,{children:"A high-performance multi-datacenter consensus protocol"}),S.jsx(Lu,{children:"It is the first geo distributed consistency management service based on the WAN consensus protocol. It addresses the challenges of convergence and consistency across clouds."})]}),S.jsxs(Nu,{children:[S.jsx(Mu,{children:S.jsx(Ou,{src:SA,alt:"icon"})}),S.jsx(Du,{children:"Compatible with the ETCD interface"}),S.jsx(Lu,{children:"Provide KV interface, Multi-Version Concurrency Control and is compatible with K8S."})]})]})]})}),S.jsx(jA,{children:S.jsxs(qA,{children:[S.jsxs(HA,{children:[S.jsx(WA,{children:S.jsx(XA,{children:"Innovation"})}),S.jsx(VA,{src:_A,alt:"image"})]}),S.jsxs(YA,{children:[S.jsx(zf,{children:"Cross-datacenter network latency is the most important factor that impacts the performance of geo-distributed systems, especially when a consensus protocol is used. As is well known, consensus protocols are frequently used to achieve high availability. For instance, Etcd uses the Raft protocol, which is quite popular in recently developed systems."}),S.jsx(zf,{children:"Although Raft is stable and easy to implement, it takes 2 RTTs to complete a consensus request from the view of a client. One RTT takes place between the client and the leader server, and the leader server takes another RTT to broadcast the message to the follower servers. In a geo-distributed environment where an RTT can run from tens to hundreds of milliseconds, two RTTs would be too expensive."}),S.jsx(zf,{children:"We adopt a new consensus protocol named CURP to resolve the above issue. Please refer to the paper for a detailed description. The main benefit of the protocol is reducing 1 RTT when contention is not too high. As far as we know, Xline is the first product to use CURP."})]})]})})]})},KA="/xline-home/assets/contribute-cover-e0d18359.svg",QA="/xline-home/assets/contribute-how-0d173ea6.svg",ZA="/xline-home/assets/protocol-icon-5ea4ff33.svg",JA="/xline-home/assets/sever-icon-1cd6b23e.svg",Pu=L.div`
  text-align: center;
  margin-bottom: 24px;
  @media screen and (max-width: 1024px) {
    margin-bottom: 18px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 12px;
  }
`,zu=L.div`
  display: inline-block;
  position: relative;
  margin-inline: auto;
  font-weight: 700;
  font-size: 46px;
  line-height: 2;
  background-image: url(${Zi});
  background-repeat: no-repeat;
  background-position: bottom 0 right 0;
  background-size: 50%;
  @media screen and (max-width: 1024px) {
    font-size: 34.5px;
    line-height: 1.3;
  }
  @media screen and (max-width: 768px) {
    font-size: 23px;
  }
`,Uw=L.p`
  text-align: center;
  margin-bottom: 48px;
  font-weight: 500;
  font-size: 28px;
  line-height: 1.5;
  @media screen and (max-width: 1024px) {
    margin-bottom: 36px;
    font-size: 21px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 24px;
    font-size: 14px;
  }
`,eR=L.div`
  display: flex;
  align-items: center;
  padding-block: calc(160px + 86px);
  color: white;
  background-image: url(${KA});
  background-repeat: no-repeat;
  background-size: cover;
  @media screen and (max-width: 1024px) {
    padding-block: calc(120px + 69px);
  }
  @media screen and (max-width: 768px) {
    padding-block: calc(80px + 53px);
  }
`,tR=L.div`
  width: 100%;
  max-width: ${e=>e.theme.scale.scale12};
  margin-inline: auto;
  padding-inline: 128px;
  @media screen and (max-width: 1024px) {
    padding-inline: 96px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 64px;
  }
`,nR=L.h1`
  margin-bottom: 20px;
  font-weight: 700;
  font-size: 72px;
  line-height: 80px;
  text-transform: capitalize;
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 54px;
    line-height: 60px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 10px;
    font-size: 36px;
    line-height: 40px;
  }
`,rR=L.p`
  font-weight: 500;
  font-size: 30px;
  line-height: 1.5;
  @media screen and (max-width: 1024px) {
    font-size: 22.5px;
  }
  @media screen and (max-width: 768px) {
    font-size: 22.5px;
  }
`,iR=L.div``,aR=L.div`
  max-width: ${e=>e.theme.scale.scale12};
  margin-inline: auto;
  padding-inline: 128px;
  padding-block: 80px;
  line-height: 1.5;
  @media screen and (max-width: 1024px) {
    padding-inline: 96px;
    padding-block: 60px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 64px;
    padding-block: 40px;
  }
`,sR=L.div`
  display: flex;
  align-items: center;
  text-align: left;
  @media screen and (max-width: 768px) {
    flex-direction: column;
  }
`,oR=L.p`
  height: min-content;
  padding: ${e=>e.theme.scale.scale06};
  background: #f9fafb;
  font-weight: 600;
  font-size: 28px;
  line-height: 1.5;
  border-radius: 24px;
  @media screen and (max-width: 1024px) {
    padding: 60px;
    font-size: 21px;
    border-radius: 18px;
  }
  @media screen and (max-width: 768px) {
    padding: 40px;
    font-size: 14px;
    border-radius: 12px;
    margin-bottom: 24px;
  }
  @media screen and (max-width: 768px) {
    padding: 20px;
  }
`,lR=L.img`
  width: 40%;
  @media screen and (max-width: 425px) {
    width: 70%;
  }
`,cR=L.div`
  background: #f9fafb;
`,uR=L.div`
  width: 100%;
  max-width: ${e=>e.theme.scale.scale12};
  margin-inline: auto;
  padding-inline: 128px;
  padding-block: ${e=>e.theme.scale.scale06};
  @media screen and (max-width: 1024px) {
    padding-inline: 96px;
    padding-block: 60px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 64px;
    padding-block: 40px;
  }
`,dR=L.div`
  display: flex;
  justify-content: space-between;
  @media screen and (max-width: 768px) {
    flex-direction: column;
  }
`,jw=L.div`
  display: flex;
  flex-flow: column;
  align-items: center;
  width: 48%;
  padding: 64px;
  background: #fff;
  box-shadow: 0px 2px 15px -4px rgba(0, 0, 0, 0.11);
  border-radius: 24px;
  @media screen and (max-width: 1024px) {
    padding: 48px;
    border-radius: 18px;
  }
  @media screen and (max-width: 768px) {
    padding: 32px;
    border-radius: 12px;
    width: 100%;
    margin-bottom: 24px;
    :last-child {
      margin-bottom: 0;
    }
  }
`,qw=L.img`
  width: 54px;
  margin-bottom: 32px;
  @media screen and (max-width: 1024px) {
    width: 40.5px;
  }
  @media screen and (max-width: 768px) {
    width: 27px;
  }
`,Hw=L.h3`
  margin-bottom: 32px;
  font-weight: 500;
  font-size: 28px;
  line-height: 1.5;
  @media screen and (max-width: 1024px) {
    font-size: 21px;
    margin-bottom: 24px;
  }
  @media screen and (max-width: 768px) {
    font-size: 14px;
    margin-bottom: 16px;
  }
`,Ww=L.p`
  font-weight: 400;
  font-size: 18px;
  line-height: 1.5;
  @media screen and (max-width: 1024px) {
    font-size: 13.5px;
  }
  @media screen and (max-width: 768px) {
    font-size: 9px;
  }
`,hR=L.div``,fR=L.div`
  max-width: ${e=>e.theme.scale.scale12};
  margin-inline: auto;
  padding-inline: ${e=>e.theme.scale.scale07};
  padding-block: ${e=>e.theme.scale.scale06};
  @media screen and (max-width: 1024px) {
    padding-inline: 96px;
    padding-block: 60px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 64px;
    padding-block: 40px;
  }
`,mR=L.div`
  padding: 64px;
  background: #f9fafb;
  border-radius: 24px;
  text-align: left;
  @media screen and (max-width: 1024px) {
    padding: 48px;
    border-radius: 18px;
  }
  @media screen and (max-width: 768px) {
    padding: 32px;
    border-radius: 12px;
  }
`,pR=L.p`
  font-weight: 400;
  font-size: 22px;
  line-height: 1.6;
  @media screen and (max-width: 1024px) {
    font-size: 16.5px;
  }
  @media screen and (max-width: 768px) {
    font-size: 11px;
  }
`,gR=L.ul`
  list-style-type: disc;
  padding-left: 2em;
`,qs=L.li`
  font-weight: 400;
  font-size: 22px;
  line-height: 1.6;
  @media screen and (max-width: 1024px) {
    font-size: 16.5px;
  }
  @media screen and (max-width: 768px) {
    font-size: 11px;
  }
`,yR=L.div`
  background: #f9fafb;
`,bR=L.div`
  max-width: ${e=>e.theme.scale.scale12};
  margin-inline: auto;
  padding-inline: ${e=>e.theme.scale.scale07};
  padding-block: ${e=>e.theme.scale.scale06};
  @media screen and (max-width: 1024px) {
    padding-inline: 96px;
    padding-block: 60px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 64px;
    padding-block: 40px;
  }
`,wR=L.p`
  text-align: center;
  font-weight: 500;
  font-size: 28px;
  line-height: 1.5;
  margin-bottom: 256px;
  @media screen and (max-width: 1024px) {
    margin-bottom: 192px;
    font-size: 21px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 128px;
    font-size: 14px;
  }
`,vR=()=>S.jsxs(S.Fragment,{children:[S.jsx(eR,{children:S.jsxs(tR,{children:[S.jsx(nR,{children:"contribute"}),S.jsx(rR,{children:"As an open-source project, Xline cannot grow without the support and participation of contributors from the community. If you would like to contribute to this project, be it Xline's code, documentation, or even our website, we would appreciate your help. We are glad to provide any support along the way."})]})}),S.jsx(iR,{children:S.jsxs(aR,{children:[S.jsx(Pu,{children:S.jsx(zu,{children:"How to be a contributor?"})}),S.jsxs(sR,{children:[S.jsx(oR,{children:"As soon as a PR(Pull Request) proposed by you is approved and merged, you can become an Xline contributor"}),S.jsx(lR,{src:QA,alt:"image"})]})]})}),S.jsx(cR,{children:S.jsxs(uR,{children:[S.jsx(Pu,{children:S.jsx(zu,{children:"Pick an area to contribute"})}),S.jsx(Uw,{children:"You can choose one of the following areas to contribute to:"}),S.jsxs(dR,{children:[S.jsxs(jw,{children:[S.jsx(qw,{src:ZA,alt:"icon"}),S.jsx(Hw,{children:"CURP Protocol"}),S.jsx(Ww,{children:"The CURP distributed consensus algorithm implemented in Rust. Read Contribute to Xline for details on how to make contributions to the CURP code base."})]}),S.jsxs(jw,{children:[S.jsx(qw,{src:JA,alt:"icon"}),S.jsx(Hw,{children:"Xline Server"}),S.jsx(Ww,{children:"The Xline distributed KV storage backend implemented in Rust. Read Contribute to Xline for details on how to make contributions to the CURP code base."})]})]})]})}),S.jsx(hR,{children:S.jsxs(fR,{children:[S.jsx(Pu,{children:S.jsx(zu,{children:"Find an issue to work on"})}),S.jsx(Uw,{children:"For beginners, we have prepared many suitable tasks for you. You can check out, for example, our Help Wanted issues in the repository."}),S.jsxs(mR,{children:[S.jsx(pR,{children:"See below for some commonly used labels across major repositories listed in:"}),S.jsxs(gR,{children:[S.jsx(qs,{children:"bug - Indicates an unexpected problem or unintended behavior; it can be small or big in scope"}),S.jsx(qs,{children:"good first issue - An ideal first issue to work on for first-time contributors, with mentoring available"}),S.jsx(qs,{children:"help wanted - Indicates that a maintainer wants help on an issue or pull request"}),S.jsx(qs,{children:"discussion - Status: Under discussion or needs discussion"}),S.jsx(qs,{children:"enhancement - New feature or request"}),S.jsx(qs,{children:"question - Further information is requested, or the question is to be answered."})]})]})]})}),S.jsx(yR,{children:S.jsxs(bR,{children:[S.jsx(Pu,{children:S.jsx(zu,{children:"Ask a question"})}),S.jsxs(wR,{children:["If you need any help to get started, understand the codebase, or make a PR(or anything else really), please feel free to ask us on",S.jsx("a",{href:"https://discord.gg/8PrRCP3s",children:" Discord"}),"."]})]})})]}),Xw=["http","https","mailto","tel"];function xR(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<Xw.length;){const a=Xw[i];if(r===a.length&&t.slice(0,a.length).toLowerCase()===a)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var kR=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const m6=fi(kR);function Wl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Vw(e.position):"start"in e||"end"in e?Vw(e):"line"in e||"column"in e?Op(e):""}function Op(e){return Yw(e&&e.line)+":"+Yw(e&&e.column)}function Vw(e){return Op(e&&e.start)+"-"+Op(e&&e.end)}function Yw(e){return e&&typeof e=="number"?e:1}class Ir extends Error{constructor(t,n,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}n&&("type"in n||"position"in n?n.position&&(a=n.position):"start"in n||"end"in n?a=n:("line"in n||"column"in n)&&(a.start=n)),this.name=Wl(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Ir.prototype.file="";Ir.prototype.name="";Ir.prototype.reason="";Ir.prototype.message="";Ir.prototype.stack="";Ir.prototype.fatal=null;Ir.prototype.column=null;Ir.prototype.line=null;Ir.prototype.source=null;Ir.prototype.ruleId=null;Ir.prototype.position=null;const ti={basename:SR,dirname:_R,extname:ER,join:TR,sep:"/"};function SR(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Pc(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.charCodeAt(i)===t.charCodeAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function _R(e){if(Pc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function ER(e){Pc(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.charCodeAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function TR(...e){let t=-1,n;for(;++t<e.length;)Pc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":CR(n)}function CR(e){Pc(e);const t=e.charCodeAt(0)===47;let n=AR(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function AR(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.charCodeAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Pc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const RR={cwd:IR};function IR(){return"/"}function Dp(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function NR(e){if(typeof e=="string")e=new URL(e);else if(!Dp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return MR(e)}function MR(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Ff=["history","path","basename","stem","extname","dirname"];class p6{constructor(t){let n;t?typeof t=="string"||OR(t)?n={value:t}:Dp(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=RR.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Ff.length;){const a=Ff[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Ff.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){Dp(t)&&(t=NR(t)),$f(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?ti.dirname(this.path):void 0}set dirname(t){Gw(this.basename,"dirname"),this.path=ti.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?ti.basename(this.path):void 0}set basename(t){$f(t,"basename"),Bf(t,"basename"),this.path=ti.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?ti.extname(this.path):void 0}set extname(t){if(Bf(t,"extname"),Gw(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ti.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?ti.basename(this.path,this.extname):void 0}set stem(t){$f(t,"stem"),Bf(t,"stem"),this.path=ti.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new Ir(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function Bf(e,t){if(e&&e.includes(ti.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ti.sep+"`")}function $f(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Gw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function OR(e){return m6(e)}function Kw(e){if(e)throw e}var Sd=Object.prototype.hasOwnProperty,g6=Object.prototype.toString,Qw=Object.defineProperty,Zw=Object.getOwnPropertyDescriptor,Jw=function(t){return typeof Array.isArray=="function"?Array.isArray(t):g6.call(t)==="[object Array]"},ev=function(t){if(!t||g6.call(t)!=="[object Object]")return!1;var n=Sd.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Sd.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Sd.call(t,i)},tv=function(t,n){Qw&&n.name==="__proto__"?Qw(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},nv=function(t,n){if(n==="__proto__")if(Sd.call(t,n)){if(Zw)return Zw(t,n).value}else return;return t[n]},DR=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=nv(o,n),i=nv(t,n),o!==i&&(u&&i&&(ev(i)||(a=Jw(i)))?(a?(a=!1,s=r&&Jw(r)?r:[]):s=r&&ev(r)?r:{},tv(o,{name:n,newValue:e(u,s,i)})):typeof i<"u"&&tv(o,{name:n,newValue:i}));return o};const rv=fi(DR);function Lp(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function LR(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const u=e[++a];let d=-1;if(l){s(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?PR(u,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function PR(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const u=c;if(o&&n)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const zR=b6().freeze(),y6={}.hasOwnProperty;function b6(){const e=LR(),t=[];let n={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=o,a.attachers=t,a.use=l,a.parse=c,a.stringify=u,a.run=d,a.runSync=f,a.process=h,a.processSync=g,a;function a(){const p=b6();let v=-1;for(;++v<t.length;)p.use(...t[v]);return p.data(rv(!0,{},n)),p}function s(p,v){return typeof p=="string"?arguments.length===2?(qf("data",r),n[p]=v,a):y6.call(n,p)&&n[p]||null:p?(qf("data",r),n=p,a):n}function o(){if(r)return a;for(;++i<t.length;){const[p,...v]=t[i];if(v[0]===!1)continue;v[0]===!0&&(v[0]=void 0);const b=p.call(a,...v);typeof b=="function"&&e.use(b)}return r=!0,i=Number.POSITIVE_INFINITY,a}function l(p,...v){let b;if(qf("use",r),p!=null)if(typeof p=="function")R(p,...v);else if(typeof p=="object")Array.isArray(p)?T(p):k(p);else throw new TypeError("Expected usable value, not `"+p+"`");return b&&(n.settings=Object.assign(n.settings||{},b)),a;function w(x){if(typeof x=="function")R(x);else if(typeof x=="object")if(Array.isArray(x)){const[M,...I]=x;R(M,...I)}else k(x);else throw new TypeError("Expected usable value, not `"+x+"`")}function k(x){T(x.plugins),x.settings&&(b=Object.assign(b||{},x.settings))}function T(x){let M=-1;if(x!=null)if(Array.isArray(x))for(;++M<x.length;){const I=x[M];w(I)}else throw new TypeError("Expected a list of plugins, not `"+x+"`")}function R(x,M){let I=-1,B;for(;++I<t.length;)if(t[I][0]===x){B=t[I];break}B?(Lp(B[1])&&Lp(M)&&(M=rv(!0,B[1],M)),B[1]=M):t.push([...arguments])}}function c(p){a.freeze();const v=Sl(p),b=a.Parser;return Uf("parse",b),iv(b,"parse")?new b(String(v),v).parse():b(String(v),v)}function u(p,v){a.freeze();const b=Sl(v),w=a.Compiler;return jf("stringify",w),av(p),iv(w,"compile")?new w(p,b).compile():w(p,b)}function d(p,v,b){if(av(p),a.freeze(),!b&&typeof v=="function"&&(b=v,v=void 0),!b)return new Promise(w);w(null,b);function w(k,T){e.run(p,Sl(v),R);function R(x,M,I){M=M||p,x?T(x):k?k(M):b(null,M,I)}}}function f(p,v){let b,w;return a.run(p,v,k),sv("runSync","run",w),b;function k(T,R){Kw(T),b=R,w=!0}}function h(p,v){if(a.freeze(),Uf("process",a.Parser),jf("process",a.Compiler),!v)return new Promise(b);b(null,v);function b(w,k){const T=Sl(p);a.run(a.parse(T),T,(x,M,I)=>{if(x||!M||!I)R(x);else{const B=a.stringify(M,I);B==null||($R(B)?I.value=B:I.result=B),R(x,I)}});function R(x,M){x||!M?k(x):w?w(M):v(null,M)}}}function g(p){let v;a.freeze(),Uf("processSync",a.Parser),jf("processSync",a.Compiler);const b=Sl(p);return a.process(b,w),sv("processSync","process",v),b;function w(k){v=!0,Kw(k)}}}function iv(e,t){return typeof e=="function"&&e.prototype&&(FR(e.prototype)||t in e.prototype)}function FR(e){let t;for(t in e)if(y6.call(e,t))return!0;return!1}function Uf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function jf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function qf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function av(e){if(!Lp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function sv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Sl(e){return BR(e)?e:new p6(e)}function BR(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $R(e){return typeof e=="string"||m6(e)}const UR={};function jR(e,t){const n=t||UR,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return w6(e,r,i)}function w6(e,t,n){if(qR(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ov(e.children,t,n)}return Array.isArray(e)?ov(e,t,n):""}function ov(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=w6(e[i],t,n);return r.join("")}function qR(e){return!!(e&&typeof e=="object")}function sr(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function gr(e,t){return e.length>0?(sr(e,e.length,0,t),e):t}const lv={}.hasOwnProperty;function v6(e){const t={};let n=-1;for(;++n<e.length;)HR(t,e[n]);return t}function HR(e,t){let n;for(n in t){const i=(lv.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){lv.call(i,s)||(i[s]=[]);const o=a[s];WR(i[s],Array.isArray(o)?o:o?[o]:[])}}}function WR(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);sr(e,0,0,r)}const XR=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Nn=Ha(/[A-Za-z]/),_n=Ha(/[\dA-Za-z]/),VR=Ha(/[#-'*+\--9=?A-Z^-~]/);function hh(e){return e!==null&&(e<32||e===127)}const Pp=Ha(/\d/),YR=Ha(/[\dA-Fa-f]/),GR=Ha(/[!-/:-@[-`{-~]/);function Ce(e){return e!==null&&e<-2}function St(e){return e!==null&&(e<0||e===32)}function Ze(e){return e===-2||e===-1||e===32}const b0=Ha(XR),Ts=Ha(/\s/);function Ha(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Ke(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Ze(l)?(e.enter(n),o(l)):t(l)}function o(l){return Ze(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const KR={tokenize:QR};function QR(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ke(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Ce(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const ZR={tokenize:JR},cv={tokenize:eI};function JR(e){const t=this,n=[];let r=0,i,a,s;return o;function o(k){if(r<n.length){const T=n[r];return t.containerState=T[1],e.attempt(T[0].continuation,l,c)(k)}return c(k)}function l(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const T=t.events.length;let R=T,x;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){x=t.events[R][1].end;break}b(r);let M=T;for(;M<t.events.length;)t.events[M][1].end=Object.assign({},x),M++;return sr(t.events,R+1,0,t.events.slice(T)),t.events.length=M,c(k)}return o(k)}function c(k){if(r===n.length){if(!i)return f(k);if(i.currentConstruct&&i.currentConstruct.concrete)return g(k);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(cv,u,d)(k)}function u(k){return i&&w(),b(r),f(k)}function d(k){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,g(k)}function f(k){return t.containerState={},e.attempt(cv,h,g)(k)}function h(k){return r++,n.push([t.currentConstruct,t.containerState]),f(k)}function g(k){if(k===null){i&&w(),b(0),e.consume(k);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),p(k)}function p(k){if(k===null){v(e.exit("chunkFlow"),!0),b(0),e.consume(k);return}return Ce(k)?(e.consume(k),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(k),p)}function v(k,T){const R=t.sliceStream(k);if(T&&R.push(null),k.previous=a,a&&(a.next=k),a=k,i.defineSkip(k.start),i.write(R),t.parser.lazy[k.start.line]){let x=i.events.length;for(;x--;)if(i.events[x][1].start.offset<s&&(!i.events[x][1].end||i.events[x][1].end.offset>s))return;const M=t.events.length;let I=M,B,D;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(B){D=t.events[I][1].end;break}B=!0}for(b(r),x=M;x<t.events.length;)t.events[x][1].end=Object.assign({},D),x++;sr(t.events,I+1,0,t.events.slice(M)),t.events.length=x}}function b(k){let T=n.length;for(;T-- >k;){const R=n[T];t.containerState=R[1],R[0].exit.call(t,e)}n.length=k}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function eI(e,t,n){return Ke(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fh(e){if(e===null||St(e)||Ts(e))return 1;if(b0(e))return 2}function w0(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const zp={name:"attention",tokenize:nI,resolveAll:tI};function tI(e,t){let n=-1,r,i,a,s,o,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=Object.assign({},e[r][1].end),f=Object.assign({},e[n][1].start);uv(d,-l),uv(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},o.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=gr(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=gr(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=gr(c,w0(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=gr(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=gr(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,sr(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function nI(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=fh(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),u=fh(l),d=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(a===42?d:d&&(i||!f)),c._close=!!(a===42?f:f&&(u||!d)),t(l)}}function uv(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const rI={name:"autolink",tokenize:iI};function iI(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return Nn(h)?(e.consume(h),s):c(h)}function s(h){return h===43||h===45||h===46||_n(h)?(r=1,o(h)):c(h)}function o(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||_n(h))&&r++<32?(e.consume(h),o):(r=0,c(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||hh(h)?n(h):(e.consume(h),l)}function c(h){return h===64?(e.consume(h),u):VR(h)?(e.consume(h),c):n(h)}function u(h){return _n(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,u):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||_n(h))&&r++<63){const g=h===45?f:d;return e.consume(h),g}return n(h)}}const zc={tokenize:aI,partial:!0};function aI(e,t,n){return r;function r(a){return Ze(a)?Ke(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ce(a)?t(a):n(a)}}const x6={name:"blockQuote",tokenize:sI,continuation:{tokenize:oI},exit:lI};function sI(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Ze(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function oI(e,t,n){const r=this;return i;function i(s){return Ze(s)?Ke(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(x6,t,n)(s)}}function lI(e){e.exit("blockQuote")}const k6={name:"characterEscape",tokenize:cI};function cI(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return GR(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const dv=document.createElement("i");function T1(e){const t="&"+e+";";dv.innerHTML=t;const n=dv.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const S6={name:"characterReference",tokenize:uI};function uI(e,t,n){const r=this;let i=0,a,s;return o;function o(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=_n,u(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=YR,u):(e.enter("characterReferenceValue"),a=7,s=Pp,u(d))}function u(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return s===_n&&!T1(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(d)&&i++<a?(e.consume(d),u):n(d)}}const hv={tokenize:hI,partial:!0},fv={name:"codeFenced",tokenize:dI,concrete:!0};function dI(e,t,n){const r=this,i={tokenize:R,partial:!0};let a=0,s=0,o;return l;function l(x){return c(x)}function c(x){const M=r.events[r.events.length-1];return a=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,o=x,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(x)}function u(x){return x===o?(s++,e.consume(x),u):s<3?n(x):(e.exit("codeFencedFenceSequence"),Ze(x)?Ke(e,d,"whitespace")(x):d(x))}function d(x){return x===null||Ce(x)?(e.exit("codeFencedFence"),r.interrupt?t(x):e.check(hv,p,T)(x)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(x))}function f(x){return x===null||Ce(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(x)):Ze(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ke(e,h,"whitespace")(x)):x===96&&x===o?n(x):(e.consume(x),f)}function h(x){return x===null||Ce(x)?d(x):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||Ce(x)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(x)):x===96&&x===o?n(x):(e.consume(x),g)}function p(x){return e.attempt(i,T,v)(x)}function v(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),b}function b(x){return a>0&&Ze(x)?Ke(e,w,"linePrefix",a+1)(x):w(x)}function w(x){return x===null||Ce(x)?e.check(hv,p,T)(x):(e.enter("codeFlowValue"),k(x))}function k(x){return x===null||Ce(x)?(e.exit("codeFlowValue"),w(x)):(e.consume(x),k)}function T(x){return e.exit("codeFenced"),t(x)}function R(x,M,I){let B=0;return D;function D(de){return x.enter("lineEnding"),x.consume(de),x.exit("lineEnding"),Y}function Y(de){return x.enter("codeFencedFence"),Ze(de)?Ke(x,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(de):X(de)}function X(de){return de===o?(x.enter("codeFencedFenceSequence"),ce(de)):I(de)}function ce(de){return de===o?(B++,x.consume(de),ce):B>=s?(x.exit("codeFencedFenceSequence"),Ze(de)?Ke(x,se,"whitespace")(de):se(de)):I(de)}function se(de){return de===null||Ce(de)?(x.exit("codeFencedFence"),M(de)):I(de)}}}function hI(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Hf={name:"codeIndented",tokenize:mI},fI={tokenize:pI,partial:!0};function mI(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Ke(e,a,"linePrefix",4+1)(c)}function a(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):Ce(c)?e.attempt(fI,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Ce(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function pI(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Ce(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Ke(e,a,"linePrefix",4+1)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Ce(s)?i(s):n(s)}}const gI={name:"codeText",tokenize:wI,resolve:yI,previous:bI};function yI(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function bI(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function wI(e,t,n){let r=0,i,a;return s;function s(d){return e.enter("codeText"),e.enter("codeTextSequence"),o(d)}function o(d){return d===96?(e.consume(d),r++,o):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(a=e.enter("codeTextSequence"),i=0,u(d)):Ce(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Ce(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function u(d){return d===96?(e.consume(d),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(a.type="codeTextData",c(d))}}function _6(e){const t={};let n=-1,r,i,a,s,o,l,c;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,vI(e,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),o=e.slice(i,n),o.unshift(r),sr(e,i,n-i+1,o))}}return!c}function vI(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],c={};let u,d,f=-1,h=n,g=0,p=0;const v=[p];for(;h;){for(;e[++i][1]!==h;);a.push(i),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),d&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(p=f+1,v.push(p),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):v.pop(),f=v.length;f--;){const b=o.slice(v[f],v[f+1]),w=a.pop();l.unshift([w,w+b.length-1]),sr(e,w,2,b)}for(f=-1;++f<l.length;)c[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return c}const xI={tokenize:_I,resolve:SI},kI={tokenize:EI,partial:!0};function SI(e){return _6(e),e}function _I(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Ce(o)?e.check(kI,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function EI(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ke(e,a,"linePrefix")}function a(s){if(s===null||Ce(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function E6(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(b){return b===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(b),e.exit(a),f):b===null||b===32||b===41||hh(b)?n(b):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),p(b))}function f(b){return b===62?(e.enter(a),e.consume(b),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===62?(e.exit("chunkString"),e.exit(o),f(b)):b===null||b===60||Ce(b)?n(b):(e.consume(b),b===92?g:h)}function g(b){return b===60||b===62||b===92?(e.consume(b),h):h(b)}function p(b){return!u&&(b===null||b===41||St(b))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(b)):u<c&&b===40?(e.consume(b),u++,p):b===41?(e.consume(b),u--,p):b===null||b===32||b===40||hh(b)?n(b):(e.consume(b),b===92?v:p)}function v(b){return b===40||b===41||b===92?(e.consume(b),p):p(b)}}function T6(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(a),u}function u(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(e.exit(a),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Ce(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Ce(h)||o++>999?(e.exit("chunkString"),u(h)):(e.consume(h),l||(l=!Ze(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}}function C6(e,t,n,r,i,a){let s;return o;function o(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),s=f===40?41:f,l):n(f)}function l(f){return f===s?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(a),c(f))}function c(f){return f===s?(e.exit(a),l(s)):f===null?n(f):Ce(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Ke(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===s||f===null||Ce(f)?(e.exit("chunkString"),c(f)):(e.consume(f),f===92?d:u)}function d(f){return f===s||f===92?(e.consume(f),u):u(f)}}function Xl(e,t){let n;return r;function r(i){return Ce(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ze(i)?Ke(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Xr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const TI={name:"definition",tokenize:AI},CI={tokenize:RI,partial:!0};function AI(e,t,n){const r=this;let i;return a;function a(h){return e.enter("definition"),s(h)}function s(h){return T6.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return i=Xr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return St(h)?Xl(e,c)(h):c(h)}function c(h){return E6(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return e.attempt(CI,d,d)(h)}function d(h){return Ze(h)?Ke(e,f,"whitespace")(h):f(h)}function f(h){return h===null||Ce(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function RI(e,t,n){return r;function r(o){return St(o)?Xl(e,i)(o):n(o)}function i(o){return C6(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Ze(o)?Ke(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Ce(o)?t(o):n(o)}}const II={name:"hardBreakEscape",tokenize:NI};function NI(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Ce(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const MI={name:"headingAtx",tokenize:DI,resolve:OI};function OI(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},sr(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function DI(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&r++<6?(e.consume(u),s):u===null||St(u)?(e.exit("atxHeadingSequence"),o(u)):n(u)}function o(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||Ce(u)?(e.exit("atxHeading"),t(u)):Ze(u)?Ke(e,o,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||St(u)?(e.exit("atxHeadingText"),o(u)):(e.consume(u),c)}}const LI=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],mv=["pre","script","style","textarea"],PI={name:"htmlFlow",tokenize:$I,resolveTo:BI,concrete:!0},zI={tokenize:jI,partial:!0},FI={tokenize:UI,partial:!0};function BI(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function $I(e,t,n){const r=this;let i,a,s,o,l;return c;function c(A){return u(A)}function u(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),d}function d(A){return A===33?(e.consume(A),f):A===47?(e.consume(A),a=!0,p):A===63?(e.consume(A),i=3,r.interrupt?t:C):Nn(A)?(e.consume(A),s=String.fromCharCode(A),v):n(A)}function f(A){return A===45?(e.consume(A),i=2,h):A===91?(e.consume(A),i=5,o=0,g):Nn(A)?(e.consume(A),i=4,r.interrupt?t:C):n(A)}function h(A){return A===45?(e.consume(A),r.interrupt?t:C):n(A)}function g(A){const ee="CDATA[";return A===ee.charCodeAt(o++)?(e.consume(A),o===ee.length?r.interrupt?t:X:g):n(A)}function p(A){return Nn(A)?(e.consume(A),s=String.fromCharCode(A),v):n(A)}function v(A){if(A===null||A===47||A===62||St(A)){const ee=A===47,he=s.toLowerCase();return!ee&&!a&&mv.includes(he)?(i=1,r.interrupt?t(A):X(A)):LI.includes(s.toLowerCase())?(i=6,ee?(e.consume(A),b):r.interrupt?t(A):X(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):a?w(A):k(A))}return A===45||_n(A)?(e.consume(A),s+=String.fromCharCode(A),v):n(A)}function b(A){return A===62?(e.consume(A),r.interrupt?t:X):n(A)}function w(A){return Ze(A)?(e.consume(A),w):D(A)}function k(A){return A===47?(e.consume(A),D):A===58||A===95||Nn(A)?(e.consume(A),T):Ze(A)?(e.consume(A),k):D(A)}function T(A){return A===45||A===46||A===58||A===95||_n(A)?(e.consume(A),T):R(A)}function R(A){return A===61?(e.consume(A),x):Ze(A)?(e.consume(A),R):k(A)}function x(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),l=A,M):Ze(A)?(e.consume(A),x):I(A)}function M(A){return A===l?(e.consume(A),l=null,B):A===null||Ce(A)?n(A):(e.consume(A),M)}function I(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||St(A)?R(A):(e.consume(A),I)}function B(A){return A===47||A===62||Ze(A)?k(A):n(A)}function D(A){return A===62?(e.consume(A),Y):n(A)}function Y(A){return A===null||Ce(A)?X(A):Ze(A)?(e.consume(A),Y):n(A)}function X(A){return A===45&&i===2?(e.consume(A),ze):A===60&&i===1?(e.consume(A),W):A===62&&i===4?(e.consume(A),oe):A===63&&i===3?(e.consume(A),C):A===93&&i===5?(e.consume(A),K):Ce(A)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(zI,G,ce)(A)):A===null||Ce(A)?(e.exit("htmlFlowData"),ce(A)):(e.consume(A),X)}function ce(A){return e.check(FI,se,G)(A)}function se(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),de}function de(A){return A===null||Ce(A)?ce(A):(e.enter("htmlFlowData"),X(A))}function ze(A){return A===45?(e.consume(A),C):X(A)}function W(A){return A===47?(e.consume(A),s="",$):X(A)}function $(A){if(A===62){const ee=s.toLowerCase();return mv.includes(ee)?(e.consume(A),oe):X(A)}return Nn(A)&&s.length<8?(e.consume(A),s+=String.fromCharCode(A),$):X(A)}function K(A){return A===93?(e.consume(A),C):X(A)}function C(A){return A===62?(e.consume(A),oe):A===45&&i===2?(e.consume(A),C):X(A)}function oe(A){return A===null||Ce(A)?(e.exit("htmlFlowData"),G(A)):(e.consume(A),oe)}function G(A){return e.exit("htmlFlow"),t(A)}}function UI(e,t,n){const r=this;return i;function i(s){return Ce(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function jI(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(zc,t,n)}}const qI={name:"htmlText",tokenize:HI};function HI(e,t,n){const r=this;let i,a,s;return o;function o(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),l}function l(C){return C===33?(e.consume(C),c):C===47?(e.consume(C),R):C===63?(e.consume(C),k):Nn(C)?(e.consume(C),I):n(C)}function c(C){return C===45?(e.consume(C),u):C===91?(e.consume(C),a=0,g):Nn(C)?(e.consume(C),w):n(C)}function u(C){return C===45?(e.consume(C),h):n(C)}function d(C){return C===null?n(C):C===45?(e.consume(C),f):Ce(C)?(s=d,W(C)):(e.consume(C),d)}function f(C){return C===45?(e.consume(C),h):d(C)}function h(C){return C===62?ze(C):C===45?f(C):d(C)}function g(C){const oe="CDATA[";return C===oe.charCodeAt(a++)?(e.consume(C),a===oe.length?p:g):n(C)}function p(C){return C===null?n(C):C===93?(e.consume(C),v):Ce(C)?(s=p,W(C)):(e.consume(C),p)}function v(C){return C===93?(e.consume(C),b):p(C)}function b(C){return C===62?ze(C):C===93?(e.consume(C),b):p(C)}function w(C){return C===null||C===62?ze(C):Ce(C)?(s=w,W(C)):(e.consume(C),w)}function k(C){return C===null?n(C):C===63?(e.consume(C),T):Ce(C)?(s=k,W(C)):(e.consume(C),k)}function T(C){return C===62?ze(C):k(C)}function R(C){return Nn(C)?(e.consume(C),x):n(C)}function x(C){return C===45||_n(C)?(e.consume(C),x):M(C)}function M(C){return Ce(C)?(s=M,W(C)):Ze(C)?(e.consume(C),M):ze(C)}function I(C){return C===45||_n(C)?(e.consume(C),I):C===47||C===62||St(C)?B(C):n(C)}function B(C){return C===47?(e.consume(C),ze):C===58||C===95||Nn(C)?(e.consume(C),D):Ce(C)?(s=B,W(C)):Ze(C)?(e.consume(C),B):ze(C)}function D(C){return C===45||C===46||C===58||C===95||_n(C)?(e.consume(C),D):Y(C)}function Y(C){return C===61?(e.consume(C),X):Ce(C)?(s=Y,W(C)):Ze(C)?(e.consume(C),Y):B(C)}function X(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,ce):Ce(C)?(s=X,W(C)):Ze(C)?(e.consume(C),X):(e.consume(C),se)}function ce(C){return C===i?(e.consume(C),i=void 0,de):C===null?n(C):Ce(C)?(s=ce,W(C)):(e.consume(C),ce)}function se(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||St(C)?B(C):(e.consume(C),se)}function de(C){return C===47||C===62||St(C)?B(C):n(C)}function ze(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function W(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),$}function $(C){return Ze(C)?Ke(e,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):K(C)}function K(C){return e.enter("htmlTextData"),s(C)}}const C1={name:"labelEnd",tokenize:KI,resolveTo:GI,resolveAll:YI},WI={tokenize:QI},XI={tokenize:ZI},VI={tokenize:JI};function YI(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function GI(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},u={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return o=[["enter",l,t],["enter",c,t]],o=gr(o,e.slice(a+1,a+r+3)),o=gr(o,[["enter",u,t]]),o=gr(o,w0(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=gr(o,[["exit",u,t],e[s-2],e[s-1],["exit",c,t]]),o=gr(o,e.slice(s+1)),o=gr(o,[["exit",l,t]]),sr(e,a,e.length,o),e}function KI(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(f){return a?a._inactive?d(f):(s=r.parser.defined.includes(Xr(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(WI,u,s?u:d)(f):f===91?e.attempt(XI,u,s?c:d)(f):s?u(f):d(f)}function c(f){return e.attempt(VI,u,d)(f)}function u(f){return t(f)}function d(f){return a._balanced=!0,n(f)}}function QI(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return St(d)?Xl(e,a)(d):a(d)}function a(d){return d===41?u(d):E6(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return St(d)?Xl(e,l)(d):u(d)}function o(d){return n(d)}function l(d){return d===34||d===39||d===40?C6(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return St(d)?Xl(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function ZI(e,t,n){const r=this;return i;function i(o){return T6.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(Xr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function JI(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const eN={name:"labelStartImage",tokenize:tN,resolveAll:C1.resolveAll};function tN(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const nN={name:"labelStartLink",tokenize:rN,resolveAll:C1.resolveAll};function rN(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Wf={name:"lineEnding",tokenize:iN};function iN(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ke(e,t,"linePrefix")}}const _d={name:"thematicBreak",tokenize:aN};function aN(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Ce(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Ze(c)?Ke(e,o,"whitespace")(c):o(c))}}const Fn={name:"list",tokenize:lN,continuation:{tokenize:cN},exit:dN},sN={tokenize:hN,partial:!0},oN={tokenize:uN,partial:!0};function lN(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(h){const g=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Pp(h)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(_d,n,c)(h):c(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Pp(h)&&++s<10?(e.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):n(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(zc,r.interrupt?n:u,e.attempt(sN,f,d))}function u(h){return r.containerState.initialBlankLine=!0,a++,f(h)}function d(h){return Ze(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function cN(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(zc,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ke(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!Ze(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(oN,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ke(e,e.attempt(Fn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function uN(e,t,n){const r=this;return Ke(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function dN(e){e.exit(this.containerState.type)}function hN(e,t,n){const r=this;return Ke(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const s=r.events[r.events.length-1];return!Ze(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const pv={name:"setextUnderline",tokenize:mN,resolveTo:fN};function fN(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function mN(e,t,n){const r=this;let i;return a;function a(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),Ze(c)?Ke(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Ce(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const pN={tokenize:gN};function gN(e){const t=this,n=e.attempt(zc,r,e.attempt(this.parser.constructs.flowInitial,i,Ke(e,e.attempt(this.parser.constructs.flow,i,e.attempt(xI,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const yN={resolveAll:R6()},bN=A6("string"),wN=A6("text");function A6(e){return{tokenize:t,resolveAll:R6(e==="text"?vN:void 0)};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(u){return c(u)?a(u):o(u)}function o(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),a(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function R6(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function vN(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function xN(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],o=[];const l={consume:w,enter:k,exit:T,attempt:M(R),check:M(x),interrupt:M(x,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:f,now:g,defineSkip:p,write:d};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function d(Y){return s=gr(s,Y),v(),s[s.length-1]!==null?[]:(I(t,0),c.events=w0(a,c.events,c),c.events)}function f(Y,X){return SN(h(Y),X)}function h(Y){return kN(s,Y)}function g(){const{line:Y,column:X,offset:ce,_index:se,_bufferIndex:de}=r;return{line:Y,column:X,offset:ce,_index:se,_bufferIndex:de}}function p(Y){i[Y.line]=Y.column,D()}function v(){let Y;for(;r._index<s.length;){const X=s[r._index];if(typeof X=="string")for(Y=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Y&&r._bufferIndex<X.length;)b(X.charCodeAt(r._bufferIndex));else b(X)}}function b(Y){u=u(Y)}function w(Y){Ce(Y)?(r.line++,r.column=1,r.offset+=Y===-3?2:1,D()):Y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=Y}function k(Y,X){const ce=X||{};return ce.type=Y,ce.start=g(),c.events.push(["enter",ce,c]),o.push(ce),ce}function T(Y){const X=o.pop();return X.end=g(),c.events.push(["exit",X,c]),X}function R(Y,X){I(Y,X.from)}function x(Y,X){X.restore()}function M(Y,X){return ce;function ce(se,de,ze){let W,$,K,C;return Array.isArray(se)?G(se):"tokenize"in se?G([se]):oe(se);function oe(U){return Te;function Te(te){const xe=te!==null&&U[te],Fe=te!==null&&U.null,Ie=[...Array.isArray(xe)?xe:xe?[xe]:[],...Array.isArray(Fe)?Fe:Fe?[Fe]:[]];return G(Ie)(te)}}function G(U){return W=U,$=0,U.length===0?ze:A(U[$])}function A(U){return Te;function Te(te){return C=B(),K=U,U.partial||(c.currentConstruct=U),U.name&&c.parser.constructs.disable.null.includes(U.name)?he():U.tokenize.call(X?Object.assign(Object.create(c),X):c,l,ee,he)(te)}}function ee(U){return Y(K,C),de}function he(U){return C.restore(),++$<W.length?A(W[$]):ze}}}function I(Y,X){Y.resolveAll&&!a.includes(Y)&&a.push(Y),Y.resolve&&sr(c.events,X,c.events.length-X,Y.resolve(c.events.slice(X),c)),Y.resolveTo&&(c.events=Y.resolveTo(c.events,c))}function B(){const Y=g(),X=c.previous,ce=c.currentConstruct,se=c.events.length,de=Array.from(o);return{restore:ze,from:se};function ze(){r=Y,c.previous=X,c.currentConstruct=ce,c.events.length=se,o=de,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function kN(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function SN(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const _N={42:Fn,43:Fn,45:Fn,48:Fn,49:Fn,50:Fn,51:Fn,52:Fn,53:Fn,54:Fn,55:Fn,56:Fn,57:Fn,62:x6},EN={91:TI},TN={[-2]:Hf,[-1]:Hf,32:Hf},CN={35:MI,42:_d,45:[pv,_d],60:PI,61:pv,95:_d,96:fv,126:fv},AN={38:S6,92:k6},RN={[-5]:Wf,[-4]:Wf,[-3]:Wf,33:eN,38:S6,42:zp,60:[rI,qI],91:nN,92:[II,k6],93:C1,95:zp,96:gI},IN={null:[zp,yN]},NN={null:[42,95]},MN={null:[]},ON=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:NN,contentInitial:EN,disable:MN,document:_N,flow:CN,flowInitial:TN,insideSpan:IN,string:AN,text:RN},Symbol.toStringTag,{value:"Module"}));function DN(e){const n=v6([ON,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(KR),document:i(ZR),flow:i(pN),string:i(bN),text:i(wN)};return r;function i(a){return s;function s(o){return xN(r,a,o)}}}const gv=/[\0\t\n\r]/g;function LN(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,u,d,f,h;for(a=t+a.toString(s),d=0,t="",n&&(a.charCodeAt(0)===65279&&d++,n=void 0);d<a.length;){if(gv.lastIndex=d,c=gv.exec(a),f=c&&c.index!==void 0?c.index:a.length,h=a.charCodeAt(f),!c){t=a.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(a.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function PN(e){for(;!_6(e););return e}function I6(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const zN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function N6(e){return e.replace(zN,FN)}function FN(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return I6(n.slice(a?2:1),a?16:10)}return T1(n)||e}const M6={}.hasOwnProperty,BN=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),$N(n)(PN(DN(n).document().write(LN()(e,t,!0))))};function $N(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ot),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:o(nt),blockQuote:o(Ie),characterEscape:Y,characterReference:Y,codeFenced:o(Re),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Re,l),codeText:o(Tt,l),codeTextData:Y,data:Y,codeFlowValue:Y,definition:o(xt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Be),hardBreakEscape:o(Xe),hardBreakTrailing:o(Xe),htmlFlow:o(lt,l),htmlFlowData:Y,htmlText:o(lt,l),htmlTextData:Y,image:o(Ae),label:l,link:o(Ot),listItem:o(rt),listItemValue:g,listOrdered:o(kt,h),listUnordered:o(kt),paragraph:o(Ct),reference:he,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(nt),strong:o(Ee),thematicBreak:o(Qn)},exit:{atxHeading:u(),atxHeadingSequence:M,autolink:u(),autolinkEmail:Fe,autolinkProtocol:xe,blockQuote:u(),characterEscapeValue:X,characterReferenceMarkerHexadecimal:Te,characterReferenceMarkerNumeric:Te,characterReferenceValue:te,codeFenced:u(w),codeFencedFence:b,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:X,codeIndented:u(k),codeText:u(W),codeTextData:X,data:X,definition:u(),definitionDestinationString:x,definitionLabelString:T,definitionTitleString:R,emphasis:u(),hardBreakEscape:u(se),hardBreakTrailing:u(se),htmlFlow:u(de),htmlFlowData:X,htmlText:u(ze),htmlTextData:X,image:u(K),label:oe,labelText:C,lineEnding:ce,link:u($),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:U,resourceDestinationString:G,resourceTitleString:A,resource:ee,setextHeading:u(D),setextHeadingLineSequence:B,setextHeadingText:I,strong:u(),thematicBreak:u()}};O6(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(P){let q={type:"root",children:[]};const ue={stack:[q],tokenStack:[],config:t,enter:c,exit:d,buffer:l,resume:f,setData:a,getData:s},ke=[];let Ue=-1;for(;++Ue<P.length;)if(P[Ue][1].type==="listOrdered"||P[Ue][1].type==="listUnordered")if(P[Ue][0]==="enter")ke.push(Ue);else{const mt=ke.pop();Ue=i(P,mt,Ue)}for(Ue=-1;++Ue<P.length;){const mt=t[P[Ue][0]];M6.call(mt,P[Ue][1].type)&&mt[P[Ue][1].type].call(Object.assign({sliceSerialize:P[Ue][2].sliceSerialize},ue),P[Ue][1])}if(ue.tokenStack.length>0){const mt=ue.tokenStack[ue.tokenStack.length-1];(mt[1]||yv).call(ue,void 0,mt[0])}for(q.position={start:oa(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:oa(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},Ue=-1;++Ue<t.transforms.length;)q=t.transforms[Ue](q)||q;return q}function i(P,q,ue){let ke=q-1,Ue=-1,mt=!1,Zn,zn,ra,Xa;for(;++ke<=ue;){const Ft=P[ke];if(Ft[1].type==="listUnordered"||Ft[1].type==="listOrdered"||Ft[1].type==="blockQuote"?(Ft[0]==="enter"?Ue++:Ue--,Xa=void 0):Ft[1].type==="lineEndingBlank"?Ft[0]==="enter"&&(Zn&&!Xa&&!Ue&&!ra&&(ra=ke),Xa=void 0):Ft[1].type==="linePrefix"||Ft[1].type==="listItemValue"||Ft[1].type==="listItemMarker"||Ft[1].type==="listItemPrefix"||Ft[1].type==="listItemPrefixWhitespace"||(Xa=void 0),!Ue&&Ft[0]==="enter"&&Ft[1].type==="listItemPrefix"||Ue===-1&&Ft[0]==="exit"&&(Ft[1].type==="listUnordered"||Ft[1].type==="listOrdered")){if(Zn){let ia=ke;for(zn=void 0;ia--;){const fr=P[ia];if(fr[1].type==="lineEnding"||fr[1].type==="lineEndingBlank"){if(fr[0]==="exit")continue;zn&&(P[zn][1].type="lineEndingBlank",mt=!0),fr[1].type="lineEnding",zn=ia}else if(!(fr[1].type==="linePrefix"||fr[1].type==="blockQuotePrefix"||fr[1].type==="blockQuotePrefixWhitespace"||fr[1].type==="blockQuoteMarker"||fr[1].type==="listItemIndent"))break}ra&&(!zn||ra<zn)&&(Zn._spread=!0),Zn.end=Object.assign({},zn?P[zn][1].start:Ft[1].end),P.splice(zn||ke,0,["exit",Zn,Ft[2]]),ke++,ue++}Ft[1].type==="listItemPrefix"&&(Zn={type:"listItem",_spread:!1,start:Object.assign({},Ft[1].start),end:void 0},P.splice(ke,0,["enter",Zn,Ft[2]]),ke++,ue++,ra=void 0,Xa=!0)}}return P[q][1]._spread=mt,ue}function a(P,q){n[P]=q}function s(P){return n[P]}function o(P,q){return ue;function ue(ke){c.call(this,P(ke),ke),q&&q.call(this,ke)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(P,q,ue){return this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([q,ue]),P.position={start:oa(q.start)},P}function u(P){return q;function q(ue){P&&P.call(this,ue),d.call(this,ue)}}function d(P,q){const ue=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==P.type&&(q?q.call(this,P,ke[0]):(ke[1]||yv).call(this,P,ke[0]));else throw new Error("Cannot close `"+P.type+"` ("+Wl({start:P.start,end:P.end})+"): its not open");return ue.position.end=oa(P.end),ue}function f(){return jR(this.stack.pop())}function h(){a("expectingFirstListItemValue",!0)}function g(P){if(s("expectingFirstListItemValue")){const q=this.stack[this.stack.length-2];q.start=Number.parseInt(this.sliceSerialize(P),10),a("expectingFirstListItemValue")}}function p(){const P=this.resume(),q=this.stack[this.stack.length-1];q.lang=P}function v(){const P=this.resume(),q=this.stack[this.stack.length-1];q.meta=P}function b(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function w(){const P=this.resume(),q=this.stack[this.stack.length-1];q.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function k(){const P=this.resume(),q=this.stack[this.stack.length-1];q.value=P.replace(/(\r?\n|\r)$/g,"")}function T(P){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.label=q,ue.identifier=Xr(this.sliceSerialize(P)).toLowerCase()}function R(){const P=this.resume(),q=this.stack[this.stack.length-1];q.title=P}function x(){const P=this.resume(),q=this.stack[this.stack.length-1];q.url=P}function M(P){const q=this.stack[this.stack.length-1];if(!q.depth){const ue=this.sliceSerialize(P).length;q.depth=ue}}function I(){a("setextHeadingSlurpLineEnding",!0)}function B(P){const q=this.stack[this.stack.length-1];q.depth=this.sliceSerialize(P).charCodeAt(0)===61?1:2}function D(){a("setextHeadingSlurpLineEnding")}function Y(P){const q=this.stack[this.stack.length-1];let ue=q.children[q.children.length-1];(!ue||ue.type!=="text")&&(ue=ft(),ue.position={start:oa(P.start)},q.children.push(ue)),this.stack.push(ue)}function X(P){const q=this.stack.pop();q.value+=this.sliceSerialize(P),q.position.end=oa(P.end)}function ce(P){const q=this.stack[this.stack.length-1];if(s("atHardBreak")){const ue=q.children[q.children.length-1];ue.position.end=oa(P.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(q.type)&&(Y.call(this,P),X.call(this,P))}function se(){a("atHardBreak",!0)}function de(){const P=this.resume(),q=this.stack[this.stack.length-1];q.value=P}function ze(){const P=this.resume(),q=this.stack[this.stack.length-1];q.value=P}function W(){const P=this.resume(),q=this.stack[this.stack.length-1];q.value=P}function $(){const P=this.stack[this.stack.length-1];if(s("inReference")){const q=s("referenceType")||"shortcut";P.type+="Reference",P.referenceType=q,delete P.url,delete P.title}else delete P.identifier,delete P.label;a("referenceType")}function K(){const P=this.stack[this.stack.length-1];if(s("inReference")){const q=s("referenceType")||"shortcut";P.type+="Reference",P.referenceType=q,delete P.url,delete P.title}else delete P.identifier,delete P.label;a("referenceType")}function C(P){const q=this.sliceSerialize(P),ue=this.stack[this.stack.length-2];ue.label=N6(q),ue.identifier=Xr(q).toLowerCase()}function oe(){const P=this.stack[this.stack.length-1],q=this.resume(),ue=this.stack[this.stack.length-1];if(a("inReference",!0),ue.type==="link"){const ke=P.children;ue.children=ke}else ue.alt=q}function G(){const P=this.resume(),q=this.stack[this.stack.length-1];q.url=P}function A(){const P=this.resume(),q=this.stack[this.stack.length-1];q.title=P}function ee(){a("inReference")}function he(){a("referenceType","collapsed")}function U(P){const q=this.resume(),ue=this.stack[this.stack.length-1];ue.label=q,ue.identifier=Xr(this.sliceSerialize(P)).toLowerCase(),a("referenceType","full")}function Te(P){a("characterReferenceType",P.type)}function te(P){const q=this.sliceSerialize(P),ue=s("characterReferenceType");let ke;ue?(ke=I6(q,ue==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):ke=T1(q);const Ue=this.stack.pop();Ue.value+=ke,Ue.position.end=oa(P.end)}function xe(P){X.call(this,P);const q=this.stack[this.stack.length-1];q.url=this.sliceSerialize(P)}function Fe(P){X.call(this,P);const q=this.stack[this.stack.length-1];q.url="mailto:"+this.sliceSerialize(P)}function Ie(){return{type:"blockquote",children:[]}}function Re(){return{type:"code",lang:null,meta:null,value:""}}function Tt(){return{type:"inlineCode",value:""}}function xt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Be(){return{type:"emphasis",children:[]}}function nt(){return{type:"heading",depth:void 0,children:[]}}function Xe(){return{type:"break"}}function lt(){return{type:"html",value:""}}function Ae(){return{type:"image",title:null,url:"",alt:null}}function Ot(){return{type:"link",title:null,url:"",children:[]}}function kt(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function rt(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function Ct(){return{type:"paragraph",children:[]}}function Ee(){return{type:"strong",children:[]}}function ft(){return{type:"text",value:""}}function Qn(){return{type:"thematicBreak"}}}function oa(e){return{line:e.line,column:e.column,offset:e.offset}}function O6(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?O6(e,r):UN(e,r)}}function UN(e,t){let n;for(n in t)if(M6.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function yv(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Wl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Wl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Wl({start:t.start,end:t.end})+") is still open")}function jN(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return BN(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function qN(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function HN(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function WN(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function XN(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VN(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Yo(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&_n(e.charCodeAt(n+1))&&_n(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function D6(e,t){const n=String(t.identifier).toUpperCase(),r=Yo(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let a;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,a=e.footnoteOrder.length):(e.footnoteCounts[n]++,a=i+1);const s=e.footnoteCounts[n],o={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,o);const l={type:"element",tagName:"sup",properties:{},children:[o]};return e.patch(t,l),e.applyData(t,l)}function YN(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},D6(e,{type:"footnoteReference",identifier:i,position:t.position})}function GN(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KN(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function L6(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function QN(e,t){const n=e.definition(t.identifier);if(!n)return L6(e,t);const r={src:Yo(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function ZN(e,t){const n={src:Yo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function JN(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function eM(e,t){const n=e.definition(t.identifier);if(!n)return L6(e,t);const r={href:Yo(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function tM(e,t){const n={href:Yo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nM(e,t,n){const r=e.all(t),i=n?rM(n):P6(t),a={},s=[];if(typeof t.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const u=r[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function rM(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=P6(n[r])}return t}function P6(e){const t=e.spread;return t??e.children.length>1}function iM(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function aM(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sM(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function oM(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const A1=z6("start"),R1=z6("end");function lM(e){return{start:A1(e),end:R1(e)}}function z6(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function cM(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=A1(t.children[1]),l=R1(t.children[t.children.length-1]);o.line&&l.line&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function uM(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const d=t.children[l],f={},h=s?s[l]:void 0;h&&(f.align=h);let g={type:"element",tagName:a,properties:f,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(t,g)),c.push(g)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function dM(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const bv=9,wv=32;function hM(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(vv(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(vv(t.slice(i),i>0,!1)),a.join("")}function vv(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===bv||a===wv;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===bv||a===wv;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function fM(e,t){const n={type:"text",value:hM(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function mM(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const pM={blockquote:qN,break:HN,code:WN,delete:XN,emphasis:VN,footnoteReference:D6,footnote:YN,heading:GN,html:KN,imageReference:QN,image:ZN,inlineCode:JN,linkReference:eM,link:tM,listItem:nM,list:iM,paragraph:aM,root:sM,strong:oM,table:cM,tableCell:dM,tableRow:uM,text:fM,thematicBreak:mM,toml:Fu,yaml:Fu,definition:Fu,footnoteDefinition:Fu};function Fu(){return null}const v0=function(e){if(e==null)return wM;if(typeof e=="string")return bM(e);if(typeof e=="object")return Array.isArray(e)?gM(e):yM(e);if(typeof e=="function")return x0(e);throw new Error("Expected function, string, or object as test")};function gM(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=v0(e[n]);return x0(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].call(this,...i))return!0;return!1}}function yM(e){return x0(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function bM(e){return x0(t);function t(n){return n&&n.type===e}}function x0(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function wM(){return!0}const vM=!0,xv=!1,xM="skip",F6=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=v0(t),a=r?-1:1;s(e,void 0,[])();function s(o,l,c){const u=o&&typeof o=="object"?o:{};if(typeof u.type=="string"){const f=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(o.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=[],h,g,p;if((!t||i(o,l,c[c.length-1]||null))&&(f=kM(n(o,c)),f[0]===xv))return f;if(o.children&&f[0]!==xM)for(g=(r?o.children.length:-1)+a,p=c.concat(o);g>-1&&g<o.children.length;){if(h=s(o.children[g],g,p)(),h[0]===xv)return h;g=typeof h[1]=="number"?h[1]:g+a}return f}}};function kM(e){return Array.isArray(e)?e:typeof e=="number"?[vM,e]:[e]}const Fc=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),F6(e,t,i,r);function i(a,s){const o=s[s.length-1];return n(a,o?o.children.indexOf(a):null,o)}};function SM(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const kv={}.hasOwnProperty;function _M(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return Fc(e,"definition",r=>{const i=Sv(r.identifier);i&&!kv.call(t,i)&&(t[i]=r)}),n;function n(r){const i=Sv(r);return i&&kv.call(t,i)?t[i]:null}}function Sv(e){return String(e||"").toUpperCase()}const mh={}.hasOwnProperty;function EM(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,s.footnoteLabel=n.footnoteLabel||"Footnotes",s.footnoteLabelTagName=n.footnoteLabelTagName||"h2",s.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=n.footnoteBackLabel||"Back to content",s.unknownHandler=n.unknownHandler,s.passThrough=n.passThrough,s.handlers={...pM,...n.handlers},s.definition=_M(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=TM,s.applyData=CM,s.one=o,s.all=l,s.wrap=RM,s.augment=a,Fc(e,"footnoteDefinition",c=>{const u=String(c.identifier).toUpperCase();mh.call(i,u)||(i[u]=c)}),s;function a(c,u){if(c&&"data"in c&&c.data){const d=c.data;d.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=d.hName),u.type==="element"&&d.hProperties&&(u.properties={...u.properties,...d.hProperties}),"children"in u&&u.children&&d.hChildren&&(u.children=d.hChildren)}if(c){const d="type"in c?c:{position:c};SM(d)||(u.position={start:A1(d),end:R1(d)})}return u}function s(c,u,d,f){return Array.isArray(d)&&(f=d,d={}),a(c,{type:"element",tagName:u,properties:d||{},children:f||[]})}function o(c,u){return B6(s,c,u)}function l(c){return I1(s,c)}}function TM(e,t){e.position&&(t.position=lM(e))}function CM(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&a&&(n.properties={...n.properties,...a}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function B6(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return mh.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:I1(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):AM(e,t)}function I1(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const a=B6(e,r[i],t);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?n.push(...a):n.push(a)}}}return n}function AM(e,t){const n=t.data||{},r="value"in t&&!(mh.call(n,"hProperties")||mh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:I1(e,t)};return e.patch(t,r),e.applyData(t,r)}function RM(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function IM(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=Yo(a.toLowerCase());let o=0;const l=[];for(;++o<=e.footnoteCounts[a];){const d={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};o>1&&d.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(o)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(d)}const c=i[i.length-1];if(c&&c.type==="element"&&c.tagName==="p"){const d=c.children[c.children.length-1];d&&d.type==="text"?d.value+=" ":c.children.push({type:"text",value:" "}),c.children.push(...l)}else i.push(...l);const u={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,u),t.push(u)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function $6(e,t){const n=EM(e,t),r=n.one(e,null),i=IM(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const NM=function(e,t){return e&&"run"in e?OM(e,t):DM(e||t)},MM=NM;function OM(e,t){return(n,r,i)=>{e.run($6(n,t),r,a=>{i(a)})}}function DM(e){return t=>$6(t,e)}var U6={exports:{}},LM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PM=LM,zM=PM;function j6(){}function q6(){}q6.resetWarningCache=j6;var FM=function(){function e(r,i,a,s,o,l){if(l!==zM){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:q6,resetWarningCache:j6};return n.PropTypes=n,n};U6.exports=FM();var BM=U6.exports;const qe=fi(BM);let Bc=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};Bc.prototype.property={};Bc.prototype.normal={};Bc.prototype.space=null;function H6(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Bc(n,r,t)}function bc(e){return e.toLowerCase()}class Nr{constructor(t,n){this.property=t,this.attribute=n}}Nr.prototype.space=null;Nr.prototype.boolean=!1;Nr.prototype.booleanish=!1;Nr.prototype.overloadedBoolean=!1;Nr.prototype.number=!1;Nr.prototype.commaSeparated=!1;Nr.prototype.spaceSeparated=!1;Nr.prototype.commaOrSpaceSeparated=!1;Nr.prototype.mustUseProperty=!1;Nr.prototype.defined=!1;let $M=0;const We=Ns(),on=Ns(),W6=Ns(),le=Ns(),It=Ns(),_o=Ns(),Jn=Ns();function Ns(){return 2**++$M}const Fp=Object.freeze(Object.defineProperty({__proto__:null,boolean:We,booleanish:on,commaOrSpaceSeparated:Jn,commaSeparated:_o,number:le,overloadedBoolean:W6,spaceSeparated:It},Symbol.toStringTag,{value:"Module"})),Xf=Object.keys(Fp);class N1 extends Nr{constructor(t,n,r,i){let a=-1;if(super(t,n),_v(this,"space",i),typeof r=="number")for(;++a<Xf.length;){const s=Xf[a];_v(this,Xf[a],(r&Fp[s])===Fp[s])}}}N1.prototype.defined=!0;function _v(e,t,n){n&&(e[t]=n)}const UM={}.hasOwnProperty;function Go(e){const t={},n={};let r;for(r in e.properties)if(UM.call(e.properties,r)){const i=e.properties[r],a=new N1(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[bc(r)]=r,n[bc(a.attribute)]=r}return new Bc(t,n,e.space)}const X6=Go({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),V6=Go({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Y6(e,t){return t in e?e[t]:t}function G6(e,t){return Y6(e,t.toLowerCase())}const K6=Go({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:G6,properties:{xmlns:null,xmlnsXLink:null}}),Q6=Go({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:on,ariaAutoComplete:null,ariaBusy:on,ariaChecked:on,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:It,ariaCurrent:null,ariaDescribedBy:It,ariaDetails:null,ariaDisabled:on,ariaDropEffect:It,ariaErrorMessage:null,ariaExpanded:on,ariaFlowTo:It,ariaGrabbed:on,ariaHasPopup:null,ariaHidden:on,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:It,ariaLevel:le,ariaLive:null,ariaModal:on,ariaMultiLine:on,ariaMultiSelectable:on,ariaOrientation:null,ariaOwns:It,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:on,ariaReadOnly:on,ariaRelevant:null,ariaRequired:on,ariaRoleDescription:It,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:on,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null}}),jM=Go({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:G6,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_o,acceptCharset:It,accessKey:It,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:It,autoFocus:We,autoPlay:We,blocking:It,capture:null,charSet:null,checked:We,cite:null,className:It,cols:le,colSpan:null,content:null,contentEditable:on,controls:We,controlsList:It,coords:le|_o,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:W6,draggable:on,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:It,height:le,hidden:We,high:le,href:null,hrefLang:null,htmlFor:It,httpEquiv:It,id:null,imageSizes:null,imageSrcSet:null,inert:We,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:It,itemRef:It,itemScope:We,itemType:It,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:le,pattern:null,ping:It,placeholder:null,playsInline:We,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:It,required:We,reversed:We,rows:le,rowSpan:le,sandbox:It,scope:null,scoped:We,seamless:We,selected:We,shadowRootClonable:We,shadowRootDelegatesFocus:We,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:on,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:on,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:It,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:on,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:le,security:null,unselectable:null}}),qM=Go({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Y6,properties:{about:Jn,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:It,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:We,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_o,g2:_o,glyphName:_o,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:Jn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:It,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Jn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Jn,rev:Jn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Jn,requiredFeatures:Jn,requiredFonts:Jn,requiredFormats:Jn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:Jn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Jn,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Jn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),HM=/^data[-\w.:]+$/i,Ev=/-[a-z]/g,WM=/[A-Z]/g;function Z6(e,t){const n=bc(t);let r=t,i=Nr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&HM.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(Ev,VM);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!Ev.test(a)){let s=a.replace(WM,XM);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=N1}return new i(r,t)}function XM(e){return"-"+e.toLowerCase()}function VM(e){return e.charAt(1).toUpperCase()}const Tv={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},J6=H6([V6,X6,K6,Q6,jM],"html"),e5=H6([V6,X6,K6,Q6,qM],"svg");function YM(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{Fc(t,"element",(n,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(n.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(n,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&n.children?a.children.splice(r,1,...n.children):a.children.splice(r,1),r})}}function GM(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function Cv(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function KM(e){return e.join(" ").trim()}function Av(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,a=!1;for(;!a;){r===-1&&(r=n.length,a=!0);const s=n.slice(i,r).trim();(s||!a)&&t.push(s),i=r+1,r=n.indexOf(",",i)}return t}function QM(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var M1={exports:{}},Rv=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ZM=/\n/g,JM=/^\s*/,eO=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,tO=/^:\s*/,nO=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,rO=/^[;\s]*/,iO=/^\s+|\s+$/g,aO=`
`,Iv="/",Nv="*",rs="",sO="comment",oO="declaration",lO=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var p=g.match(ZM);p&&(n+=p.length);var v=g.lastIndexOf(aO);r=~v?g.length-v:r+g.length}function a(){var g={line:n,column:r};return function(p){return p.position=new s(g),c(),p}}function s(g){this.start=g,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(g){var p=new Error(t.source+":"+n+":"+r+": "+g);if(p.reason=g,p.filename=t.source,p.line=n,p.column=r,p.source=e,!t.silent)throw p}function l(g){var p=g.exec(e);if(p){var v=p[0];return i(v),e=e.slice(v.length),p}}function c(){l(JM)}function u(g){var p;for(g=g||[];p=d();)p!==!1&&g.push(p);return g}function d(){var g=a();if(!(Iv!=e.charAt(0)||Nv!=e.charAt(1))){for(var p=2;rs!=e.charAt(p)&&(Nv!=e.charAt(p)||Iv!=e.charAt(p+1));)++p;if(p+=2,rs===e.charAt(p-1))return o("End of comment missing");var v=e.slice(2,p-2);return r+=2,i(v),e=e.slice(p),r+=2,g({type:sO,comment:v})}}function f(){var g=a(),p=l(eO);if(p){if(d(),!l(tO))return o("property missing ':'");var v=l(nO),b=g({type:oO,property:Mv(p[0].replace(Rv,rs)),value:v?Mv(v[0].replace(Rv,rs)):rs});return l(rO),b}}function h(){var g=[];u(g);for(var p;p=f();)p!==!1&&(g.push(p),u(g));return g}return c(),h()};function Mv(e){return e?e.replace(iO,rs):rs}var cO=lO;function t5(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=cO(e),a=typeof t=="function",s,o,l=0,c=i.length;l<c;l++)r=i[l],s=r.property,o=r.value,a?t(s,o,r):o&&(n||(n={}),n[s]=o);return n}M1.exports=t5;M1.exports.default=t5;var uO=M1.exports;const dO=fi(uO),Bp={}.hasOwnProperty,hO=new Set(["table","thead","tbody","tfoot","tr"]);function n5(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(fO(e,i,r,t)):i.type==="text"?(t.type!=="element"||!hO.has(t.tagName)||!GM(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function fO(e,t,n,r){const i=e.options,a=i.transformLinkUri===void 0?xR:i.transformLinkUri,s=e.schema,o=t.tagName,l={};let c=s,u;if(s.space==="html"&&o==="svg"&&(c=e5,e.schema=c),t.properties)for(u in t.properties)Bp.call(t.properties,u)&&pO(l,u,t.properties[u],e);(o==="ol"||o==="ul")&&e.listDepth++;const d=n5(e,t);(o==="ol"||o==="ul")&&e.listDepth--,e.schema=s;const f=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=i.components&&Bp.call(i.components,o)?i.components[o]:o,g=typeof h=="string"||h===Xn.Fragment;if(!TT.isValidElementType(h))throw new TypeError(`Component for name \`${o}\` not defined or is not renderable`);if(l.key=n,o==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):i.linkTarget),o==="a"&&a&&(l.href=a(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!g&&o==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!g&&(o==="h1"||o==="h2"||o==="h3"||o==="h4"||o==="h5"||o==="h6")&&(l.level=Number.parseInt(o.charAt(1),10)),o==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!g&&o==="li"&&r.type==="element"){const p=mO(t);l.checked=p&&p.properties?!!p.properties.checked:null,l.index=Vf(r,t),l.ordered=r.tagName==="ol"}return!g&&(o==="ol"||o==="ul")&&(l.ordered=o==="ol",l.depth=e.listDepth),(o==="td"||o==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),g||(l.isHeader=o==="th")),!g&&o==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),i.sourcePos&&(l["data-sourcepos"]=bO(f)),!g&&i.rawSourcePos&&(l.sourcePosition=t.position),!g&&i.includeElementIndex&&(l.index=Vf(r,t),l.siblingCount=Vf(r)),g||(l.node=t),d.length>0?Xn.createElement(h,l,d):Xn.createElement(h,l)}function mO(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function Vf(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function pO(e,t,n,r){const i=Z6(r.schema,t);let a=n;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?QM(a):KM(a)),i.property==="style"&&typeof a=="string"&&(a=gO(a)),i.space&&i.property?e[Bp.call(Tv,i.property)?Tv[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function gO(e){const t={};try{dO(e,n)}catch{}return t;function n(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[a.replace(/-([a-z])/g,yO)]=i}}function yO(e,t){return t.toUpperCase()}function bO(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const Ov={}.hasOwnProperty,wO="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Bu={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Ko(e){for(const a in Bu)if(Ov.call(Bu,a)&&Ov.call(e,a)){const s=Bu[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${wO}#${s.id}> for more info)`),delete Bu[a]}const t=zR().use(jN).use(e.remarkPlugins||[]).use(MM,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(YM,e),n=new p6;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=Xn.createElement(Xn.Fragment,{},n5({options:e,schema:J6,listDepth:0},r));return e.className&&(i=Xn.createElement("div",{className:e.className},i)),i}Ko.propTypes={children:qe.string,className:qe.string,allowElement:qe.func,allowedElements:qe.arrayOf(qe.string),disallowedElements:qe.arrayOf(qe.string),unwrapDisallowed:qe.bool,remarkPlugins:qe.arrayOf(qe.oneOfType([qe.object,qe.func,qe.arrayOf(qe.oneOfType([qe.bool,qe.string,qe.object,qe.func,qe.arrayOf(qe.any)]))])),rehypePlugins:qe.arrayOf(qe.oneOfType([qe.object,qe.func,qe.arrayOf(qe.oneOfType([qe.bool,qe.string,qe.object,qe.func,qe.arrayOf(qe.any)]))])),sourcePos:qe.bool,rawSourcePos:qe.bool,skipHtml:qe.bool,includeElementIndex:qe.bool,transformLinkUri:qe.oneOfType([qe.func,qe.bool]),linkTarget:qe.oneOfType([qe.func,qe.string]),transformImageUri:qe.func,components:qe.object};const vO={tokenize:TO,partial:!0},r5={tokenize:CO,partial:!0},i5={tokenize:AO,partial:!0},a5={tokenize:RO,partial:!0},xO={tokenize:IO,partial:!0},s5={tokenize:_O,previous:l5},o5={tokenize:EO,previous:c5},Ji={tokenize:SO,previous:u5},pi={},kO={text:pi};let Ya=48;for(;Ya<123;)pi[Ya]=Ji,Ya++,Ya===58?Ya=65:Ya===91&&(Ya=97);pi[43]=Ji;pi[45]=Ji;pi[46]=Ji;pi[95]=Ji;pi[72]=[Ji,o5];pi[104]=[Ji,o5];pi[87]=[Ji,s5];pi[119]=[Ji,s5];function SO(e,t,n){const r=this;let i,a;return s;function s(d){return!$p(d)||!u5.call(r,r.previous)||O1(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(d))}function o(d){return $p(d)?(e.consume(d),o):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(xO,u,c)(d):d===45||d===95||_n(d)?(a=!0,e.consume(d),l):u(d)}function c(d){return e.consume(d),i=!0,l}function u(d){return a&&i&&Nn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function _O(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!l5.call(r,r.previous)||O1(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(vO,e.attempt(r5,e.attempt(i5,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function EO(e,t,n){const r=this;let i="",a=!1;return s;function s(d){return(d===72||d===104)&&c5.call(r,r.previous)&&!O1(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),o):n(d)}function o(d){if(Nn(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),o;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),a?c:(a=!0,l)):n(d)}function c(d){return d===null||hh(d)||St(d)||Ts(d)||b0(d)?n(d):e.attempt(r5,e.attempt(i5,u),n)(d)}function u(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function TO(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function CO(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(a5,l,o)(c):c===null||St(c)||Ts(c)||c!==45&&b0(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function AO(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(a5,t,a)(s):s===null||St(s)||Ts(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function RO(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||St(o)||Ts(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||St(o)||Ts(o)?t(o):r(o)}function a(o){return Nn(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Nn(o)?(e.consume(o),s):n(o)}}function IO(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return _n(a)?n(a):t(a)}}function l5(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||St(e)}function c5(e){return!Nn(e)}function u5(e){return!(e===47||$p(e))}function $p(e){return e===43||e===45||e===46||e===95||_n(e)}function O1(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const NO={tokenize:BO,partial:!0};function MO(){return{document:{91:{tokenize:PO,continuation:{tokenize:zO},exit:FO}},text:{91:{tokenize:LO},93:{add:"after",tokenize:OO,resolveTo:DO}}}}function OO(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=Xr(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function DO(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function LO(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(a>999||d===93&&!s||d===null||d===91||St(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(Xr(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return St(d)||(s=!0),a++,e.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(e.consume(d),a++,c):c(d)}}function PO(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(g)}function u(g){if(s>999||g===93&&!o||g===null||g===91||St(g))return n(g);if(g===93){e.exit("chunkString");const p=e.exit("gfmFootnoteDefinitionLabelString");return a=Xr(r.sliceSerialize(p)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return St(g)||(o=!0),s++,e.consume(g),g===92?d:u}function d(g){return g===91||g===92||g===93?(e.consume(g),s++,u):u(g)}function f(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(a)||i.push(a),Ke(e,h,"gfmFootnoteDefinitionWhitespace")):n(g)}function h(g){return t(g)}}function zO(e,t,n){return e.check(zc,t,e.attempt(NO,t,n))}function FO(e){e.exit("gfmFootnoteDefinition")}function BO(e,t,n){const r=this;return Ke(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function $O(e){let n=(e||{}).singleTilde;const r={tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},d={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},f=[["enter",u,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",d,o]],h=o.parser.constructs.insideSpan.null;h&&sr(f,f.length,0,w0(h,s.slice(c+1,l),o)),sr(f,f.length,0,[["exit",d,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",u,o]]),sr(s,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,u=this.events;let d=0;return f;function f(g){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(g):(s.enter("strikethroughSequenceTemporary"),h(g))}function h(g){const p=fh(c);if(g===126)return d>1?l(g):(s.consume(g),d++,h);if(d<2&&!n)return l(g);const v=s.exit("strikethroughSequenceTemporary"),b=fh(g);return v._open=!b||b===2&&!!p,v._close=!p||p===2&&!!b,o(g)}}}class UO{constructor(){this.map=[]}add(t,n,r){jO(this,t,n,r)}consume(t){if(this.map.sort((a,s)=>a[0]-s[0]),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1])),r.push(this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function jO(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function qO(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}const HO={flow:{null:{tokenize:WO,resolveAll:XO}}};function WO(e,t,n){const r=this;let i=0,a=0,s;return o;function o(D){let Y=r.events.length-1;for(;Y>-1;){const se=r.events[Y][1].type;if(se==="lineEnding"||se==="linePrefix")Y--;else break}const X=Y>-1?r.events[Y][1].type:null,ce=X==="tableHead"||X==="tableRow"?x:l;return ce===x&&r.parser.lazy[r.now().line]?n(D):ce(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),c(D)}function c(D){return D===124||(s=!0,a+=1),u(D)}function u(D){return D===null?n(D):Ce(D)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),h):n(D):Ze(D)?Ke(e,u,"whitespace")(D):(a+=1,s&&(s=!1,i+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),s=!0,u):(e.enter("data"),d(D)))}function d(D){return D===null||D===124||St(D)?(e.exit("data"),u(D)):(e.consume(D),D===92?f:d)}function f(D){return D===92||D===124?(e.consume(D),d):d(D)}function h(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),s=!1,Ze(D)?Ke(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):g(D))}function g(D){return D===45||D===58?v(D):D===124?(s=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),p):R(D)}function p(D){return Ze(D)?Ke(e,v,"whitespace")(D):v(D)}function v(D){return D===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),b):D===45?(a+=1,b(D)):D===null||Ce(D)?T(D):R(D)}function b(D){return D===45?(e.enter("tableDelimiterFiller"),w(D)):R(D)}function w(D){return D===45?(e.consume(D),w):D===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),k):(e.exit("tableDelimiterFiller"),k(D))}function k(D){return Ze(D)?Ke(e,T,"whitespace")(D):T(D)}function T(D){return D===124?g(D):D===null||Ce(D)?!s||i!==a?R(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):R(D)}function R(D){return n(D)}function x(D){return e.enter("tableRow"),M(D)}function M(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),M):D===null||Ce(D)?(e.exit("tableRow"),t(D)):Ze(D)?Ke(e,M,"whitespace")(D):(e.enter("data"),I(D))}function I(D){return D===null||D===124||St(D)?(e.exit("data"),M(D)):(e.consume(D),D===92?B:I)}function B(D){return D===92||D===124?(e.consume(D),I):I(D)}}function XO(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,u,d;const f=new UO;for(;++n<e.length;){const h=e[n],g=h[1];h[0]==="enter"?g.type==="tableHead"?(o=!1,l!==0&&(Dv(f,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",c,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,u={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",u,t]])),i=g.type==="tableDelimiterRow"?2:u?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],d=$u(f,t,a,i,void 0,d),a=[0,0,0,0]),s[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],d=$u(f,t,a,i,void 0,d)),a=s,s=[a[1],n,0,0])):g.type==="tableHead"?(o=!0,l=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],d=$u(f,t,a,i,n,d)):s[1]!==0&&(d=$u(f,t,s,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&Dv(f,t,l,c,u),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=qO(t.events,n))}return e}function $u(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Gs(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Gs(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=Gs(t.events,n[2]),u=Gs(t.events,n[3]),d={type:o,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,p=n[3]-n[2]-1;e.add(g,p,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(a.end=Object.assign({},Gs(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function Dv(e,t,n,r,i){const a=[],s=Gs(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Gs(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const VO={tokenize:GO},YO={text:{91:VO}};function GO(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return St(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Ce(l)?t(l):Ze(l)?e.check({tokenize:KO},t,n)(l):n(l)}}function KO(e,t,n){return Ke(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function QO(e){return v6([kO,MO(),$O(e),HO,YO])}function Lv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function ZO(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const JO={}.hasOwnProperty,eD=function(e,t,n,r){let i,a;typeof t=="string"||t instanceof RegExp?(a=[[t,n]],i=r):(a=t,i=n),i||(i={});const s=v0(i.ignore||[]),o=tD(a);let l=-1;for(;++l<o.length;)F6(e,"text",c);return e;function c(d,f){let h=-1,g;for(;++h<f.length;){const p=f[h];if(s(p,g?g.children.indexOf(p):void 0,g))return;g=p}if(g)return u(d,f)}function u(d,f){const h=f[f.length-1],g=o[l][0],p=o[l][1];let v=0;const b=h.children.indexOf(d);let w=!1,k=[];g.lastIndex=0;let T=g.exec(d.value);for(;T;){const R=T.index,x={index:T.index,input:T.input,stack:[...f,d]};let M=p(...T,x);if(typeof M=="string"&&(M=M.length>0?{type:"text",value:M}:void 0),M!==!1&&(v!==R&&k.push({type:"text",value:d.value.slice(v,R)}),Array.isArray(M)?k.push(...M):M&&k.push(M),v=R+T[0].length,w=!0),!g.global)break;T=g.exec(d.value)}return w?(v<d.value.length&&k.push({type:"text",value:d.value.slice(v)}),h.children.splice(b,1,...k)):k=[d],b+k.length}};function tD(e){const t=[];if(typeof e!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let n=-1;for(;++n<e.length;)t.push([Pv(e[n][0]),zv(e[n][1])])}else{let n;for(n in e)JO.call(e,n)&&t.push([Pv(n),zv(e[n])])}return t}function Pv(e){return typeof e=="string"?new RegExp(ZO(e),"g"):e}function zv(e){return typeof e=="function"?e:()=>e}const Yf="phrasing",Gf=["autolink","link","image","label"],nD={transforms:[cD],enter:{literalAutolink:iD,literalAutolinkEmail:Kf,literalAutolinkHttp:Kf,literalAutolinkWww:Kf},exit:{literalAutolink:lD,literalAutolinkEmail:oD,literalAutolinkHttp:aD,literalAutolinkWww:sD}},rD={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Yf,notInConstruct:Gf},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Yf,notInConstruct:Gf},{character:":",before:"[ps]",after:"\\/",inConstruct:Yf,notInConstruct:Gf}]};function iD(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Kf(e){this.config.enter.autolinkProtocol.call(this,e)}function aD(e){this.config.exit.autolinkProtocol.call(this,e)}function sD(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.url="http://"+this.sliceSerialize(e)}function oD(e){this.config.exit.autolinkEmail.call(this,e)}function lD(e){this.exit(e)}function cD(e){eD(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,uD],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,dD]],{ignore:["link","linkReference"]})}function uD(e,t,n,r,i){let a="";if(!d5(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!hD(n)))return!1;const s=fD(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function dD(e,t,n,r){return!d5(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function hD(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function fD(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Lv(e,"(");let a=Lv(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function d5(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ts(n)||b0(n))&&(!t||n!==47)}function h5(e){return e.label||!e.identifier?e.label||"":N6(e.identifier)}function mD(e,t,n){const r=t.indexStack,i=e.children||[],a=t.createTracker(n),s=[];let o=-1;for(r.push(-1);++o<i.length;){const l=i[o];r[r.length-1]=o,s.push(a.move(t.handle(l,e,t,{before:`
`,after:`
`,...a.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),o<i.length-1&&s.push(a.move(pD(l,i[o+1],e,t)))}return r.pop(),s.join("")}function pD(e,t,n,r){let i=r.join.length;for(;i--;){const a=r.join[i](e,t,n,r);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}const gD=/\r?\n|\r/g;function yD(e,t){const n=[];let r=0,i=0,a;for(;a=gD.exec(e);)s(e.slice(r,a.index)),n.push(a[0]),r=a.index+a[0].length,i++;return s(e.slice(r)),n.join("");function s(o){n.push(t(o,i,!o))}}function D1(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function bD(e,t){return Fv(e,t.inConstruct,!0)&&!Fv(e,t.notInConstruct,!1)}function Fv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function L1(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],a=[],s={};let o=-1;for(;++o<e.unsafe.length;){const u=e.unsafe[o];if(!bD(e.stack,u))continue;const d=D1(u);let f;for(;f=d.exec(r);){const h="before"in u||!!u.atBreak,g="after"in u,p=f.index+(h?f[1].length:0);i.includes(p)?(s[p].before&&!h&&(s[p].before=!1),s[p].after&&!g&&(s[p].after=!1)):(i.push(p),s[p]={before:h,after:g})}}i.sort(wD);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(o=-1;++o<i.length;){const u=i[o];u<l||u>=c||u+1<c&&i[o+1]===u+1&&s[u].after&&!s[u+1].before&&!s[u+1].after||i[o-1]===u-1&&s[u].before&&!s[u-1].before&&!s[u-1].after||(l!==u&&a.push(Bv(r.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!n.encode||!n.encode.includes(r.charAt(u)))?a.push("\\"):(a.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),l++))}return a.push(Bv(r.slice(l,c),n.after)),a.join("")}function wD(e,t){return e-t}function Bv(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],a=e+t;let s=-1,o=0,l;for(;l=n.exec(a);)r.push(l.index);for(;++s<r.length;)o!==r[s]&&i.push(e.slice(o,r[s])),i.push("\\"),o=r[s];return i.push(e.slice(o)),i.join("")}function $c(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,a=n.column||1;return{move:l,current:s,shift:o};function s(){return{now:{line:i,column:a},lineShift:r}}function o(c){r+=c}function l(c){const u=c||"",d=u.split(/\r?\n|\r/g),f=d[d.length-1];return i+=d.length-1,a=d.length===1?a+f.length:1+f.length+r,u}}f5.peek=ID;function vD(){return{enter:{gfmFootnoteDefinition:kD,gfmFootnoteDefinitionLabelString:SD,gfmFootnoteCall:TD,gfmFootnoteCallString:CD},exit:{gfmFootnoteDefinition:ED,gfmFootnoteDefinitionLabelString:_D,gfmFootnoteCall:RD,gfmFootnoteCallString:AD}}}function xD(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:ND,footnoteReference:f5}}}function kD(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function SD(){this.buffer()}function _D(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Xr(this.sliceSerialize(e)).toLowerCase()}function ED(e){this.exit(e)}function TD(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function CD(){this.buffer()}function AD(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Xr(this.sliceSerialize(e)).toLowerCase()}function RD(e){this.exit(e)}function f5(e,t,n,r){const i=$c(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(L1(n,h5(e),{...i.current(),before:a,after:"]"})),o(),s(),a+=i.move("]"),a}function ID(){return"["}function ND(e,t,n,r){const i=$c(r);let a=i.move("[^");const s=n.enter("footnoteDefinition"),o=n.enter("label");return a+=i.move(L1(n,h5(e),{...i.current(),before:a,after:"]"})),o(),a+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),a+=i.move(yD(mD(e,n,i.current()),MD)),s(),a}function MD(e,t,n){return t===0?e:(n?"":"    ")+e}function m5(e,t,n){const r=t.indexStack,i=e.children||[],a=[];let s=-1,o=n.before;r.push(-1);let l=t.createTracker(n);for(;++s<i.length;){const c=i[s];let u;if(r[r.length-1]=s,s+1<i.length){let d=t.handle.handlers[i[s+1].type];d&&d.peek&&(d=d.peek),u=d?d(i[s+1],e,t,{before:"",after:"",...l.current()}).charAt(0):""}else u=n.after;a.length>0&&(o==="\r"||o===`
`)&&c.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),o=" ",l=t.createTracker(n),l.move(a.join(""))),a.push(l.move(t.handle(c,e,t,{...l.current(),before:o,after:u}))),o=a[a.length-1].slice(-1)}return r.pop(),a.join("")}const OD=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];p5.peek=FD;const DD={canContainEols:["delete"],enter:{strikethrough:PD},exit:{strikethrough:zD}},LD={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:OD}],handlers:{delete:p5}};function PD(e){this.enter({type:"delete",children:[]},e)}function zD(e){this.exit(e)}function p5(e,t,n,r){const i=$c(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=m5(e,n,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function FD(){return"~"}g5.peek=BD;function g5(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=D1(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function BD(){return"`"}function $D(e,t={}){const n=(t.align||[]).concat(),r=t.stringLength||jD,i=[],a=[],s=[],o=[];let l=0,c=-1;for(;++c<e.length;){const g=[],p=[];let v=-1;for(e[c].length>l&&(l=e[c].length);++v<e[c].length;){const b=UD(e[c][v]);if(t.alignDelimiters!==!1){const w=r(b);p[v]=w,(o[v]===void 0||w>o[v])&&(o[v]=w)}g.push(b)}a[c]=g,s[c]=p}let u=-1;if(typeof n=="object"&&"length"in n)for(;++u<l;)i[u]=$v(n[u]);else{const g=$v(n);for(;++u<l;)i[u]=g}u=-1;const d=[],f=[];for(;++u<l;){const g=i[u];let p="",v="";g===99?(p=":",v=":"):g===108?p=":":g===114&&(v=":");let b=t.alignDelimiters===!1?1:Math.max(1,o[u]-p.length-v.length);const w=p+"-".repeat(b)+v;t.alignDelimiters!==!1&&(b=p.length+b+v.length,b>o[u]&&(o[u]=b),f[u]=b),d[u]=w}a.splice(1,0,d),s.splice(1,0,f),c=-1;const h=[];for(;++c<a.length;){const g=a[c],p=s[c];u=-1;const v=[];for(;++u<l;){const b=g[u]||"";let w="",k="";if(t.alignDelimiters!==!1){const T=o[u]-(p[u]||0),R=i[u];R===114?w=" ".repeat(T):R===99?T%2?(w=" ".repeat(T/2+.5),k=" ".repeat(T/2-.5)):(w=" ".repeat(T/2),k=w):k=" ".repeat(T)}t.delimiterStart!==!1&&!u&&v.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&b==="")&&(t.delimiterStart!==!1||u)&&v.push(" "),t.alignDelimiters!==!1&&v.push(w),v.push(b),t.alignDelimiters!==!1&&v.push(k),t.padding!==!1&&v.push(" "),(t.delimiterEnd!==!1||u!==l-1)&&v.push("|")}h.push(t.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return h.join(`
`)}function UD(e){return e==null?"":String(e)}function jD(e){return e.length}function $v(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const qD={enter:{table:HD,tableData:Uv,tableHeader:Uv,tableRow:XD},exit:{codeText:VD,table:WD,tableData:Qf,tableHeader:Qf,tableRow:Qf}};function HD(e){const t=e._align;this.enter({type:"table",align:t.map(n=>n==="none"?null:n),children:[]},e),this.setData("inTable",!0)}function WD(e){this.exit(e),this.setData("inTable")}function XD(e){this.enter({type:"tableRow",children:[]},e)}function Qf(e){this.exit(e)}function Uv(e){this.enter({type:"tableCell",children:[]},e)}function VD(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,YD));const n=this.stack[this.stack.length-1];n.value=t,this.exit(e)}function YD(e,t){return t==="|"?t:e}function GD(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:s,tableRow:o,tableCell:l,inlineCode:f}};function s(h,g,p,v){return c(u(h,p,v),h.align)}function o(h,g,p,v){const b=d(h,p,v),w=c([b]);return w.slice(0,w.indexOf(`
`))}function l(h,g,p,v){const b=p.enter("tableCell"),w=p.enter("phrasing"),k=m5(h,p,{...v,before:a,after:a});return w(),b(),k}function c(h,g){return $D(h,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function u(h,g,p){const v=h.children;let b=-1;const w=[],k=g.enter("table");for(;++b<v.length;)w[b]=d(v[b],g,p);return k(),w}function d(h,g,p){const v=h.children;let b=-1;const w=[],k=g.enter("tableRow");for(;++b<v.length;)w[b]=l(v[b],h,g,p);return k(),w}function f(h,g,p){let v=g5(h,g,p);return p.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function KD(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function QD(e){const t=e.options.listItemIndent||"tab";if(t===1||t==="1")return"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ZD(e,t,n,r){const i=QD(n);let a=n.bulletCurrent||KD(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),u);return l(),c;function u(d,f,h){return f?(h?"":" ".repeat(s))+d:(h?a:a+" ".repeat(s-a.length))+d}}const JD={exit:{taskListCheckValueChecked:jv,taskListCheckValueUnchecked:jv,paragraph:tL}},eL={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:nL}};function jv(e){const t=this.stack[this.stack.length-2];t.checked=e.type==="taskListCheckValueChecked"}function tL(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1],r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function nL(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=$c(r);a&&o.move(s);let l=ZD(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+s}}function rL(){return[nD,vD(),DD,qD,JD]}function iL(e){return{extensions:[rD,xD(),LD,GD(e),eL]}}function Uc(e={}){const t=this.data();n("micromarkExtensions",QO(e)),n("fromMarkdownExtensions",rL()),n("toMarkdownExtensions",iL(e));function n(r,i){(t[r]?t[r]:t[r]=[]).push(i)}}function aL(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="<[^<>]+>",s="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional(a)+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},l="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+l+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},h=t.optional(i)+e.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],p=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],T={type:p,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},R={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},x=[R,d,o,n,e.C_BLOCK_COMMENT_MODE,u,c],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:T,contains:x.concat([{begin:/\(/,end:/\)/,keywords:T,contains:x.concat(["self"]),relevance:0}]),relevance:0},I={className:"function",begin:"("+s+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:T,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:T,relevance:0},{begin:h,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,u,o,{begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,u,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:T,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,I,R,x,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:T,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:T},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function sL(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=aL(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function oL(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(s);const o={className:"",begin:/\\"/},l={className:"string",begin:/'/,end:/'/},c={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},u=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],d=e.SHEBANG({binary:`(${u.join("|")})`,relevance:10}),f={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},h=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],g=["true","false"],p={match:/(\/[a-z._-]+)+/},v=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],b=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],w=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],k=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:h,literal:g,built_in:[...v,...b,"set","shopt",...w,...k]},contains:[d,e.SHEBANG(),f,c,e.HASH_COMMENT_MODE,a,p,s,o,l,n]}}function lL(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="<[^<>]+>",s="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional(a)+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},l="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+l+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},h=t.optional(i)+e.IDENT_RE+"\\s*\\(",v={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},b=[d,o,n,e.C_BLOCK_COMMENT_MODE,u,c],w={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:v,contains:b.concat([{begin:/\(/,end:/\)/,keywords:v,contains:b.concat(["self"]),relevance:0}]),relevance:0},k={begin:"("+s+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:v,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:v,relevance:0},{begin:h,returnBegin:!0,contains:[e.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,u,o,{begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,u,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,d]};return{name:"C",aliases:["h"],keywords:v,disableAutodetect:!0,illegal:"</",contains:[].concat(w,k,b,[d,{begin:e.IDENT_RE+"::",keywords:v},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:d,strings:c,keywords:v}}}function cL(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="<[^<>]+>",s="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional(a)+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},l="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+l+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},h=t.optional(i)+e.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],p=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],T={type:p,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},R={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},x=[R,d,o,n,e.C_BLOCK_COMMENT_MODE,u,c],M={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:T,contains:x.concat([{begin:/\(/,end:/\)/,keywords:T,contains:x.concat(["self"]),relevance:0}]),relevance:0},I={className:"function",begin:"("+s+"[\\*&\\s]+)+"+h,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:T,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:T,relevance:0},{begin:h,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,c,u,o,{begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,c,u,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:T,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(M,I,R,x,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:T,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:T},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function uL(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],a=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],s={keyword:i.concat(a),built_in:t,literal:r},o=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},u=e.inherit(c,{illegal:/\n/}),d={className:"subst",begin:/\{/,end:/\}/,keywords:s},f=e.inherit(d,{illegal:/\n/}),h={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,f]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},d]},p=e.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]});d.contains=[g,h,c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.C_BLOCK_COMMENT_MODE],f.contains=[p,h,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const v={variants:[g,h,c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},b={begin:"<",end:">",contains:[{beginKeywords:"in out"},o]},w=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",k={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:s,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},v,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},o,b,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,b,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+w+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:s,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,b],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,relevance:0,contains:[v,l,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},k]}}const dL=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),hL=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],fL=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],mL=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],pL=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],gL=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function yL(e){const t=e.regex,n=dL(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",a=/@-?\w[\w]*(-\w+)*/,s="[a-zA-Z-][a-zA-Z0-9_-]*",o=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+s,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+mL.join("|")+")"},{begin:":(:)?("+pL.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+gL.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:a},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:fL.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+hL.join("|")+")\\b"}]}}function bL(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function wL(e){const a={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:a,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:a,illegal:/["']/}]}]}}function vL(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function xL(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},a={className:"literal",begin:/\bon|off|true|false|yes|no\b/},s={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[r,a,i,s,n,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,u=/'[^']*'/,d=t.either(l,c,u),f=t.concat(d,"(\\s*\\.\\s*",d,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[r,o,a,i,s,n]}}]}}var Ks="[0-9](_*[0-9])*",Uu=`\\.(${Ks})`,ju="[0-9a-fA-F](_*[0-9a-fA-F])*",qv={className:"number",variants:[{begin:`(\\b(${Ks})((${Uu})|\\.)?|(${Uu}))[eE][+-]?(${Ks})[fFdD]?\\b`},{begin:`\\b(${Ks})((${Uu})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Uu})[fFdD]?\\b`},{begin:`\\b(${Ks})[fFdD]\\b`},{begin:`\\b0[xX]((${ju})\\.?|(${ju})?\\.(${ju}))[pP][+-]?(${Ks})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${ju})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function y5(e,t,n){return n===-1?"":e.replace(t,r=>y5(e,t,n-1))}function kL(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+y5("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,qv,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},qv,c]}}const Hv="[A-Za-z$_][0-9A-Za-z$_]*",SL=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],_L=["true","false","null","undefined","NaN","Infinity"],b5=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],w5=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],v5=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],EL=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],TL=[].concat(v5,b5,w5);function CL(e){const t=e.regex,n=($,{after:K})=>{const C="</"+$[0].slice(1);return $.input.indexOf(C,K)!==-1},r=Hv,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:($,K)=>{const C=$[0].length+$.index,oe=$.input[C];if(oe==="<"||oe===","){K.ignoreMatch();return}oe===">"&&(n($,{after:C})||K.ignoreMatch());let G;const A=$.input.substring(C);if(G=A.match(/^\s*=/)){K.ignoreMatch();return}if((G=A.match(/^\s+extends\s+/))&&G.index===0){K.ignoreMatch();return}}},o={$pattern:Hv,keyword:SL,literal:_L,built_in:TL,"variable.language":EL},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},h={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},p={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,g,p,v,{match:/\$\d+/},d];f.contains=k.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(k)});const T=[].concat(w,f.contains),R=T.concat([{begin:/\(/,end:/\)/,keywords:o,contains:["self"].concat(T)}]),x={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:R},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},I={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...b5,...w5]}},B={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},D={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[x],illegal:/%/},Y={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function X($){return t.concat("(?!",$.join("|"),")")}const ce={match:t.concat(/\b/,X([...v5,"super","import"]),r,t.lookahead(/\(/)),className:"title.function",relevance:0},se={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},de={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},x]},ze="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",W={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(ze)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[x]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:R,CLASS_REFERENCE:I},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),B,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,g,p,v,w,{match:/\$\d+/},d,I,{className:"attr",begin:r+t.lookahead(":"),relevance:0},W,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[w,e.REGEXP_MODE,{className:"function",begin:ze,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:R}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},D,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[x,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},se,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[x]},ce,Y,M,de,{match:/\$[(.]/}]}}function AL(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Qs="[0-9](_*[0-9])*",qu=`\\.(${Qs})`,Hu="[0-9a-fA-F](_*[0-9a-fA-F])*",RL={className:"number",variants:[{begin:`(\\b(${Qs})((${qu})|\\.)?|(${qu}))[eE][+-]?(${Qs})[fFdD]?\\b`},{begin:`\\b(${Qs})((${qu})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${qu})[fFdD]?\\b`},{begin:`\\b(${Qs})[fFdD]\\b`},{begin:`\\b0[xX]((${Hu})\\.?|(${Hu})?\\.(${Hu}))[pP][+-]?(${Qs})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Hu})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function IL(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},a={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},s={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[a,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,a,i]}]};i.contains.push(s);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(s,{className:"string"}),"self"]}]},c=RL,u=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=d;return f.variants[1].contains=[d],d.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,u,n,r,o,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,e.C_LINE_COMMENT_MODE,u],relevance:0},e.C_LINE_COMMENT_MODE,u,o,l,s,e.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,l]},s,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const NL=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),ML=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],OL=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],x5=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],k5=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],DL=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),LL=x5.concat(k5);function PL(e){const t=NL(e),n=LL,r="and or not only",i="[\\w-]+",a="("+i+"|@\\{"+i+"\\})",s=[],o=[],l=function(k){return{className:"string",begin:"~?"+k+".*?"+k}},c=function(k,T,R){return{className:k,begin:T,relevance:R}},u={$pattern:/[a-z-]+/,keyword:r,attribute:OL.join(" ")},d={begin:"\\(",end:"\\)",contains:o,keywords:u,relevance:0};o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l("'"),l('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,d,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const f=o.concat({begin:/\{/,end:/\}/,contains:s}),h={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},g={begin:a+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+DL.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},p={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:u,returnEnd:!0,contains:o,relevance:0}},v={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:f}},b={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:a,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,h,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+ML.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,c("selector-tag",a,0),c("selector-id","#"+a),c("selector-class","\\."+a,0),c("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+x5.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+k5.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},t.FUNCTION_DISPATCH]},w={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[b]};return s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,p,v,w,g,b,h,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:s}}function zL(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function FL(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},a={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},s={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,a,s]}}function BL(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},a={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},s={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},o=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,o,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},u={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},d=e.inherit(c,{contains:[]}),f=e.inherit(u,{contains:[]});c.contains.push(f),u.contains.push(d);let h=[n,l];return[c,u,d,f].forEach(v=>{v.contains=v.contains.concat(h)}),h=h.concat(c,u),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:h},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:h}]}]},n,a,c,u,{className:"quote",begin:"^>\\s+",contains:h,end:"$"},i,r,l,s]}}function $L(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,o={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:o,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function UL(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},a={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},s={begin:/->\{/,end:/\}/},o={variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},l=[e.BACKSLASH_ESCAPE,a,o],c=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],u=(h,g,p="\\1")=>{const v=p==="\\1"?p:t.concat(p,g);return t.concat(t.concat("(?:",h,")"),g,/(?:\\.|[^\\\/])*?/,v,/(?:\\.|[^\\\/])*?/,p,r)},d=(h,g,p)=>t.concat(t.concat("(?:",h,")"),g,/(?:\\.|[^\\\/])*?/,p,r),f=[o,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),s,{className:"string",contains:l,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:u("s|tr|y",t.either(...c,{capture:!0}))},{begin:u("s|tr|y","\\(","\\)")},{begin:u("s|tr|y","\\[","\\]")},{begin:u("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:d("(?:m|qr)?",/\//,/\//)},{begin:d("m|qr",t.either(...c,{capture:!0}),/\1/)},{begin:d("m|qr",/\(/,/\)/)},{begin:d("m|qr",/\[/,/\]/)},{begin:d("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return a.contains=f,s.contains=f,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:f}}function jL(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),a={scope:"variable",match:"\\$+"+r},s={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},o={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},l=e.inherit(e.APOS_STRING_MODE,{illegal:null}),c=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(o)}),u={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(o),"on:begin":(ce,se)=>{se.data._beginMatch=ce[1]||ce[2]},"on:end":(ce,se)=>{se.data._beginMatch!==ce[1]&&se.ignoreMatch()}},d=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),f=`[ 	
]`,h={scope:"string",variants:[c,l,u,d]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},p=["false","null","true"],v=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],b=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],k={keyword:v,literal:(ce=>{const se=[];return ce.forEach(de=>{se.push(de),de.toLowerCase()===de?se.push(de.toUpperCase()):se.push(de.toLowerCase())}),se})(p),built_in:b},T=ce=>ce.map(se=>se.replace(/\|\d+$/,"")),R={variants:[{match:[/new/,t.concat(f,"+"),t.concat("(?!",T(b).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},x=t.concat(r,"\\b(?!\\()"),M={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),x],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),x],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},I={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},B={relevance:0,begin:/\(/,end:/\)/,keywords:k,contains:[I,a,M,e.C_BLOCK_COMMENT_MODE,h,g,R]},D={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",T(v).join("\\b|"),"|",T(b).join("\\b|"),"\\b)"),r,t.concat(f,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[B]};B.contains.push(D);const Y=[I,M,e.C_BLOCK_COMMENT_MODE,h,g,R],X={begin:t.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:p,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:p,keyword:["new","array"]},contains:["self",...Y]},...Y,{scope:"meta",match:i}]};return{case_insensitive:!1,keywords:k,contains:[X,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},s,{scope:"variable.language",match:/\$this\b/},a,D,M,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},R,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:k,contains:["self",a,M,e.C_BLOCK_COMMENT_MODE,h,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},h,g]}}function qL(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function HL(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function WL(e){const t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},u={begin:/\{\{/,relevance:0},d={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,u,c]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",h=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,g=`\\b|${r.join("|")}`,p={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${h}))[eE][+-]?(${f})[jJ]?(?=${g})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${f})[jJ](?=${g})`}]},v={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",l,p,d,e.HASH_COMMENT_MODE]}]};return c.contains=[d,p,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[l,p,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},d,v,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[p,b,d]}]}}function XL(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function VL(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,a=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[a,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:a},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function YL(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),s={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[e.COMMENT("#","$",{contains:[o]}),e.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],u={className:"subst",begin:/#\{/,end:/\}/,keywords:s},d={className:"string",contains:[e.BACKSLASH_ESCAPE,u],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,u]})]}]},f="[1-9](_?[0-9])*|0",h="[0-9](_?[0-9])*",g={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${h}))?([eE][+-]?(${h})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},p={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:s}]},x=[d,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:s},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:s},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[p]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[d,{begin:n}],relevance:0},g,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:s},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,u],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);u.contains=x,p.contains=x;const M="[>?]>",I="[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]",B="(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>",D=[{begin:/^\s*=>/,starts:{end:"$",contains:x}},{className:"meta.prompt",begin:"^("+M+"|"+I+"|"+B+")(?=[ ])",starts:{end:"$",keywords:s,contains:x}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:s,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(D).concat(c).concat(x)}}function GL(e){const t=e.regex,n={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let\b)/,e.IDENT_RE,t.lookahead(/\s*\(/))},r="([ui](8|16|32|64|128|size)|f(32|64))?",i=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],a=["true","false","Some","None","Ok","Err"],s=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],o=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:o,keyword:i,literal:a,built_in:s},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+r},{begin:"\\b0o([0-7_]+)"+r},{begin:"\\b0x([A-Fa-f0-9_]+)"+r},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+r}],relevance:0},{begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:s,type:o}},{className:"punctuation",begin:"->"},n]}}const KL=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),QL=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ZL=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],JL=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],eP=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],tP=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function nP(e){const t=KL(e),n=eP,r=JL,i="@[a-z-]+",a="and or not only",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+QL.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+tP.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,o,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:ZL.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function rP(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function iP(e){const t=e.regex,n=e.COMMENT("--","$"),r={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},i={begin:/"/,end:/"/,contains:[{begin:/""/}]},a=["true","false","unknown"],s=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],d=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],h=u,g=[...c,...l].filter(k=>!u.includes(k)),p={className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},v={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={begin:t.concat(/\b/,t.either(...h),/\s*\(/),relevance:0,keywords:{built_in:h}};function w(k,{exceptions:T,when:R}={}){const x=R;return T=T||[],k.map(M=>M.match(/\|\d+$/)||T.includes(M)?M:x(M)?`${M}|0`:M)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:w(g,{when:k=>k.length<3}),literal:a,type:o,built_in:d},contains:[{begin:t.either(...f),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:g.concat(f),literal:a,type:o}},{className:"type",begin:t.either(...s)},b,p,r,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,v]}}function S5(e){return e?typeof e=="string"?e:e.source:null}function Wu(e){return Rt("(?=",e,")")}function Rt(...e){return e.map(n=>S5(n)).join("")}function aP(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function jn(...e){return"("+(aP(e).capture?"":"?:")+e.map(r=>S5(r)).join("|")+")"}const P1=e=>Rt(/\b/,e,/\w$/.test(e)?/\b/:/\B/),sP=["Protocol","Type"].map(P1),Wv=["init","self"].map(P1),oP=["Any","Self"],Zf=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","distributed","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Xv=["false","nil","true"],lP=["assignment","associativity","higherThan","left","lowerThan","none","right"],cP=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],Vv=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],_5=jn(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),E5=jn(_5,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Jf=Rt(_5,E5,"*"),T5=jn(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),ph=jn(T5,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),_i=Rt(T5,ph,"*"),em=Rt(/[A-Z]/,ph,"*"),uP=["autoclosure",Rt(/convention\(/,jn("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Rt(/objc\(/,_i,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","testable","UIApplicationMain","unknown","usableFromInline"],dP=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function hP(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,jn(...sP,...Wv)],className:{2:"keyword"}},a={match:Rt(/\./,jn(...Zf)),relevance:0},s=Zf.filter(xe=>typeof xe=="string").concat(["_|0"]),o=Zf.filter(xe=>typeof xe!="string").concat(oP).map(P1),l={variants:[{className:"keyword",match:jn(...o,...Wv)}]},c={$pattern:jn(/\b\w+/,/#\w+/),keyword:s.concat(cP),literal:Xv},u=[i,a,l],d={match:Rt(/\./,jn(...Vv)),relevance:0},f={className:"built_in",match:Rt(/\b/,jn(...Vv),/(?=\()/)},h=[d,f],g={match:/->/,relevance:0},p={className:"operator",relevance:0,variants:[{match:Jf},{match:`\\.(\\.|${E5})+`}]},v=[g,p],b="([0-9]_*)+",w="([0-9a-fA-F]_*)+",k={className:"number",relevance:0,variants:[{match:`\\b(${b})(\\.(${b}))?([eE][+-]?(${b}))?\\b`},{match:`\\b0x(${w})(\\.(${w}))?([pP][+-]?(${b}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},T=(xe="")=>({className:"subst",variants:[{match:Rt(/\\/,xe,/[0\\tnr"']/)},{match:Rt(/\\/,xe,/u\{[0-9a-fA-F]{1,8}\}/)}]}),R=(xe="")=>({className:"subst",match:Rt(/\\/,xe,/[\t ]*(?:[\r\n]|\r\n)/)}),x=(xe="")=>({className:"subst",label:"interpol",begin:Rt(/\\/,xe,/\(/),end:/\)/}),M=(xe="")=>({begin:Rt(xe,/"""/),end:Rt(/"""/,xe),contains:[T(xe),R(xe),x(xe)]}),I=(xe="")=>({begin:Rt(xe,/"/),end:Rt(/"/,xe),contains:[T(xe),x(xe)]}),B={className:"string",variants:[M(),M("#"),M("##"),M("###"),I(),I("#"),I("##"),I("###")]},D={match:Rt(/`/,_i,/`/)},Y={className:"variable",match:/\$\d+/},X={className:"variable",match:`\\$${ph}+`},ce=[D,Y,X],se={match:/(@|#(un)?)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:dP,contains:[...v,k,B]}]}},de={className:"keyword",match:Rt(/@/,jn(...uP))},ze={className:"meta",match:Rt(/@/,_i)},W=[se,de,ze],$={match:Wu(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Rt(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,ph,"+")},{className:"type",match:em,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Rt(/\s+&\s+/,Wu(em)),relevance:0}]},K={begin:/</,end:/>/,keywords:c,contains:[...r,...u,...W,g,$]};$.contains.push(K);const C={match:Rt(_i,/\s*:/),keywords:"_|0",relevance:0},oe={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",C,...r,...u,...h,...v,k,B,...ce,...W,$]},G={begin:/</,end:/>/,contains:[...r,$]},A={begin:jn(Wu(Rt(_i,/\s*:/)),Wu(Rt(_i,/\s+/,_i,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:_i}]},ee={begin:/\(/,end:/\)/,keywords:c,contains:[A,...r,...u,...v,k,B,...W,$,oe],endsParent:!0,illegal:/["']/},he={match:[/func/,/\s+/,jn(D.match,_i,Jf)],className:{1:"keyword",3:"title.function"},contains:[G,ee,t],illegal:[/\[/,/%/]},U={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[G,ee,t],illegal:/\[|%/},Te={match:[/operator/,/\s+/,Jf],className:{1:"keyword",3:"title"}},te={begin:[/precedencegroup/,/\s+/,em],className:{1:"keyword",3:"title"},contains:[$],keywords:[...lP,...Xv],end:/}/};for(const xe of B.variants){const Fe=xe.contains.find(Re=>Re.label==="interpol");Fe.keywords=c;const Ie=[...u,...h,...v,k,B,...ce];Fe.contains=[...Ie,{begin:/\(/,end:/\)/,contains:["self",...Ie]}]}return{name:"Swift",keywords:c,contains:[...r,he,U,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:c,contains:[e.inherit(e.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...u]},Te,te,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},...u,...h,...v,k,B,...ce,...W,$,oe]}}const gh="[A-Za-z$_][0-9A-Za-z$_]*",C5=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],A5=["true","false","null","undefined","NaN","Infinity"],R5=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],I5=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],N5=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],M5=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],O5=[].concat(N5,R5,I5);function fP(e){const t=e.regex,n=($,{after:K})=>{const C="</"+$[0].slice(1);return $.input.indexOf(C,K)!==-1},r=gh,i={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:($,K)=>{const C=$[0].length+$.index,oe=$.input[C];if(oe==="<"||oe===","){K.ignoreMatch();return}oe===">"&&(n($,{after:C})||K.ignoreMatch());let G;const A=$.input.substring(C);if(G=A.match(/^\s*=/)){K.ignoreMatch();return}if((G=A.match(/^\s+extends\s+/))&&G.index===0){K.ignoreMatch();return}}},o={$pattern:gh,keyword:C5,literal:A5,built_in:O5,"variable.language":M5},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},h={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"css"}},p={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,f]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},k=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,g,p,v,{match:/\$\d+/},d];f.contains=k.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(k)});const T=[].concat(w,f.contains),R=T.concat([{begin:/\(/,end:/\)/,keywords:o,contains:["self"].concat(T)}]),x={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:R},M={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},I={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...R5,...I5]}},B={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},D={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[x],illegal:/%/},Y={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function X($){return t.concat("(?!",$.join("|"),")")}const ce={match:t.concat(/\b/,X([...N5,"super","import"]),r,t.lookahead(/\(/)),className:"title.function",relevance:0},se={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},de={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},x]},ze="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",W={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(ze)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[x]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:R,CLASS_REFERENCE:I},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),B,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,g,p,v,w,{match:/\$\d+/},d,I,{className:"attr",begin:r+t.lookahead(":"),relevance:0},W,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[w,e.REGEXP_MODE,{className:"function",begin:ze,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:R}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:a},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},D,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[x,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},se,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[x]},ce,Y,M,de,{match:/\$[(.]/}]}}function mP(e){const t=fP(e),n=gh,r=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:r},contains:[t.exports.CLASS_REFERENCE]},s={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},o=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],l={$pattern:gh,keyword:C5.concat(o),literal:A5,built_in:O5.concat(r),"variable.language":M5},c={className:"meta",begin:"@"+n},u=(f,h,g)=>{const p=f.contains.findIndex(v=>v.label===h);if(p===-1)throw new Error("can not find mode to replace");f.contains.splice(p,1,g)};Object.assign(t.keywords,l),t.exports.PARAMS_CONTAINS.push(c),t.contains=t.contains.concat([c,i,a]),u(t,"shebang",e.SHEBANG()),u(t,"use_strict",s);const d=t.contains.find(f=>f.label==="func.def");return d.relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),t}function pP(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,a=/\d{4}-\d{1,2}-\d{1,2}/,s=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:t.concat(/# */,t.either(a,i),/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,s,/ *#/)},{begin:t.concat(/# */,t.either(a,i),/ +/,t.either(s,o),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},u={className:"label",begin:/^\w+:/},d=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,l,c,u,d,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function gP(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},a={className:"variable",begin:/\$[\w_]+/},s={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},o={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},a,s,i,e.QUOTE_STRING_MODE,l,c,o]}}function yP(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},a={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},s=e.inherit(a,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[a,l,o,s,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[a,s,l,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function bP(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},a={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},s=e.inherit(a,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),o="[0-9]{4}(-[0-9][0-9]){0,2}",l="([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?",c="(\\.[0-9]*)?",u="([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?",d={className:"number",begin:"\\b"+o+l+c+u+"\\b"},f={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},h={begin:/\{/,end:/\}/,contains:[f],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[f],illegal:"\\n",relevance:0},p=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},d,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},h,g,a],v=[...p];return v.pop(),v.push(s),f.contains=v,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:p}}function D5(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&D5(n)}),e}class Yv{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function L5(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function ba(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const wP="</span>",Gv=e=>!!e.scope,vP=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};class xP{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=L5(t)}openNode(t){if(!Gv(t))return;const n=vP(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){Gv(t)&&(this.buffer+=wP)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const Kv=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class z1{constructor(){this.rootNode=Kv(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=Kv({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{z1._collapse(n)}))}}class kP extends z1{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new xP(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function wc(e){return e?typeof e=="string"?e:e.source:null}function P5(e){return Ms("(?=",e,")")}function SP(e){return Ms("(?:",e,")*")}function _P(e){return Ms("(?:",e,")?")}function Ms(...e){return e.map(n=>wc(n)).join("")}function EP(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function F1(...e){return"("+(EP(e).capture?"":"?:")+e.map(r=>wc(r)).join("|")+")"}function z5(e){return new RegExp(e.toString()+"|").exec("").length-1}function TP(e,t){const n=e&&e.exec(t);return n&&n.index===0}const CP=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function B1(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const i=n;let a=wc(r),s="";for(;a.length>0;){const o=CP.exec(a);if(!o){s+=a;break}s+=a.substring(0,o.index),a=a.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?s+="\\"+String(Number(o[1])+i):(s+=o[0],o[0]==="("&&n++)}return s}).map(r=>`(${r})`).join(t)}const AP=/\b\B/,F5="[a-zA-Z]\\w*",$1="[a-zA-Z_]\\w*",B5="\\b\\d+(\\.\\d+)?",$5="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",U5="\\b(0b[01]+)",RP="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",IP=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Ms(t,/.*\b/,e.binary,/\b.*/)),ba({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},vc={begin:"\\\\[\\s\\S]",relevance:0},NP={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[vc]},MP={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[vc]},OP={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},k0=function(e,t,n={}){const r=ba({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=F1("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Ms(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},DP=k0("//","$"),LP=k0("/\\*","\\*/"),PP=k0("#","$"),zP={scope:"number",begin:B5,relevance:0},FP={scope:"number",begin:$5,relevance:0},BP={scope:"number",begin:U5,relevance:0},$P={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[vc,{begin:/\[/,end:/\]/,relevance:0,contains:[vc]}]}]},UP={scope:"title",begin:F5,relevance:0},jP={scope:"title",begin:$1,relevance:0},qP={begin:"\\.\\s*"+$1,relevance:0},HP=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var Xu=Object.freeze({__proto__:null,MATCH_NOTHING_RE:AP,IDENT_RE:F5,UNDERSCORE_IDENT_RE:$1,NUMBER_RE:B5,C_NUMBER_RE:$5,BINARY_NUMBER_RE:U5,RE_STARTERS_RE:RP,SHEBANG:IP,BACKSLASH_ESCAPE:vc,APOS_STRING_MODE:NP,QUOTE_STRING_MODE:MP,PHRASAL_WORDS_MODE:OP,COMMENT:k0,C_LINE_COMMENT_MODE:DP,C_BLOCK_COMMENT_MODE:LP,HASH_COMMENT_MODE:PP,NUMBER_MODE:zP,C_NUMBER_MODE:FP,BINARY_NUMBER_MODE:BP,REGEXP_MODE:$P,TITLE_MODE:UP,UNDERSCORE_TITLE_MODE:jP,METHOD_GUARD:qP,END_SAME_AS_BEGIN:HP});function WP(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function XP(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function VP(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=WP,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function YP(e,t){Array.isArray(e.illegal)&&(e.illegal=F1(...e.illegal))}function GP(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function KP(e,t){e.relevance===void 0&&(e.relevance=1)}const QP=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=Ms(n.beforeMatch,P5(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},ZP=["of","and","for","in","not","or","if","then","parent","list","value"],JP="keyword";function j5(e,t,n=JP){const r=Object.create(null);return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(a){Object.assign(r,j5(e[a],t,a))}),r;function i(a,s){t&&(s=s.map(o=>o.toLowerCase())),s.forEach(function(o){const l=o.split("|");r[l[0]]=[a,ez(l[0],l[1])]})}}function ez(e,t){return t?Number(t):tz(e)?0:1}function tz(e){return ZP.includes(e.toLowerCase())}const Qv={},ps=e=>{console.error(e)},Zv=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Hs=(e,t)=>{Qv[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Qv[`${e}/${t}`]=!0)},yh=new Error;function q5(e,t,{key:n}){let r=0;const i=e[n],a={},s={};for(let o=1;o<=t.length;o++)s[o+r]=i[o],a[o+r]=!0,r+=z5(t[o-1]);e[n]=s,e[n]._emit=a,e[n]._multi=!0}function nz(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw ps("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),yh;if(typeof e.beginScope!="object"||e.beginScope===null)throw ps("beginScope must be object"),yh;q5(e,e.begin,{key:"beginScope"}),e.begin=B1(e.begin,{joinWith:""})}}function rz(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw ps("skip, excludeEnd, returnEnd not compatible with endScope: {}"),yh;if(typeof e.endScope!="object"||e.endScope===null)throw ps("endScope must be object"),yh;q5(e,e.end,{key:"endScope"}),e.end=B1(e.end,{joinWith:""})}}function iz(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function az(e){iz(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),nz(e),rz(e)}function sz(e){function t(s,o){return new RegExp(wc(s),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(o?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(o,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,o]),this.matchAt+=z5(o)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const o=this.regexes.map(l=>l[1]);this.matcherRe=t(B1(o,{joinWith:"|"}),!0),this.lastIndex=0}exec(o){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(o);if(!l)return null;const c=l.findIndex((d,f)=>f>0&&d!==void 0),u=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(o){if(this.multiRegexes[o])return this.multiRegexes[o];const l=new n;return this.rules.slice(o).forEach(([c,u])=>l.addRule(c,u)),l.compile(),this.multiRegexes[o]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(o,l){this.rules.push([o,l]),l.type==="begin"&&this.count++}exec(o){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(o);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,c=u.exec(o)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function i(s){const o=new r;return s.contains.forEach(l=>o.addRule(l.begin,{rule:l,type:"begin"})),s.terminatorEnd&&o.addRule(s.terminatorEnd,{type:"end"}),s.illegal&&o.addRule(s.illegal,{type:"illegal"}),o}function a(s,o){const l=s;if(s.isCompiled)return l;[XP,GP,az,QP].forEach(u=>u(s,o)),e.compilerExtensions.forEach(u=>u(s,o)),s.__beforeBegin=null,[VP,YP,KP].forEach(u=>u(s,o)),s.isCompiled=!0;let c=null;return typeof s.keywords=="object"&&s.keywords.$pattern&&(s.keywords=Object.assign({},s.keywords),c=s.keywords.$pattern,delete s.keywords.$pattern),c=c||/\w+/,s.keywords&&(s.keywords=j5(s.keywords,e.case_insensitive)),l.keywordPatternRe=t(c,!0),o&&(s.begin||(s.begin=/\B|\b/),l.beginRe=t(l.begin),!s.end&&!s.endsWithParent&&(s.end=/\B|\b/),s.end&&(l.endRe=t(l.end)),l.terminatorEnd=wc(l.end)||"",s.endsWithParent&&o.terminatorEnd&&(l.terminatorEnd+=(s.end?"|":"")+o.terminatorEnd)),s.illegal&&(l.illegalRe=t(s.illegal)),s.contains||(s.contains=[]),s.contains=[].concat(...s.contains.map(function(u){return oz(u==="self"?s:u)})),s.contains.forEach(function(u){a(u,l)}),s.starts&&a(s.starts,o),l.matcher=i(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=ba(e.classNameAliases||{}),a(e)}function H5(e){return e?e.endsWithParent||H5(e.starts):!1}function oz(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return ba(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:H5(e)?ba(e,{starts:e.starts?ba(e.starts):null}):Object.isFrozen(e)?ba(e):e}var lz="11.8.0";class cz extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const tm=L5,Jv=ba,e4=Symbol("nomatch"),uz=7,W5=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:kP};function l(W){return o.noHighlightRe.test(W)}function c(W){let $=W.className+" ";$+=W.parentNode?W.parentNode.className:"";const K=o.languageDetectRe.exec($);if(K){const C=B(K[1]);return C||(Zv(a.replace("{}",K[1])),Zv("Falling back to no-highlight mode for this block.",W)),C?K[1]:"no-highlight"}return $.split(/\s+/).find(C=>l(C)||B(C))}function u(W,$,K){let C="",oe="";typeof $=="object"?(C=W,K=$.ignoreIllegals,oe=$.language):(Hs("10.7.0","highlight(lang, code, ...args) has been deprecated."),Hs("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),oe=W,C=$),K===void 0&&(K=!0);const G={code:C,language:oe};de("before:highlight",G);const A=G.result?G.result:d(G.language,G.code,K);return A.code=G.code,de("after:highlight",A),A}function d(W,$,K,C){const oe=Object.create(null);function G(P,q){return P.keywords[q]}function A(){if(!Ae.keywords){kt.addText(rt);return}let P=0;Ae.keywordPatternRe.lastIndex=0;let q=Ae.keywordPatternRe.exec(rt),ue="";for(;q;){ue+=rt.substring(P,q.index);const ke=nt.case_insensitive?q[0].toLowerCase():q[0],Ue=G(Ae,ke);if(Ue){const[mt,Zn]=Ue;if(kt.addText(ue),ue="",oe[ke]=(oe[ke]||0)+1,oe[ke]<=uz&&(Ct+=Zn),mt.startsWith("_"))ue+=q[0];else{const zn=nt.classNameAliases[mt]||mt;U(q[0],zn)}}else ue+=q[0];P=Ae.keywordPatternRe.lastIndex,q=Ae.keywordPatternRe.exec(rt)}ue+=rt.substring(P),kt.addText(ue)}function ee(){if(rt==="")return;let P=null;if(typeof Ae.subLanguage=="string"){if(!t[Ae.subLanguage]){kt.addText(rt);return}P=d(Ae.subLanguage,rt,!0,Ot[Ae.subLanguage]),Ot[Ae.subLanguage]=P._top}else P=h(rt,Ae.subLanguage.length?Ae.subLanguage:null);Ae.relevance>0&&(Ct+=P.relevance),kt.__addSublanguage(P._emitter,P.language)}function he(){Ae.subLanguage!=null?ee():A(),rt=""}function U(P,q){P!==""&&(kt.startScope(q),kt.addText(P),kt.endScope())}function Te(P,q){let ue=1;const ke=q.length-1;for(;ue<=ke;){if(!P._emit[ue]){ue++;continue}const Ue=nt.classNameAliases[P[ue]]||P[ue],mt=q[ue];Ue?U(mt,Ue):(rt=mt,A(),rt=""),ue++}}function te(P,q){return P.scope&&typeof P.scope=="string"&&kt.openNode(nt.classNameAliases[P.scope]||P.scope),P.beginScope&&(P.beginScope._wrap?(U(rt,nt.classNameAliases[P.beginScope._wrap]||P.beginScope._wrap),rt=""):P.beginScope._multi&&(Te(P.beginScope,q),rt="")),Ae=Object.create(P,{parent:{value:Ae}}),Ae}function xe(P,q,ue){let ke=TP(P.endRe,ue);if(ke){if(P["on:end"]){const Ue=new Yv(P);P["on:end"](q,Ue),Ue.isMatchIgnored&&(ke=!1)}if(ke){for(;P.endsParent&&P.parent;)P=P.parent;return P}}if(P.endsWithParent)return xe(P.parent,q,ue)}function Fe(P){return Ae.matcher.regexIndex===0?(rt+=P[0],1):(Qn=!0,0)}function Ie(P){const q=P[0],ue=P.rule,ke=new Yv(ue),Ue=[ue.__beforeBegin,ue["on:begin"]];for(const mt of Ue)if(mt&&(mt(P,ke),ke.isMatchIgnored))return Fe(q);return ue.skip?rt+=q:(ue.excludeBegin&&(rt+=q),he(),!ue.returnBegin&&!ue.excludeBegin&&(rt=q)),te(ue,P),ue.returnBegin?0:q.length}function Re(P){const q=P[0],ue=$.substring(P.index),ke=xe(Ae,P,ue);if(!ke)return e4;const Ue=Ae;Ae.endScope&&Ae.endScope._wrap?(he(),U(q,Ae.endScope._wrap)):Ae.endScope&&Ae.endScope._multi?(he(),Te(Ae.endScope,P)):Ue.skip?rt+=q:(Ue.returnEnd||Ue.excludeEnd||(rt+=q),he(),Ue.excludeEnd&&(rt=q));do Ae.scope&&kt.closeNode(),!Ae.skip&&!Ae.subLanguage&&(Ct+=Ae.relevance),Ae=Ae.parent;while(Ae!==ke.parent);return ke.starts&&te(ke.starts,P),Ue.returnEnd?0:q.length}function Tt(){const P=[];for(let q=Ae;q!==nt;q=q.parent)q.scope&&P.unshift(q.scope);P.forEach(q=>kt.openNode(q))}let xt={};function Be(P,q){const ue=q&&q[0];if(rt+=P,ue==null)return he(),0;if(xt.type==="begin"&&q.type==="end"&&xt.index===q.index&&ue===""){if(rt+=$.slice(q.index,q.index+1),!i){const ke=new Error(`0 width match regex (${W})`);throw ke.languageName=W,ke.badRule=xt.rule,ke}return 1}if(xt=q,q.type==="begin")return Ie(q);if(q.type==="illegal"&&!K){const ke=new Error('Illegal lexeme "'+ue+'" for mode "'+(Ae.scope||"<unnamed>")+'"');throw ke.mode=Ae,ke}else if(q.type==="end"){const ke=Re(q);if(ke!==e4)return ke}if(q.type==="illegal"&&ue==="")return 1;if(ft>1e5&&ft>q.index*3)throw new Error("potential infinite loop, way more iterations than matches");return rt+=ue,ue.length}const nt=B(W);if(!nt)throw ps(a.replace("{}",W)),new Error('Unknown language: "'+W+'"');const Xe=sz(nt);let lt="",Ae=C||Xe;const Ot={},kt=new o.__emitter(o);Tt();let rt="",Ct=0,Ee=0,ft=0,Qn=!1;try{if(nt.__emitTokens)nt.__emitTokens($,kt);else{for(Ae.matcher.considerAll();;){ft++,Qn?Qn=!1:Ae.matcher.considerAll(),Ae.matcher.lastIndex=Ee;const P=Ae.matcher.exec($);if(!P)break;const q=$.substring(Ee,P.index),ue=Be(q,P);Ee=P.index+ue}Be($.substring(Ee))}return kt.finalize(),lt=kt.toHTML(),{language:W,value:lt,relevance:Ct,illegal:!1,_emitter:kt,_top:Ae}}catch(P){if(P.message&&P.message.includes("Illegal"))return{language:W,value:tm($),illegal:!0,relevance:0,_illegalBy:{message:P.message,index:Ee,context:$.slice(Ee-100,Ee+100),mode:P.mode,resultSoFar:lt},_emitter:kt};if(i)return{language:W,value:tm($),illegal:!1,relevance:0,errorRaised:P,_emitter:kt,_top:Ae};throw P}}function f(W){const $={value:tm(W),illegal:!1,relevance:0,_top:s,_emitter:new o.__emitter(o)};return $._emitter.addText(W),$}function h(W,$){$=$||o.languages||Object.keys(t);const K=f(W),C=$.filter(B).filter(Y).map(he=>d(he,W,!1));C.unshift(K);const oe=C.sort((he,U)=>{if(he.relevance!==U.relevance)return U.relevance-he.relevance;if(he.language&&U.language){if(B(he.language).supersetOf===U.language)return 1;if(B(U.language).supersetOf===he.language)return-1}return 0}),[G,A]=oe,ee=G;return ee.secondBest=A,ee}function g(W,$,K){const C=$&&n[$]||K;W.classList.add("hljs"),W.classList.add(`language-${C}`)}function p(W){let $=null;const K=c(W);if(l(K))return;if(de("before:highlightElement",{el:W,language:K}),W.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(W)),o.throwUnescapedHTML))throw new cz("One of your code blocks includes unescaped HTML.",W.innerHTML);$=W;const C=$.textContent,oe=K?u(C,{language:K,ignoreIllegals:!0}):h(C);W.innerHTML=oe.value,g(W,K,oe.language),W.result={language:oe.language,re:oe.relevance,relevance:oe.relevance},oe.secondBest&&(W.secondBest={language:oe.secondBest.language,relevance:oe.secondBest.relevance}),de("after:highlightElement",{el:W,result:oe,text:C})}function v(W){o=Jv(o,W)}const b=()=>{T(),Hs("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function w(){T(),Hs("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let k=!1;function T(){if(document.readyState==="loading"){k=!0;return}document.querySelectorAll(o.cssSelector).forEach(p)}function R(){k&&T()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",R,!1);function x(W,$){let K=null;try{K=$(e)}catch(C){if(ps("Language definition for '{}' could not be registered.".replace("{}",W)),i)ps(C);else throw C;K=s}K.name||(K.name=W),t[W]=K,K.rawDefinition=$.bind(null,e),K.aliases&&D(K.aliases,{languageName:W})}function M(W){delete t[W];for(const $ of Object.keys(n))n[$]===W&&delete n[$]}function I(){return Object.keys(t)}function B(W){return W=(W||"").toLowerCase(),t[W]||t[n[W]]}function D(W,{languageName:$}){typeof W=="string"&&(W=[W]),W.forEach(K=>{n[K.toLowerCase()]=$})}function Y(W){const $=B(W);return $&&!$.disableAutodetect}function X(W){W["before:highlightBlock"]&&!W["before:highlightElement"]&&(W["before:highlightElement"]=$=>{W["before:highlightBlock"](Object.assign({block:$.el},$))}),W["after:highlightBlock"]&&!W["after:highlightElement"]&&(W["after:highlightElement"]=$=>{W["after:highlightBlock"](Object.assign({block:$.el},$))})}function ce(W){X(W),r.push(W)}function se(W){const $=r.indexOf(W);$!==-1&&r.splice($,1)}function de(W,$){const K=W;r.forEach(function(C){C[K]&&C[K]($)})}function ze(W){return Hs("10.7.0","highlightBlock will be removed entirely in v12.0"),Hs("10.7.0","Please use highlightElement now."),p(W)}Object.assign(e,{highlight:u,highlightAuto:h,highlightAll:T,highlightElement:p,highlightBlock:ze,configure:v,initHighlighting:b,initHighlightingOnLoad:w,registerLanguage:x,unregisterLanguage:M,listLanguages:I,getLanguage:B,registerAliases:D,autoDetection:Y,inherit:Jv,addPlugin:ce,removePlugin:se}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=lz,e.regex={concat:Ms,lookahead:P5,either:F1,optional:_P,anyNumberOfTimes:SP};for(const W in Xu)typeof Xu[W]=="object"&&D5(Xu[W]);return Object.assign(e,Xu),e},$o=W5({});$o.newInstance=()=>W5({});var dz=$o;$o.HighlightJS=$o;$o.default=$o;const jr=fi(dz);var X5={exports:{}};(function(e){(function(){var t;t=e.exports=i,t.format=i,t.vsprintf=r,typeof console<"u"&&typeof console.log=="function"&&(t.printf=n);function n(){console.log(i.apply(null,arguments))}function r(a,s){return i.apply(null,[a].concat(s))}function i(a){for(var s=1,o=[].slice.call(arguments),l=0,c=a.length,u="",d,f=!1,h,g,p=!1,v,b=function(){return o[s++]},w=function(){for(var k="";/\d/.test(a[l]);)k+=a[l++],d=a[l];return k.length>0?parseInt(k):null};l<c;++l)if(d=a[l],f)switch(f=!1,d=="."?(p=!1,d=a[++l]):d=="0"&&a[l+1]=="."?(p=!0,l+=2,d=a[l]):p=!0,v=w(),d){case"b":u+=parseInt(b(),10).toString(2);break;case"c":h=b(),typeof h=="string"||h instanceof String?u+=h:u+=String.fromCharCode(parseInt(h,10));break;case"d":u+=parseInt(b(),10);break;case"f":g=String(parseFloat(b()).toFixed(v||6)),u+=p?g:g.replace(/^0/,"");break;case"j":u+=JSON.stringify(b());break;case"o":u+="0"+parseInt(b(),10).toString(8);break;case"s":u+=b();break;case"x":u+="0x"+parseInt(b(),10).toString(16);break;case"X":u+="0x"+parseInt(b(),10).toString(16).toUpperCase();break;default:u+=d;break}else d==="%"?f=!0:u+=d;return u}})()})(X5);var hz=X5.exports;const fz=fi(hz),Ed=Object.assign(Ga(Error),{eval:Ga(EvalError),range:Ga(RangeError),reference:Ga(ReferenceError),syntax:Ga(SyntaxError),type:Ga(TypeError),uri:Ga(URIError)});function Ga(e){return t.displayName=e.displayName||e.name,t;function t(n,...r){const i=n&&fz(n,...r);return new e(i)}}const mz={}.hasOwnProperty,pz="hljs-";function V5(e,t,n={}){let r=n.prefix;if(typeof e!="string")throw Ed("Expected `string` for name, got `%s`",e);if(!jr.getLanguage(e))throw Ed("Unknown language: `%s` is not registered",e);if(typeof t!="string")throw Ed("Expected `string` for value, got `%s`",t);r==null&&(r=pz),jr.configure({__emitter:xz,classPrefix:r});const i=jr.highlight(t,{language:e,ignoreIllegals:!0});if(jr.configure({}),i.errorRaised)throw i.errorRaised;return i._emitter.root.data.language=i.language,i._emitter.root.data.relevance=i.relevance,i._emitter.root}function gz(e,t={}){const n=t.subset||jr.listLanguages();t.prefix;let r=-1,i={type:"root",data:{language:null,relevance:0},children:[]};if(typeof e!="string")throw Ed("Expected `string` for value, got `%s`",e);for(;++r<n.length;){const a=n[r];if(!jr.getLanguage(a))continue;const s=V5(a,e,t);s.data.relevance>i.data.relevance&&(i=s)}return i}function yz(e,t){jr.registerLanguage(e,t)}const bz=function(e,t){if(typeof e=="string")jr.registerAliases(t,{languageName:e});else{let n;for(n in e)mz.call(e,n)&&jr.registerAliases(e[n],{languageName:n})}};function wz(e){return!!jr.getLanguage(e)}function vz(){return jr.listLanguages()}class xz{constructor(t){this.options=t,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],i=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(t){const n=t.split(".").map((a,s)=>s?a+"_".repeat(s):this.options.classPrefix+a),r=this.stack[this.stack.length-1],i={type:"element",tagName:"span",properties:{className:n},children:[]};r.children.push(i),this.stack.push(i)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const Ye={highlight:V5,highlightAuto:gz,registerLanguage:yz,registered:wz,listLanguages:vz,registerAlias:bz};Ye.registerLanguage("arduino",sL);Ye.registerLanguage("bash",oL);Ye.registerLanguage("c",lL);Ye.registerLanguage("cpp",cL);Ye.registerLanguage("csharp",uL);Ye.registerLanguage("css",yL);Ye.registerLanguage("diff",bL);Ye.registerLanguage("go",wL);Ye.registerLanguage("graphql",vL);Ye.registerLanguage("ini",xL);Ye.registerLanguage("java",kL);Ye.registerLanguage("javascript",CL);Ye.registerLanguage("json",AL);Ye.registerLanguage("kotlin",IL);Ye.registerLanguage("less",PL);Ye.registerLanguage("lua",zL);Ye.registerLanguage("makefile",FL);Ye.registerLanguage("markdown",BL);Ye.registerLanguage("objectivec",$L);Ye.registerLanguage("perl",UL);Ye.registerLanguage("php",jL);Ye.registerLanguage("php-template",qL);Ye.registerLanguage("plaintext",HL);Ye.registerLanguage("python",WL);Ye.registerLanguage("python-repl",XL);Ye.registerLanguage("r",VL);Ye.registerLanguage("ruby",YL);Ye.registerLanguage("rust",GL);Ye.registerLanguage("scss",nP);Ye.registerLanguage("shell",rP);Ye.registerLanguage("sql",iP);Ye.registerLanguage("swift",hP);Ye.registerLanguage("typescript",mP);Ye.registerLanguage("vbnet",pP);Ye.registerLanguage("wasm",gP);Ye.registerLanguage("xml",yP);Ye.registerLanguage("yaml",bP);const Os=function(e){if(e==null)return U1;if(typeof e=="string")return Sz(e);if(typeof e=="object")return kz(e);if(typeof e=="function")return Y5(e);throw new Error("Expected function, string, or array as test")};function kz(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Os(e[n]);return Y5(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].call(this,...i))return!0;return!1}}function Sz(e){return t;function t(n){return U1(n)&&n.tagName===e}}function Y5(e){return t;function t(n,...r){return U1(n)&&!!e.call(this,n,...r)}}function U1(e){return!!(e&&typeof e=="object"&&e.type==="element"&&typeof e.tagName=="string")}const t4=function(e,t,n){const r=v0(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t];return null},n4=/\n/g,r4=/[\t ]+/g,Up=Os("br"),_z=Os("p"),i4=Os(["th","td"]),a4=Os("tr"),Ez=Os(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Rz,Iz]),G5=Os(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function jp(e,t={}){const n="children"in e?e.children:[],r=G5(e),i=Z5(e,{whitespace:t.whitespace||"normal",breakBefore:!1,breakAfter:!1}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...Q5(e,{whitespace:i,breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<n.length;)a.push(...K5(n[s],e,{whitespace:i,breakBefore:s?void 0:r,breakAfter:s<n.length-1?Up(n[s+1]):r}));const o=[];let l;for(s=-1;++s<a.length;){const c=a[s];typeof c=="number"?l!==void 0&&c>l&&(l=c):c&&(l!==void 0&&l>-1&&o.push(`
`.repeat(l)||" "),l=-1,o.push(c))}return o.join("")}function K5(e,t,n){return e.type==="element"?Tz(e,t,n):e.type==="text"?n.whitespace==="normal"?Q5(e,n):Cz(e):[]}function Tz(e,t,n){const r=Z5(e,n),i=e.children||[];let a=-1,s=[];if(Ez(e))return s;let o,l;for(Up(e)||a4(e)&&t4(t,e,a4)?l=`
`:_z(e)?(o=2,l=2):G5(e)&&(o=1,l=1);++a<i.length;)s=s.concat(K5(i[a],e,{whitespace:r,breakBefore:a?void 0:o,breakAfter:a<i.length-1?Up(i[a+1]):l}));return i4(e)&&t4(t,e,i4)&&s.push("	"),o&&s.unshift(o),l&&s.push(l),s}function Q5(e,t){const n=String(e.value),r=[],i=[];let a=0;for(;a<=n.length;){n4.lastIndex=a;const l=n4.exec(n),c=l&&"index"in l?l.index:n.length;r.push(Az(n.slice(a,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?t.breakBefore:!0,c===n.length?t.breakAfter:!0)),a=c+1}let s=-1,o;for(;++s<r.length;)r[s].charCodeAt(r[s].length-1)===8203||s<r.length-1&&r[s+1].charCodeAt(0)===8203?(i.push(r[s]),o=void 0):r[s]?(typeof o=="number"&&i.push(o),i.push(r[s]),o=0):(s===0||s===r.length-1)&&i.push(0);return i}function Cz(e){return[String(e.value)]}function Az(e,t,n){const r=[];let i=0,a;for(;i<e.length;){r4.lastIndex=i;const s=r4.exec(e);a=s?s.index:e.length,!i&&!a&&s&&!t&&r.push(""),i!==a&&r.push(e.slice(i,a)),i=s?a+s[0].length:a}return i!==a&&!n&&r.push(""),r.join(" ")}function Z5(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function Rz(e){return!!(e.properties||{}).hidden}function Iz(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const Nz={}.hasOwnProperty;function jc(e={}){const{aliases:t,languages:n,prefix:r,plainText:i,ignoreMissing:a,subset:s,detect:o}=e;let l="hljs";if(t&&Ye.registerAlias(t),n){let c;for(c in n)Nz.call(n,c)&&Ye.registerLanguage(c,n[c])}if(r){const c=r.indexOf("-");l=c>-1?r.slice(0,c):r}return(c,u)=>{Fc(c,"element",(d,f,h)=>{const g=h;if(!g||!("tagName"in g)||g.tagName!=="pre"||d.tagName!=="code"||!d.properties)return;const p=Mz(d);if(p===!1||!p&&!o||p&&i&&i.includes(p))return;Array.isArray(d.properties.className)||(d.properties.className=[]),d.properties.className.includes(l)||d.properties.className.unshift(l);let v;try{v=p?Ye.highlight(p,jp(g),{prefix:r}):Ye.highlightAuto(jp(g),{prefix:r,subset:s})}catch(b){const w=b;(!a||!/Unknown language/.test(w.message))&&u.fail(w,d,"rehype-highlight:missing-language");return}!p&&v.data.language&&d.properties.className.push("language-"+v.data.language),Array.isArray(v.children)&&v.children.length>0&&(d.children=v.children)})}}function Mz(e){const t=e.properties&&e.properties.className;let n=-1;if(Array.isArray(t))for(;++n<t.length;){const r=String(t[n]);if(r==="no-highlight"||r==="nohighlight")return!1;if(r.slice(0,5)==="lang-")return r.slice(5);if(r.slice(0,9)==="language-")return r.slice(9)}}const Qo=L.h1`
  margin-block: 0;
  color: #000000e5;
  font-family: ${e=>e.theme.font.fontFamily};
  font-weight: 700;
`,s4=L(Qo)`
  margin-block: 48px;
  font-size: 48px;
  line-height: 56px;
  @media screen and (max-width: 768px) {
    margin-block: 36px;
    font-size: 36px;
    line-height: 42px;
  }
`,Oz=L(Qo)`
  margin-block: 48px;
  font-size: 36px;
  line-height: 44px;
  @media screen and (max-width: 768px) {
    margin-block: 36px;
    font-size: 27px;
    line-height: 33px;
  }
`,Dz=L(Qo)`
  margin-block: 40px;
  font-size: 28px;
  line-height: 36px;
  @media screen and (max-width: 768px) {
    margin-block: 30px;
    font-size: 21px;
    line-height: 27px;
  }
`,Lz=L(Qo)`
  margin-block: 32px;
  font-size: 24px;
  line-height: 32px;
  @media screen and (max-width: 768px) {
    margin-block: 24px;
    font-size: 18px;
    line-height: 24px;
  }
`,Pz=L(Qo)`
  margin-block: 32px;
  font-size: 20px;
  line-height: 28px;
  @media screen and (max-width: 768px) {
    margin-block: 24px;
    font-size: 15px;
    line-height: 21px;
  }
`,zz=L(Qo)`
  margin-block: 24px;
  font-size: 16px;
  line-height: 24px;
  @media screen and (max-width: 768px) {
    margin-block: 18px;
    font-size: 12px;
    line-height: 18px;
  }
`,pt=({level:e,children:t})=>{const n=String(t).split(" ").join("-");switch(e){case 1:return S.jsx(s4,{id:n,children:t});case 2:return S.jsx(Oz,{id:n,as:"h2",children:t});case 3:return S.jsx(Dz,{id:n,as:"h3",children:t});case 4:return S.jsx(Lz,{id:n,as:"h4",children:t});case 5:return S.jsx(Pz,{id:n,as:"h5",children:t});case 6:return S.jsx(zz,{id:n,as:"h6",children:t});default:return S.jsx(s4,{id:n,children:t})}},Fz=L.p`
  margin-block: 0;
  margin-block: 32px;
  color: #000000e5;
  font-family: ${e=>e.theme.font.fontFamily};
  font-weight: 400;
  font-size: 18px;
  line-height: 28px;
  @media screen and (max-width: 768px) {
    margin-block: 24px;
    font-size: 13.5px;
    line-height: 21px;
  }
`,qc=({children:e})=>S.jsx(Fz,{children:e}),Bz=L.strong`
  font-weight: ${e=>e.theme.font.fontWeightBold};
`,ci=({children:e,type:t="italic"})=>{switch(t){case"italic":return S.jsx("em",{children:e});case"bold":return S.jsx(Bz,{children:e});default:return S.jsx("em",{children:e})}},$z=L.div`
  height: 1px;
  margin-bottom: ${e=>e.theme.scale.scale04};
  background: ${e=>e.theme.color.neutral.gray08};
`,Hc=()=>S.jsx($z,{}),nm=L.ul`
  margin-block: 0;
  margin-block: 32px;
  padding-inline-start: ${e=>e.theme.scale.scale03};
  list-style-type: ${e=>e.ordered?"decimal":"disc"};
  @media screen and (max-width: 768px) {
    margin-block: 24px;
  }
`,Uz=L.li`
  margin-block: 8px;
  font-weight: 400px;
  font-size: 18px;
  line-height: 28px;
  @media screen and (max-width: 768px) {
    margin-block: 6px;
    font-size: 13.5px;
    line-height: 21px;
  }
`,ui=({ordered:e,children:t})=>{switch(e){case!1:return S.jsx(nm,{ordered:e,children:t});case!0:return S.jsx(nm,{as:"ol",ordered:e,children:t});default:return S.jsx(nm,{ordered:e,children:t})}},Wc=({children:e})=>S.jsx(Uz,{children:e}),jz=L.img`
  display: block;
  max-width: 90%;
  margin-block: 32px;
  margin-inline: auto;
  border-radius: 12px;
  @media screen and (max-width: 768px) {
    margin-block: 24px;
  }
`,Xc=({src:e,alt:t})=>S.jsx(jz,{src:e,alt:t}),qz=L.blockquote`
  margin-inline: 0;
  margin-block: 0;
  margin-block: 32px;
  padding-left: 12px;
  border-left: 4px solid #c8c8c8;
`,Vc=({children:e})=>S.jsx(qz,{children:e}),Hz=L.main`
  padding: 64px;
`,Wz=`
  # Header 1
  ## Header 2
  ### Header 3
  #### Header 4
  ##### Header 5
  ###### Header 6


  This text is *italic* _italic_.

  This text is **bold** __bold__.

  This text is ***mix*** ___mix___.
  
  This text is ~~mix~~ ~~mix~~.

  - - -

  This is a unordered list

  - list 1
  - list 2
  - list 3

  This is a ordered list

  1. list 1
  2. list 2
  3. list 3

  > This is a zone

  This is a javascripe code block: \`const hello = 'Hello Word'\`

  ~~~ ts
  let num: number = 1
  console.log(num)
  ~~~

`,Xz=()=>S.jsx(Hz,{children:S.jsx(Ko,{children:Wz,remarkPlugins:[Uc],rehypePlugins:[jc],components:{h1:({level:e,children:t})=>S.jsx(pt,{level:e,children:t}),h2:({level:e,children:t})=>S.jsx(pt,{level:e,children:t}),h3:({level:e,children:t})=>S.jsx(pt,{level:e,children:t}),h4:({level:e,children:t})=>S.jsx(pt,{level:e,children:t}),h5:({level:e,children:t})=>S.jsx(pt,{level:e,children:t}),h6:({level:e,children:t})=>S.jsx(pt,{level:e,children:t}),p:({children:e})=>S.jsx(qc,{children:e}),em:({children:e})=>S.jsx(ci,{children:e}),strong:({children:e})=>S.jsx(ci,{type:"bold",children:e}),hr:()=>S.jsx(Hc,{}),ul:({depth:e,ordered:t,className:n,children:r})=>S.jsx(ui,{depth:e,ordered:t,className:n,children:r}),ol:({depth:e,ordered:t,className:n,children:r})=>S.jsx(ui,{depth:e,ordered:t,className:n,children:r}),li:({children:e})=>S.jsx(Wc,{children:e}),img:({src:e,alt:t})=>S.jsx(Xc,{src:e,alt:t}),blockquote:({children:e})=>S.jsx(Vc,{children:e})}})}),Vz=`# Install\r
\r
Read the [quick start](https://github.com/xline-kv/Xline/blob/master/doc/QUICK_START.md) for more information about how to start an xline cluster.\r
`,Yz=`# Xline API\r
\r
The current version of Xline implements some etcd-compatible APIs, such as KV API, Auth API, Watch API and so on. In the next release, we will further implement the remaining etcd APIs ( v0.3 ~ v0.5 ) such as Maintenance, Lease, and provide a client in different languages ( v0.6 ~ v0.8 ). Read the [roadmap](https://github.com/datenlord/Xline#roadmap) for more details.\r
\r
Since Xline is fully compatible with etcd interfaces, you can use etcdctl to interact with Xline cluster in the current version. etcdctl can be used as described in the documentation. For more information, please refer to the [documentation](https://github.com/etcd-io/etcd/tree/main/etcdctl) on how to use etcdctl. Read the etcd-compatible API validation test report for more details.`,Gz=`Xline is a high-performance distributed key-value storage engine for multi-cluster. It can provide unified data management for multi-cluster scenarios, making mutual access, discovery, and modification simple and convenient. It also provides KV interface, Multi-Version Concurrency Control and is compatible with etcd and K8S.\r
\r
Xline is the first geo-distributed consistency management service based on CURP(a WAN consensus protocol, read the paper for more details). It addresses the challenges of convergence and consistency across clouds.\r
\r
# Architecture\r
\r
**An Xline instance consists of the following layers:**\r
\r
- Client Layer: Provides a simple and easy-to-use API for clients to use, which can greatly reduce the complexity of using Xline for business. Xline clients in different languages will be implemented in the later release, and currently etcdctl can be used to initiate requests because Xline APIs are compatible with etcd.\r
- Access Layer: The access layer mainly includes the communication protocol between client to server or server to server. Xline API is based on gRPC protocol.\r
- CURP Protocol Layer: The CURP protocol layer implements the core algorithm features, such as leader election, log replication, fast-path and slow-path, which are used to ensure data consistency among Xline multi-node and improve service availability. CURP protocol is the cornerstone and highlight of Xline.\r
- Functional Logic Layer: This layer implements Xline business logic, including the typical KV Server, Auth Server, Lease Server and Watch Server, etc. Client sends requests to Xline Server through the access layer, and Xline Server dispatches the requests to specific servers for execution.\r
- Storage Layer: This layer contains two components, Index and DB, where Index is based on BTreeMap while DB is mainly responsible for persistent storage of data. At present, Xline is still in the early stage of development, so DB is mainly implemented based on memory. We will introduce persistent storage in the next release.\r
\r
![image](/xline-home/docs/Get-Started/image1.png)\r
\r
For more information about the Architecture of Xline, read [Xline Architecture Details](/xline-home/#/docs/Xline-Architecture-Details).\r
\r
# Xline In 5 Minutes\r
\r
1. Download binary from [release](https://github.com/datenlord/Xline/releases) page.\r
2. Use the following command to start cluster:\r
\r
\`\`\`bash\r
xline  --name node1 --members node1=172.20.0.3:2380,172.20.0.3:2381,node2=172.20.0.4:2380,172.20.0.4:2381,node3=172.20.0.5:2380,172.20.0.5:2381     --storage-engine rocksdb  --data-dir /usr/local/xline/data-dir  --client-listen-urls=http://172.20.0.3:2379  --peer-listen-urls=http://172.20.0.3:2380,http://172.20.0.3:2381  --client-advertise-urls=http://172.20.0.3:2379 --peer-advertise-urls=http://172.20.0.3:2380,http://172.20.0.3:2381\r
\r
xline  --name node2 --members node1=172.20.0.3:2380,172.20.0.3:2381,node2=172.20.0.4:2380,172.20.0.4:2381,node3=172.20.0.5:2380,172.20.0.5:2381     --storage-engine rocksdb  --data-dir /usr/local/xline/data-dir  --client-listen-urls=http://172.20.0.3:2379  --peer-listen-urls=http://172.20.0.3:2380,http://172.20.0.3:2381  --client-advertise-urls=http://172.20.0.3:2379 --peer-advertise-urls=http://172.20.0.3:2380,http://172.20.0.3:2381\r
\r
xline  --name node3 --members node1=172.20.0.3:2380,172.20.0.3:2381,node2=172.20.0.4:2380,172.20.0.4:2381,node3=172.20.0.5:2380,172.20.0.5:2381     --storage-engine rocksdb  --data-dir /usr/local/xline/data-dir  --client-listen-urls=http://172.20.0.3:2379  --peer-listen-urls=http://172.20.0.3:2380,http://172.20.0.3:2381  --client-advertise-urls=http://172.20.0.3:2379 --peer-advertise-urls=http://172.20.0.3:2380,http://172.20.0.3:2381\r
\`\`\`\r
\r
3. Download or build etcdctl from [etcd](https://github.com/etcd-io/etcd) project.\r
4. Use etcdctl to operate the cluster:\r
\r
\`\`\`bash\r
$ etcdctl --endpoints=http://127.0.0.1:2379 put foo bar\r
$ etcdctl --endpoints=http://127.0.0.1:2379 get foo\r
\`\`\`\r
`,Kz=`# Performance Comparison\r
\r
We compare Xline with ETCD in a simulated multi-cluster environment. The details of the deployment are shown below.\r
\r
![image](/xline-home/docs/Deploy/image1.png)\r
\r
We compare the performance with two different workloads. One is 1 key case, the other is 100k key space case. Here is the test result.\r
\r
![image](/xline-home/docs/Deploy/xline-key-perf.png)`,Qz=`# v0.1.0\r
\r
#### What is it?\r
\r
\`Xline\` is a geo-distributed KV store for metadata management, which is based on the \`Curp\` protocol.\r
\r
#### Why make it?\r
\r
Existing distributed KV stores mostly adopt the \`Raft\` consensus protocol, which takes two RTTs to complete a request. When deployed in a single data center, the latency between nodes is low, so it will not have a big impact on performance. However, when deployed across data centers, the latency between nodes may be tens or hundreds of milliseconds, at which point the \`Raft\` protocol will become a performance bottleneck. The \`Curp\` protocol is designed to solve this problem. It can reduce one RTT when commands do not conflict, thus improving performance.\r
\r
#### What does it provide?\r
\r
- Etcd Compatible API\r
  - \`Kv\` service\r
  - \`Watch\` service\r
  - \`Auth\` service\r
- basic implementation of the \`Curp\` protocol\r
- basic \`Xline\` client (use \`Curp\` directly)\r
- benchmark tool\r
\r
#### Usage\r
\r
[Usage doc](https://github.com/datenlord/Xline/blob/v0.1.0/USAGE.md)\r
\r
#### Note\r
\r
In this release, we only provide binary files for X86_64 linux. Other platforms need to be compiled by yourself. we will add more support in the future.\r
\r
#### Links\r
\r
GitHub: https://github.com/datenlord/Xline  \r
Paper of Curp: https://www.usenix.org/system/files/nsdi19-park.pdf\r
\r
# v0.2.0\r
\r
#### Features:\r
\r
- Enable Xline to boot up from the config file xline_server.conf ([#145](https://github.com/datenlord/Xline/pull/145))\r
- Support ETCD APIs, like the lease API and the lock API ([#142](https://github.com/datenlord/Xline/pull/145), [#153](https://github.com/datenlord/Xline/pull/145))\r
- Enable the recovery mechanism in the CURP module ([#146](https://github.com/datenlord/Xline/pull/145))\r
- Add ETCD APIs compatibility test (test report: (report)[./VALIDATION_REPORT.md])\r
\r
#### Fix Bugs\r
\r
- Fix panic in the benchmark ([#123](https://github.com/datenlord/Xline/pull/123))\r
- Fix the issue that modifies kv pairs will fail after watching them in etcdctl ([#148](https://github.com/datenlord/Xline/pull/123))\r
\r
# v0.3.0\r
\r
#### Features:\r
\r
Implement a persistent storage layer to enable durability, including:\r
Implement a storage engine layer to abstract the concrete storage engine, like rocksdb,\r
and enable upper layer storage function ([#185](https://github.com/datenlord/Xline/pull/185), [#187](https://github.com/datenlord/Xline/pull/187))\r
Enable recover logic for curp and xline ([#194](https://github.com/datenlord/Xline/pull/194), [#184](https://github.com/datenlord/Xline/pull/194))\r
\r
#### Fix Bugs:\r
\r
Fix concurrent cmd order bug ([#197](https://github.com/datenlord/Xline/issues/197))\r
\r
# v0.4.0\r
\r
#### Features\r
\r
1. Introduce batching mechanism to improve network bandwidth utilization\r
2. Implement the snapshot feature for CURP consensus protocol,\r
3. Implement the snapshot relevant APIwhich is compatible with etcdctl. The rest of other APIs in etcdctl maintenance will be implemented in the future.\r
\r
#### Fix Bugs\r
\r
1. Fix a bug that commands will execute out of order in some concurrent cases (issue [#197](https://github.com/datenlord/Xline/issues/197)), resolve in the pr [#195](https://github.com/datenlord/Xline/issues/195)\r
2. Fix a bug that the gc task will panic during benchmark(issue [#206](https://github.com/datenlord/Xline/issues/206)), resolve in the pr [#210](https://github.com/datenlord/Xline/issues/210)\r
3. Fix a bug that the lock feature will work abnormally in some cases(issue [#209](https://github.com/datenlord/Xline/issues/209)), resolve in the pr [#212](https://github.com/datenlord/Xline/issues/212)\r
4. Fix a bug that some concurrent put requests will get wrong revisions (issue [#209](https://github.com/datenlord/Xline/issues/212)), resolve in the pr [#238](https://github.com/datenlord/Xline/issues/238)\r
\r
#### Benchmark:\r
\r
Since we implemented the persistence feature for xline in v0.3.0, we have re-benchmarked xline in this release. The benchmark report can be viewed in the Performance Comparison section in our README file.\r
\r
# v0.4.1\r
\r
#### Features\r
\r
- Watch Progress Notify [#309](https://github.com/datenlord/Xline/issues/309)\r
\r
#### Refactors\r
\r
- Sharing state between CurpServer and CurpClient [#299](https://github.com/datenlord/Xline/issues/299)\r
- Refactor the XlineServer [#293](https://github.com/datenlord/Xline/issues/293)\r
- Refactor curp fast read implementation [#270](https://github.com/datenlord/Xline/issues/270)\r
- Improve the read and write logic for the RocksSnapshot [#263](https://github.com/datenlord/Xline/issues/263)\r
- Refactor the watch server implementation [#253](https://github.com/datenlord/Xline/issues/253)\r
- Refactor the dependencies of lease server [#251](https://github.com/datenlord/Xline/issues/251)\r
\r
#### Fix Bugs\r
\r
- Test_kv_authorization block [#291](https://github.com/datenlord/Xline/issues/291)\r
- The background command workers will panic in the integration test "recovery_after_compaction" [#285](https://github.com/datenlord/Xline/issues/285)\r
- Handle_propose in raw_cup will panic when try notify events [#280](https://github.com/datenlord/Xline/issues/280)\r
- Watch prev_kv [#277](https://github.com/datenlord/Xline/issues/277)\r
\r
# v0.5.0\r
\r
#### Features\r
\r
- [Feature]: Implemented the Compact feature, which includes the following two aspects (Read issue [#188](https://github.com/xline-kv/Xline/issues/188) for more details about compaction design):\r
  - Implemented historical version compaction feature. The compaction API is compatible with the etcd interface. Resolved in pr [#311](https://github.com/xline-kv/Xline/pull/311)\r
  - Implemented an automatic compaction mode, supporting both periodic Strategy and Revision Strategy. It is not enabled by default. Resolved in pr [#401](https://github.com/xline-kv/Xline/pull/401)\r
- [Feature]: Implement a Rust SDK for the Xline client (xline-client crate) to fully leverage the performance of CURP protocol. Currently, the SDK covers functionalities:\r
  - Watch: Implemented in pr #[321](https://github.com/xline-kv/Xline/pull/321)\r
  - Kv: Implemented in pr #[318](https://github.com/xline-kv/Xline/pull/318)\r
  - Maintenance: Implemented in pr #[323](https://github.com/xline-kv/Xline/pull/323)\r
  - Auth: Implemented in pr #[320](https://github.com/xline-kv/Xline/pull/320)\r
  - Lease: Implemented in pr #[319](https://github.com/xline-kv/Xline/pull/319)\r
  - Lock: Implemented in pr #[322](https://github.com/xline-kv/Xline/pull/322)\r
  - Compaction: Implemented in pr #[389](https://github.com/xline-kv/Xline/pull/389)\r
- [Feature]: Implement a command line tool for Xline, which is named xlinectl. Resolved in pr #[348](https://github.com/xline-kv/Xline/pull/348)\r
- [Feature]: Support single node cluster #[335](https://github.com/xline-kv/Xline/issues/335)\r
- [Feature]: Support multiplatform for Xline. Read #[doc](https://github.com/xline-kv/Xline/tree/master/doc/quick-start) for more details.\r
- [Feature]: Support dns resolution for Xline cluster #[351](https://github.com/xline-kv/Xline/issues/351)\r
- [Feature]: Support grpc health checking protocol, resolved in pr #[385](https://github.com/xline-kv/Xline/pull/385)\r
- [Feature]: Add madsim simulation in Curp tests #[282](https://github.com/xline-kv/Xline/issues/282)\r
\r
#### Fix Bugs\r
\r
- [Bug]: Madsim Curp integration tests sometimes fail #[361](https://github.com/xline-kv/Xline/issues/361)\r
- [Bug]: lease may not synced in lease server #[343](https://github.com/xline-kv/Xline/issues/343)\r
- [Bug]: EventListener will lose event since it's not cancellation safe. #[339](https://github.com/xline-kv/Xline/issues/339)\r
- [Bug]: Resolve failing tests related to serialized size. #[259](https://github.com/xline-kv/Xline/issues/259)\r
\r
#### Contributors\r
\r
We'd like to thank all the contributors who worked on this release!\r
\r
[@liubog2008](https://github.com/liubog2008)\r
\r
# v0.6.0\r
\r
#### New Features\r
\r
- [Feature]: Add membership change mechanism for CUPR consensus Protocol (Read design doc [#306](https://github.com/xline-kv/Xline/issues/306) for more details)\r
- [Feature]: Implement cluster server and client [#464](https://github.com/xline-kv/Xline/pull/464), [#465](https://github.com/xline-kv/Xline/pull/465)\r
- [Feature]: Implement the graceful shutdown feature.\r
- [Feature]: Implement the xlinctl to communicate with the xline cluster. Currently, the xlinectl covers functionalities:\r
  - Compaction and member command: Implemented in pr [#484](https://github.com/xline-kv/Xline/pull/484)\r
  - Txn, watch and lock command: Implemented in pr [#428](https://github.com/xline-kv/Xline/pull/484)\r
  - Role command: Implemented in pr [#427](https://github.com/xline-kv/Xline/pull/427)\r
  - User command: Implemented in pr [#426](https://github.com/xline-kv/Xline/pull/426)\r
  - Snapshot and auth command: Implemented in pr [#425](https://github.com/xline-kv/Xline/pull/425)\r
  - Delete and lease command: Implemented in pr [#424](https://github.com/xline-kv/Xline/pull/424)\r
\r
#### Bug Fixes\r
\r
- [Bug]: benchmark client cannot connect to server [#462](https://github.com/xline-kv/Xline/pull/462)\r
- [Bug]: remove stop in simulation tests [#458](https://github.com/xline-kv/Xline/pull/458)\r
- [Bug]: execute out of order [#454](https://github.com/xline-kv/Xline/pull/454)\r
- [Bug]: check the password on leader [#435](https://github.com/xline-kv/Xline/pull/435)\r
- [Bug]: remove recovery of uncommitted pool [#419](https://github.com/xline-kv/Xline/pull/419)\r
- [Bug]: CURP TLA+ quorum size calculation & property check [#418](https://github.com/xline-kv/Xline/pull/418)\r
- [Bug]: fix propose doesn't handle SyncedError [#407](https://github.com/xline-kv/Xline/pull/407)\r
\r
#### Refactor\r
\r
- [Refactor]: reduce code duplication [#407](https://github.com/xline-kv/Xline/pull/407)\r
- [Refactor]: Take into account the interleaving states of a request broadcast in TLA+ [#429](https://github.com/xline-kv/Xline/pull/429)\r
- [Refactor]: Refine the bench client implementation [#496](https://github.com/xline-kv/Xline/pull/496)\r
- [Refactor]: Simplified the error handling logic [#480](https://github.com/xline-kv/Xline/pull/480)\r
- [Refactor]: Improve readability of bootstrap errors [#432](https://github.com/xline-kv/Xline/pull/432)\r
- [Refactor]: Imporve command serialization in execution and after-sync [#421](https://github.com/xline-kv/Xline/pull/421), [#422](https://github.com/xline-kv/Xline/pull/422)\r
\r
#### Contributors\r
\r
- [@EAimTY](https://github.com/EAimTY)\r
- [@MarkGaox](https://github.com/MarkGaox)\r
- [@Kikkon](https://github.com/Kikkon)\r
\r
Note  \r
Known issue: If the cluster is shut down immediately after adding a member, the leader node may not shut down properly, continuously trying to send entries to the shut-down new node. Read issue [#526](https://github.com/xline-kv/Xline/issues/526) for more details.\r
\r
# v0.6.1\r
\r
#### Bug Fixes\r
\r
- [Bug]: Fixed a bug causing panic during the update node process. [issue #531](https://github.com/xline-kv/Xline/issues/531)\r
- [Bug]: Fixed a bug causing panic during the CI process due to reading state. [issue #527](https://github.com/xline-kv/Xline/issues/527)\r
- [Bug]: Fixed a bug in the previous version where immediately shutting down the cluster after executing "member add" would cause the leader to fail to shut down properly. [issue #526](https://github.com/xline-kv/Xline/issues/526)\r
- [Bug]: Fixed an issue in TXN where the conflict detection process would ignore the key of child requests. [issue #470](https://github.com/xline-kv/Xline/issues/470)\r
- [Bug]: Fixed a panic issue in watch caused by closing the channel. [issue #370](https://github.com/xline-kv/Xline/issues/370)\r
  - pr 576: [fix: fix ce event tx logs](https://github.com/xline-kv/Xline/pull/576)\r
  - pr 556: [[Fix]: kv update channel panic](https://github.com/xline-kv/Xline/pull/556)\r
- [Bug]: Changed the calculation method for the cluster version to a hash to avoid misjudgments. [pr #590](https://github.com/xline-kv/Xline/pull/590)\r
- [Bug]: Fixed a bug that caused the compact operation to behave abnormally in specific scenarios. [pr #570](https://github.com/xline-kv/Xline/pull/570)\r
\r
#### Refactor\r
\r
- [Refactor]: Refactored the implementation of the Curp client, reducing code complexity. \r
  - pr 582: [Refactor/curp client tests suits](https://github.com/xline-kv/Xline/pull/582)\r
  - pr 584: [Refactor/curp client retry](https://github.com/xline-kv/Xline/pull/584)\r
  - pr 585: [Refactor/replace curp client](https://github.com/xline-kv/Xline/pull/585)\r
- [Refactor]: Removed some command-related data structures from xline and xline-client. [pr #469](https://github.com/xline-kv/Xline/pull/469)\r
# v0.7.0\r
#### New Features\r
- [Feature]CURP WAL (Write-Ahead-Log) implementationWe designed a Write-Ahead-Log to persist log entries for curp.\r
- [Feature]DeduplicationImplements command deduplication using the exactly-once semantics from the [RIFL](https://web.stanford.edu/~ouster/cgi-bin/papers/rifl.pdf) paper.\r
- [Feature]: Snapshot Restore [#630](https://github.com/xline-kv/Xline/issues/630)\r
- [Feature]: Interface of maintenance server [#543](https://github.com/xline-kv/Xline/issues/543)\r
- [Feature]: Support run with tls [#328](https://github.com/xline-kv/Xline/issues/328)\r
####  Refactor\r
- [Refactor]: Add a session structure to renew lock lease automatically [#684](https://github.com/xline-kv/Xline/issues/684)\r
- [Refactor]: startup process [#629](https://github.com/xline-kv/Xline/issues/629)\r
- [Refactor]: Refactor the GC of speculative pool [#439](https://github.com/xline-kv/Xline/issues/439)\r
- [Refactor]:New command execution logic: We removed the cmd workers and related command execution logic. Now Xline will use serial execution (with batch) to prevent lock contention.\r
- [Refactor]: Garbage Collection: We refactored the garbage collection logic based on the dedup implementation.\r
- [Refactor]:Client Propose Optimization: We refactored the curp client to use gRPC stream to send a propose to the cluster. This reduces the load of the gRPC server and improves the overall performance.\r
- [Refactor]: Conflict Detection: We removed the conflict checked mpmc. Now Xline will use the conflict pools (speculative pool and uncommitted pool) to detect command conflicts.\r
- [Refactor]: Read Index: We implemented the Read Index mechanism from the Raft paper for read-only commands. Replacing the previous Read State implementation.\r
- [Refactor]: xline-client Refactor: We switched to a more intuitive user interface for the xline-client crate.\r
- [Refactor]: Various performance optimizations\r
#### Bug Fixes\r
- [Bug]: Implement ReadIndex [#870](https://github.com/xline-kv/Xline/issues/870)\r
- [etcdapi] [Bug]: Repeated revision [#848](https://github.com/xline-kv/Xline/issues/848)\r
- [Bug]: The test case curp::it server::shutdown_rpc_should_shutdown_the_cluster failed [#774](https://github.com/xline-kv/Xline/issues/774)\r
- [Bug]: Xline will loss event when using watch feature [#677](https://github.com/xline-kv/Xline/issues/677)\r
- [Bug]: The xlinectl won't renew the lease of the lock key [#664](https://github.com/xline-kv/Xline/issues/664)\r
- [Bug]: Failed to add a new member node4 to a three-nodes xline cluster [#661](https://github.com/xline-kv/Xline/issues/661)\r
- [Refactor]: read-only command during revision generation [#502](https://github.com/xline-kv/Xline/issues/502)\r
- [Bug]: Read different values in execute during read state [#501](https://github.com/xline-kv/Xline/issues/501)\r
- [Bug]: sync txn request does not execute in the order of child request [#498](https://github.com/xline-kv/Xline/issues/498)\r
- [Bug]: Read State [#497](https://github.com/xline-kv/Xline/issues/497)\r
- [Bug]: revision generation [#491](https://github.com/xline-kv/Xline/issues/491), [#848](https://github.com/xline-kv/Xline/issues/848)\r
- [Bug]: requests in a single txn do not execute in sequence [#471](https://github.com/xline-kv/Xline/issues/471)\r
- [Bug]: batch_index in raw_curp will overflow eventually [#368](https://github.com/xline-kv/Xline/issues/368)\r
- [Bug]: Fix GC may break the CURP durability [#159]https://github.com/xline-kv/Xline/issues/159\r
#### Known Issues\r
- During benchmark if the cluster is under high load, the cluster may sometimes not be able to make progress due to deduplication mechanism.\r
#### Breaking Changes\r
- etcd compative APIs will now use 2-RTTs operations to prevent revision generation issues.\r
#### Contributors\r
We'd like to thank all the contributors who worked on this release!\r
\r
\r
- [@themanforfree](https://github.com/themanforfree)\r
- [@iGxnon](https://github.com/iGxnon)\r
- [@Phoenix500526](https://github.com/Phoenix500526)\r
- [@bsbds](https://github.com/bsbds)`,Zz=`# Xline Architecture Details\r
\r
![image](/xline-home/docs/Xline-Architecture-Details/image1.jpg)`,Jz="/xline-home/assets/dropdown-close-33769f96.svg",eF="/xline-home/assets/dropdown-active-f580a9ed.svg",tF=L.div`
  height: 10px;
  width: 10px;
  margin-inline: 8px;
  border-radius: 50%;
  background: ${e=>e.theme.color.neutral.gray05};
`,J5=L.li`
  display: flex;
  align-items: center;
  margin-bottom: ${e=>e.theme.scale.scale03};
`,nF=L(J5)`
  display: ${e=>e.isActive?"flex":"none"};
  padding-left: 14px;
`,rF=L.div`
  display: inline-block;
  padding-inline: 8px;
  height: 100%;
`,o4=L.img`
  width: 12px;
  height: 12px;
`,ek=L.p`
  color: ${e=>e.theme.color.neutral.gray10};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: 16px;
  line-height: 18px;
  cursor: pointer;
`,iF=L(ek)`
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  cursor: pointer;
`,tk=({item:e})=>S.jsx("ul",{children:e.map(t=>S.jsx(aF,{items:t},t.title))}),aF=({items:e})=>{const[t,n]=Q.useState(!1);return S.jsxs(S.Fragment,{children:[S.jsxs(J5,{onClick:()=>n(!t),children:[S.jsx(rF,{children:t?S.jsx(o4,{src:eF}):S.jsx(o4,{src:Jz})}),S.jsx(ek,{children:e.title})]}),S.jsx("ul",{children:S.jsx(sF,{items:e.children,isActive:t})})]})},sF=({items:e,isActive:t})=>{const n=Qi();return S.jsx(S.Fragment,{children:e.map(r=>S.jsxs(nF,{isActive:t,children:[S.jsx(tF,{}),S.jsx(iF,{onClick:()=>{n(r.url),setTimeout(()=>{const i=document.getElementById(r.id||"");console.log(i),i==null||i.scrollIntoView({behavior:"smooth"})},100)},children:r.title})]},r.id))})},oF=Object.assign({"/src/docs/Deploy.md":Vz,"/src/docs/Develop.md":Yz,"/src/docs/Get-Started.md":Gz,"/src/docs/Performance-Comparison.md":Kz,"/src/docs/What's-New.md":Qz,"/src/docs/Xline-Architecture-Details.md":Zz}),lF=L.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: calc(86px + 416px);
  padding-top: 86px;
  background: #0a0c28;
  @media screen and (max-width: 1024px) {
    height: calc(63px + 312px);
    padding-top: 64.5px;
  }
  @media screen and (max-width: 768px) {
    height: calc(53px + 208px);
    padding-top: 43px;
  }
`,cF=L.h1`
  position: relative;
  display: inline-block;
  padding-inline: 32px;
  color: white;
  font-weight: 700;
  font-size: 72px;
  line-height: 80.64px;
  /* text-transform: capitalize; */
  line-height: 1.1;
  transform: translateY(-10%);
  @media screen and (max-width: 1024px) {
    padding-inline: 24px;
    font-size: 54px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 16px;
    font-size: 36px;
  }
`,uF=L.img`
  z-index: -1;
  position: absolute;
  left: 50%;
  bottom: -17px;
  transform: translateX(-45%);
  width: 295.01px;
  height: 35.35px;
  @media screen and (max-width: 1024px) {
    bottom: -12px;
    width: 222px;
    height: 27px;
  }
  @media screen and (max-width: 768px) {
    bottom: -8px;
    width: 148px;
    height: 18px;
  }
`,dF=L.main`
  display: flex;
  margin-inline: auto;
  padding-block: ${e=>e.theme.scale.scale05};
  padding-inline: ${e=>e.theme.scale.scale07};
  max-width: ${e=>e.theme.scale.scale12};
  // - - -
  /* height: 200px;
  background-color: lightcoral; */
  @media screen and (max-width: 1024px) {
    padding-block: 36px;
    padding-inline: 96px;
  }
  @media screen and (max-width: 768px) {
    padding-block: 24px;
    padding-inline: 64px;
  }
`,hF=L.div`
  width: 75%;
  /* flex: 1; */

  // - - -
  /* min-height: 100px;
  background-color: lightcyan; */
  @media screen and (max-width: 1024px) {
    width: 100%;
  }
`,fF=L.div`
  flex-shrink: 0;
  width: 25%;
  margin-right: ${e=>e.theme.scale.scale05};
  // - - -
  /* height: 100px;
  background-color: lightblue; */
  @media screen and (max-width: 1024px) {
    display: none;
  }
`,mF=L.p`
  margin-bottom: ${e=>e.theme.scale.scale06};
  color: ${e=>e.theme.color.neutral.gray07};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize5};
  line-height: ${e=>e.theme.font.lineHeight5};
`,pF=()=>{const{params:e}=m1();return Q.useEffect(()=>{e==="Xline-Architecture-Details"&&window.scrollTo(0,0)},[e]),S.jsxs(S.Fragment,{children:[S.jsx(lF,{children:S.jsxs(cF,{children:[e==null?void 0:e.split("-").join(" "),S.jsx(uF,{src:Zi,alt:"underline"})]})}),S.jsxs(dF,{children:[S.jsxs(fF,{children:[S.jsx(mF,{children:"Docs"}),S.jsx(tk,{item:h6})]}),S.jsx(hF,{children:S.jsx(Ko,{children:oF[`/src/docs/${e}.md`],remarkPlugins:[Uc],rehypePlugins:[jc],components:{h1:({level:t,children:n})=>S.jsx(pt,{level:t,children:n}),h2:({level:t,children:n})=>S.jsx(pt,{level:t,children:n}),h3:({level:t,children:n})=>S.jsx(pt,{level:t,children:n}),h4:({level:t,children:n})=>S.jsx(pt,{level:t,children:n}),h5:({level:t,children:n})=>S.jsx(pt,{level:t,children:n}),h6:({level:t,children:n})=>S.jsx(pt,{level:t,children:n}),p:({children:t})=>S.jsx(qc,{children:t}),em:({children:t})=>S.jsx(ci,{children:t}),strong:({children:t})=>S.jsx(ci,{type:"bold",children:t}),hr:()=>S.jsx(Hc,{}),ul:({depth:t,ordered:n,className:r,children:i})=>S.jsx(ui,{depth:t,ordered:n,className:r,children:i}),ol:({depth:t,ordered:n,className:r,children:i})=>S.jsx(ui,{depth:t,ordered:n,className:r,children:i}),li:({children:t})=>S.jsx(Wc,{children:t}),img:({src:t,alt:n})=>S.jsx(Xc,{src:t,alt:n}),blockquote:({children:t})=>S.jsx(Vc,{children:t})}})})]})]})},gF=`# Basic Concept\r
\r
## CAP Theorem and PACELC theorem\r
\r
In theoretical computer science, the CAP theorem, also named Brewer's theorem after computer scientist Eric Brewer, states that any distributed data store can provide only two of the following three guarantees:\r
\r
- Consistency: Every read receives the most recent write or an error.\r
- Availability Every Request receives a (non-error) response, without the guarantee that it contains the most recent write.\r
- Partition tolerance: The system continues to operate despite an arbitrary number of messages being dropped (or delayed) by the network between nodes.\r
\r
To deal with a [network partition](https://en.wikipedia.org/wiki/Network_partition) failure, one of the following options must be chosen:\r
\r
- cancel the operation and thus decrease the availability but ensure consistency.\r
- proceed with the operation and thus provide availability but risk inconsistency.\r
\r
Thus, if there is a network partition, one has to choose between consistency or availability. Note that consistency as defined in the CAP theorem is quite different from the consistency guaranteed in [ACID database transactions](https://en.wikipedia.org/wiki/ACID).\r
\r
Eric Brewer argues that the often-used "two out of three" concept can be somewhat misleading because system designers need only to sacrifice consistency or availability in the presence of partitions, but that in many systems partitions are rare. The **PACELC theorem** is an extension to the CAP theorem. It states that in case of network partitioning (P) in a distributed computer system, one has to choose between availability (A) and consistency (C) (as per the CAP theorem), but else (E), even when the system is running normally in the absence of partitions, one has to choose between latency (L) and consistency (C).\r
\r
Read the following docs for more information:\r
\r
1. CAP Theorem\r
   - Paper: [Brewer's Conjecture and the Feasibility of Consistent Available Partition-Tolerant Web Services](https://users.ece.cmu.edu/~adrian/731-sp04/readings/GL-cap.pdf)\r
   - Blog: [An Illustrated Proof of the CAP Theorem](https://mwhittaker.github.io/blog/an_illustrated_proof_of_the_cap_theorem/)\r
2. PACELC Theorem(Paper): [Consistency Tradeoffs in Modern Distributed Database System Design](https://www.cs.umd.edu/~abadi/papers/abadi-pacelc.pdf)\r
\r
## FLP Impossibility\r
\r
The paper "[Impossibility of Distributed Consensus with One Faulty Process](https://groups.csail.mit.edu/tds/papers/Lynch/jacm85.pdf)", published by Fischer, Lynch and Patterson in April 1985, proposed the "FLP Impossibility", specifying an upper bound on what is possible using distributed processes in an asynchronous environment. The consensus problem is solvable in a synchronous environment where processes can proceed simultaneously. The synchronous model allows detecting faults by waiting the entire length of a step for a process to reply, and assuming it has crashed if no reply is received.\r
\r
Mechanisms that determine whether a failure has occurred based on how long a reply has been received do not work in a fully asynchronous message-passing distributed system. This is because in an asynchronous environment, there is no upper limit to how long a process can reply to a message after completing its work. Thus, it is impossible to tell whether a process has crashed or has taken a long time to respond. The FLP impossibility shows that in a completely asynchronous system, even if only one node fails, there is no algorithm that can bring the system to consensus. This impossibility comes from the worst-case scheduling scenario, which is unlikely to happen in practice except in adversarial situations, such as an intelligent denial-of-service attacker in the network. In most normal cases, process scheduling has a degree of natural randomness.\r
\r
A randomized consensus algorithm can circumvent the FLP Impossibility, achieving security and effectiveness with overwhelming probability, even in the worst case scheduling scenario, such as an intelligent denial-of-service attacker in the network.\r
\r
# Consensus Protocol\r
\r
## Paxos\r
\r
Paxos is a consensus algorithm proposed by Leslie Lamport in 1989. The initial paper was "[The Part-Time Parliament](http://lamport.azurewebsites.net/pubs/pubs.html#lamport-paxos)", but it was not published. Lamport wrote [Paxos Made Simple](https://lamport.azurewebsites.net/pubs/paxos-simple.pdf) in 2001 and formally proposed the algorithm.\r
\r
Paxos uses proposals to drive the entire algorithm, so that the system resolves to the same proposal. Each node continuously proposes a proposal through messaging, and each proposal includes a proposal number and a proposal value. Paxos considers that if more than half of the nodes in the cluster unanimously accept the proposal, a consensus on the proposal is reached and the proposal is said to be **chosen**.\r
\r
Paxos divides the system into the following roles:\r
\r
- Client: The client sends a request to the distributed system and waits for a response.\r
- Proposer: When the proposer receives a request from the client, it makes a relevant proposal, tries to get the receiver to accept the proposal, and coordinates in case of conflict to drive the algorithm to run.\r
- Acceptor: also called voter, votes to accept or reject the proposer's proposal, and if more than half of the receivers accept the proposal, the proposal is chosen.\r
- Learners: Learners can only learn the chosen proposal and do not participate in the proposal voting. Once the client's request is unified by the acceptors, the learner can execute the requested operation in the proposal and initiate a response to the client. To improve system availability, multiple learners can be added.\r
\r
Paxos represents a family of protocols, including:\r
\r
- Basic Paxos: The basic protocol, allowing consensus about a single value.\r
- Multi Paxos: Allow the protocol to handle a stream of messages with less overhead than Basic Paxos.\r
- [Cheap Paxos](https://lamport.azurewebsites.net/pubs/web-dsn-submission.pdf): Reduce number of nodes needed via dynamic reconfiguration in exchange for reduced burst fault tolerance.\r
- [Fast Paxos](https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/tr-2005-112.pdf): Reduce the number of round trips in exchange for reduced fault tolerance.\r
\r
Since Paxos is difficult to understand, algorithms like Raft are designed to be easier to understand.\r
\r
## Raft\r
\r
In 2013, Diego Ongaro and John Ousterhout of Stanford University published [In Search of an Understandable Consensus Algorithm with the goal of comprehensibility](https://raft.github.io/raft.pdf), formally proposing the Raft algorithm, which aims to optimize the Paxos family of algorithms into a consensus algorithm that is easier to understand and equally satisfying in terms of [safety and liveness](https://en.wikipedia.org/wiki/Safety_and_liveness_properties).\r
\r
Raft is similar to Multi-Paxos in that it is a leader-based consensus algorithm. Nodes in the Raft algorithm can only be in one of three states at any given time.\r
\r
- Leader: The leader is responsible for handling all client requests and log replication. There can be at most one working leader in the system at the same time.\r
- Follower: Passively handling requests from the leader. Most of the nodes in the cluster are in this state.\r
- Candidate: A transitional state between leader and follower, used to elect a new leader.\r
\r
Follower persists requests from the leader as log entries as soon as they are received. When a quorum (majority) of nodes confirm that the entry has persisted in their logs, the leader commits the log and followers apply the log entry to its own state machine. When there is a network partition in the system, the partition containing the majority of nodes can still process client requests normally.\r
\r
Raft ensures strong consistency of the distributed system through the leader. Raft supports leader election. When the leader crashes, one of the followers is elected as the new leader. Only the follower with more complete logs than the majority of nodes in the cluster can be elected as a leader. From this implementation of leader election, Raft is not a Byzantine fault-tolerant consensus algorithm. Any node can interfere with the cluster by initiating an election and falsely claiming to have the latest logs.\r
\r
In addition, there are several optimizations that can be applied to Raft. Prevote can be used to introduce a pre-selection of possible leaders, allowing them to gauge their ability to become leaders before potentially disrupting the cluster. Joint consensus can support arbitrary grouping changes, allowing for better scaling. Batching and pipelining can help high-throughput systems perform better.\r
\r
## CURP\r
\r
The CURP algorithm was proposed by Seo Jin Park and John Ousterhout of Stanford University in their paper [Exploiting Commutativity For Practical Fast Replication](https://www.usenix.org/system/files/nsdi19-park.pdf) published in 2019.\r
\r
Traditional approaches to replication, be it Raft or Multi-Paxos, require client requests to be ordered before making them durable by copying them to replica. As a result, clients must wait for two round-trip times (RTTs) before updates complete. The Consistent Unordered Replication Protocol (CURP) allows clients to replicate requests that have not yet been ordered, as long as they are commutative. This strategy allows most operations to complete in 1 RTT.\r
\r
CURP supplements a system's existing replication mechanism with a lightweight form of replication without ordering based on witness. A client replicates each operation to one or more witnesses in parallel with sending the request to the primary server. The primary can execute the operation and return to the client without waiting for normal replication, which happens asynchronously. This allows operations to complete in 1 RTT, as long as all witnessed-but-not-yet-replicated operations are commutative. Noncommutative operations still require 2 RTTs. If the primary crashes, information from witnesses is combined with that from the normal replicas to re-create a consistent server state.\r
\r
Xline is a distributed key-value store engine which can achieve high-performance data access and strong consistency in cross data center scenarios. The network latency between different data centers is very high, often tens or even hundreds of milliseconds. Ideally, since CURP protocol can save an RTT to reach consensus than Raft or Multi-Paxos does, Xline uses CURP to achieve high-performance data access and strong consistency in cross data center situations.\r
\r
Read the [blog](/xline-home/#/blog) for more information about the CURP Protocol.`,yF=`Key-value stores are used as stand-alone NoSQL systems but they are also used as a part of more complex pipelines and systems such as machine learning and relational systems.\r
\r
B-trees and Log-Structured Merge-trees (LSM trees) are two of the most widely used data structures for organizing and storing data in data-intensive applications. However, each of them has its own trade-offs. The purpose of this paper is to compare these two data structures using a quantitative approach.\r
\r
# Metrics\r
\r
In general, there are three key metrics to measure the performance of a data structure: write amplification, read amplification, and spatial amplification. This section aims to describe these metrics.\r
\r
For hard disk drives (HDDs), the cost of disk seek is enormous, such that the performance of random read/write is worse than that of sequential read/write. Therefore, the performance of sequential disk reads and writes is much better than that of random reads and writes. Even for SSDs, sequential read and write performance is better than random read and write.\r
\r
## Write Amplification\r
\r
Write amplification means that the actual amount of data written to the storage media is greater than the amount of data expected to be written.\r
\r
Write amplification occurs because the database itself, in addition to storing data, also needs to store some metadata, such as indexes, wal logs, etc., to improve performance or crash consistency. In addition to metadata, write amplification can also occur on the storage media itself. For example, SSDs have their own garbage collection mechanism that can cause write amplification. Since the lifetime of flash-based storage devices is related to the number of erases, write amplification can reduce the lifetime of flash memory.\r
\r
## Read Amplification\r
\r
Read amplification is when the amount of data needed to be read per query is greater than the amount of data expected to be read.\r
\r
Read amplification occurs because databases often require metadata, such as indexes, to be queried first. The use of caching can reduce read amplification. Also, note that the units of write amplification and read amplification are different. Write amplification measures how much more data is written than the application thinks, while read amplification counts the number of disk reads to execute a query.\r
\r
## Space Amplification\r
\r
Space amplification is when the data stored in a storage medium is larger than the data stored in a database application\r
\r
# LSM Tree And B-Tree\r
\r
In the [LSM tree](https://en.wikipedia.org/wiki/Log-structured_merge-tree), data is organized into levels. The data at level 0 resides entirely in memory, while the rest of the levels reside on disk. New records are inserted into level 0. As more data is inserted, when level 0 exceeds a certain size threshold, it is merged into leve 1. If level 1 exceeds a certain size threshold, it is merged into level 2, and so on, with a limit on the size of each level. In order to perform a query on a specific key to get its associated value, a search must be performed in level 0 and also in each level.\r
\r
[B-tree](https://en.wikipedia.org/wiki/B-tree) is a self-balancing tree data structure that maintains sorted data and allows searches, sequential access, insertions, and deletions in logarithmic time. The B-tree generalizes the binary search tree, allowing for nodes with more than two children.([2]) Unlike other self-balancing binary search trees, the B-tree is well suited for storage systems that read and write relatively large blocks of data, such as databases and file systems.\r
\r
Generally speaking, a data structure can be optimized in at most two ways: read, write, or space amplification. This means that one data structure is unlikely to be better than another in all three. The LSM-tree has a better writer performance than the B+ tree, while its read performance is not as good as the B+ tree.\r
\r
LSM Tree has better write performance than B+ Tree because the former has lower write amplification than the latter. B+ Tree indexes require at least two writes of data, one to the WAL and one to the page itself. LSMs can have greater write throughput than B+ Trees partly because they sometimes have lower write amplification (which requires the right configuration) and partly because they write compact SSTable files sequentially. LSM Trees can be compressed well enough to produce smaller files on the disk. The B+ Tree storage engine, on the other hand, generates some space fragmentation due to the paging mechanism.\r
\r
The B+ Tree has better read performance compared to the LSM Tree because the former has lower read amplification than the latter. LSM Tree requires reading several different data structures with SSTable during the read process. In addition, since each key of the B tree exists in only one location in the index, the LSM tree storage engine, on the other hand, may have multiple copies of the same key in different segments. This also makes B-trees attractive in databases that need to provide strong transactional semantics, because in most relational databases, transactional isolation is achieved by using locks on key ranges. In a B-tree index, these locks can be attached directly to the tree.`,bF=`In [distributed computing](https://en.wikipedia.org/wiki/Distributed_computing), a **remote procedure call (RPC)** is when a computer program causes a procedure (subroutine) to execute in a different address space (commonly on another computer on a shared network), which is coded as if it were a normal (local) procedure call, without the programmer explicitly coding the details for the remote interaction. That is, the programmer writes essentially the same code whether the subroutine is local to the executing program, or remote. This is a form of clientserver interaction (caller is client, executor is server), typically implemented via a requestresponse message-passing system. In the object-oriented programming paradigm, RPCs are represented by remote method invocation (RMI). The RPC model implies a level of location transparency, namely that calling procedures are largely the same whether they are local or remote, but usually, they are not identical, so local calls can be distinguished from remote calls. Remote calls are usually orders of magnitude slower and less reliable than local calls, so distinguishing them is important.\r
\r
RPCs are a form of [inter-process communication](https://en.wikipedia.org/wiki/Inter-process_communication) (IPC), in that different processes have different address spaces: if on the same host machine, they have distinct virtual address spaces, even though the physical address space is the same; while if they are on different hosts, the physical address space is different. Many different (often incompatible) technologies have been used to implement the concept.\r
\r
Read the [protobuf doc](https://protobuf.dev/programming-guides/encoding/) and the [gRPC](https://grpc.io/docs/) doc for more details.\r
\r
[tonic]() is a gRPC over HTTP/2 implementation focused on **high performance**, **interoperability**, and **flexibility**. This library was created to have first-class support of async/await and to act as a core building block for production systems written in Rust.`,wF=`Few can argue against the need for quality control when developing software. Any known or unknown software defects can be very costly for the users of the software. Testing can help developers identify these software defects in advance. The sooner development teams receive feedback from testing, the sooner they can address issues such as:\r
\r
- Architectural flaws\r
- Poor design decisions\r
- Invalid or incorrect functionality\r
- Security vulnerabilites\r
- Scalability issues\r
\r
Xline, as a distributed key-value store engine, is designed to run in the presence of many failure scenarios and degraded states, which greatly increases the testing surface. These states also must be tested in addition to the normal testing done on a project.\r
\r
In futher sections well investigate how to test distributed systems under the influence of these almost infinite variables. For now, let's examine the basics that every project requires. These simple tests will lay the foundation for many later tests that can be run millions of times throughout the life of a project.\r
\r
Often, these tests are written before or alongside the code which they test, and they're used to guide the development process.\r
\r
# Unit Testing\r
\r
Unit testing is a software development process in which the smallest testable parts of an application, called units, are individually and independently scrutinized for proper operation. This testing methodology is done during the development process by the software developers and sometimes QA staff.\r
\r
Xline includes many unit tests that run by cargo test. These tests typically involve simple functionality and are tested using assertions. Many languages, like Rust, offer built-in unit testing functionality:\r
\r
~~~rust\r
#[test]\r
fn test_parse_members() {\r
    let s1 = "";\r
    assert!(parse_members(s1).is_err());\r
    let s2 = "a=1";\r
    let m2 = HashMap::from_iter(vec![("a".to_owned(), "1".to_owned())]);\r
    assert_eq!(parse_members(s2).unwrap(), m2);\r
\r
    let s3 = "a=1,b=2,c=3";\r
    let m3 = HashMap::from_iter(vec![\r
        ("a".to_owned(), "1".to_owned()),\r
        ("b".to_owned(), "2".to_owned()),\r
        ("c".to_owned(), "3".to_owned()),\r
    ]);\r
    assert_eq!(parse_members(s3).unwrap(), m3);\r
    let s4 = "abcde";\r
    assert!(parse_members(s4).is_err());\r
}\r
~~~\r
\r
The main objective of unit testing is to isolate written code to test and determine if it works as intended.\r
\r
# Mock Testing\r
\r
Doing testing is essentially a way to test system or component in a controlled environment. The biggest problem with having a lot of reliance on third-party code is that the third-party code is not controllable. So we need to isolate the tested code and replace the uncontrollable component with a controllable one. That's a so-called mock test.\r
\r
mockall is a powerful mock object library for Rust. It provides tools to create mock versions of almost any trait or struct. They can be used in unit tests as a stand-in for the real object. We use mockall to do some mock tests in Xline:\r
\r
~~~rust\r
#[traced_test]\r
#[tokio::test]\r
async fn logs_will_be_resent() {\r
    let state = new_test_state();\r
\r
    let mut mock_connect = MockConnectInterface::default();\r
    mock_connect\r
        .expect_append_entries()\r
        .times(4)\r
        .returning(|_, _| Err(ProposeError::RpcStatus("timeout".to_owned())));\r
    mock_connect\r
        .expect_id()\r
        .return_const(FOLLOWER_ID1.to_owned());\r
\r
    let handle = tokio::spawn(async move {\r
        let req = AppendEntriesRequest::new(\r
            1,\r
            LEADER_ID.to_owned(),\r
            0,\r
            0,\r
            vec![LogEntry::new(1, &[Arc::new(TestCommand::default())])],\r
            0,\r
        )\r
        .unwrap();\r
        send_log_until_succeed(1, req, Arc::new(mock_connect), state).await;\r
    });\r
    sleep_secs(3).await;\r
    assert!(!handle.is_finished());\r
    handle.abort();\r
}\r
~~~\r
\r
Read the [mock document](https://docs.rs/mockall/0.11.3/mockall/) for more information.\r
\r
# Integration Testing\r
\r
ntegration tests are often used to ensure that software components or functions operate together properly.\r
\r
In Rust, integration tests are entirely external to your library and use your code in the same way any other external code would, using only the public interface and potentially exercising multiple modules per test. It can also exist as documentation. That means it's possible to document your project and benefit from a full test suite simultaneously.\r
\r
~~~rust\r
/// Create a new Xline Server instance with the given config\r
///\r
/// \`\`\`rust\r
/// let config = if let Ok(path) = env::var("XLINE_SERVER_CONFIG") {\r
///         fs::read_to_string(&path).await?\r
///     } else {\r
///         include_str!("/etc/xline/xline_server.conf").to_owned()\r
///     };\r
/// let xline_server = XlineServer::new(config)?;\r
/// \`\`\`\r
struct XlineServer { /*...*/ }\r
~~~\r
\r
The [Rust Book](https://doc.rust-lang.org/book/ch11-01-writing-tests.html) has a great chapter on how to write tests in Rust, and which testing strategies are appropriate for which problems.\r
\r
# Validation Testing\r
\r
Since one of the design goals of Xline is to be fully compatible with the etcd API, the validation test is mainly used to test the compatibility of the Xline interface with the etcd client. We used etcdctl to test the compatibility.\r
\r
Read the "[Start Xline Servers](https://github.com/datenlord/Xline/blob/master/QUICK_START.md#start-xline-servers)" and "[Send Etcd requests](https://github.com/datenlord/Xline/blob/master/QUICK_START.md#send-etcd-requests)" for more information.\r
\r
Read the etcdctl doc for more detail about how to use etcdctl\r
\r
Click [here](https://datenlord.feishu.cn/sheets/shtcnTuzElmgDO6NMOlobsCG2Jd) to view the test report.`,vF=Object.assign({"/src/deep-dive/Consensus.md":gF,"/src/deep-dive/Key-value-Engine.md":yF,"/src/deep-dive/Remote-Procedure-Calls-(RPC).md":bF,"/src/deep-dive/Testing.md":wF}),xF=L.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: calc(86px + 416px);
  padding-top: 86px;
  background: #0a0c28;
  @media screen and (max-width: 1024px) {
    height: calc(63px + 312px);
    padding-top: 64.5px;
  }
  @media screen and (max-width: 768px) {
    height: calc(53px + 208px);
    padding-top: 43px;
  }
`,kF=L.h1`
  position: relative;
  display: inline-block;
  padding-inline: 32px;
  color: white;
  font-weight: 700;
  font-size: 72px;
  /* line-height: 80.64px; */
  line-height: 1.1;
  text-transform: capitalize;
  transform: translateY(-10%);
  @media screen and (max-width: 1024px) {
    padding-inline: 24px;
    font-size: 54px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 16px;
    font-size: 36px;
  }
`,SF=L.img`
  z-index: -1;
  position: absolute;
  left: 50%;
  bottom: -17px;
  transform: translateX(-45%);
  width: 295.01px;
  height: 35.35px;
  @media screen and (max-width: 1024px) {
    bottom: -12px;
    width: 222px;
    height: 27px;
  }
  @media screen and (max-width: 768px) {
    bottom: -8px;
    width: 148px;
    height: 18px;
  }
`,_F=L.main`
  display: flex;
  margin-inline: auto;
  padding-block: ${e=>e.theme.scale.scale05};
  padding-inline: ${e=>e.theme.scale.scale07};
  max-width: ${e=>e.theme.scale.scale12};
  // - - -
  /* height: 200px;
  background-color: lightcoral; */
  @media screen and (max-width: 1024px) {
    padding-block: 36px;
    padding-inline: 96px;
  }
  @media screen and (max-width: 768px) {
    padding-block: 24px;
    padding-inline: 64px;
  }
`,EF=L.div`
  width: 75%;
  /* flex: 1; */

  // - - -
  /* min-height: 100px;
  background-color: lightcyan; */
  @media screen and (max-width: 1024px) {
    width: 100%;
  }
`,TF=L.div`
  flex-shrink: 0;
  width: 25%;
  margin-right: ${e=>e.theme.scale.scale05};
  // - - -
  /* height: 100px;
  background-color: lightblue; */
  @media screen and (max-width: 1024px) {
    display: none;
  }
`,CF=L.p`
  margin-bottom: ${e=>e.theme.scale.scale06};
  color: ${e=>e.theme.color.neutral.gray07};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize5};
  line-height: ${e=>e.theme.font.lineHeight5};
`,AF=()=>{const{params:e}=m1(),t=e==null?void 0:e.split("-").join(" ");return S.jsxs(S.Fragment,{children:[S.jsx(xF,{children:S.jsxs(kF,{children:[t==="Testing"?"Test":t,S.jsx(SF,{src:Zi,alt:"underline"})]})}),S.jsxs(_F,{children:[S.jsxs(TF,{children:[S.jsx(CF,{children:"Deep Dive"}),S.jsx(tk,{item:f6})]}),S.jsx(EF,{children:S.jsx(Ko,{children:vF[`/src/deep-dive/${e}.md`],remarkPlugins:[Uc],rehypePlugins:[jc],components:{h1:({level:n,children:r})=>S.jsx(pt,{level:n,children:r}),h2:({level:n,children:r})=>S.jsx(pt,{level:n,children:r}),h3:({level:n,children:r})=>S.jsx(pt,{level:n,children:r}),h4:({level:n,children:r})=>S.jsx(pt,{level:n,children:r}),h5:({level:n,children:r})=>S.jsx(pt,{level:n,children:r}),h6:({level:n,children:r})=>S.jsx(pt,{level:n,children:r}),p:({children:n})=>S.jsx(qc,{children:n}),em:({children:n})=>S.jsx(ci,{children:n}),strong:({children:n})=>S.jsx(ci,{type:"bold",children:n}),hr:()=>S.jsx(Hc,{}),ul:({depth:n,ordered:r,className:i,children:a})=>S.jsx(ui,{depth:n,ordered:r,className:i,children:a}),ol:({depth:n,ordered:r,className:i,children:a})=>S.jsx(ui,{depth:n,ordered:r,className:i,children:a}),li:({children:n})=>S.jsx(Wc,{children:n}),img:({src:n,alt:r})=>S.jsx(Xc,{src:n,alt:r}),blockquote:({children:n})=>S.jsx(Vc,{children:n})}})})]})]})},nk=`---
  cover: /xline-home/blog/Revisit-the-Consensus-Protocol/cover.png
  author:
    name: Jicheng Shi
    url: https://github.com/rogercloud
    img_url: https://avatars.githubusercontent.com/u/939078?v=4
  read_time: 7
---

Revisit-Consensus protocol is a protocol to keep the information consistent and durable in multiple servers.

---

## Introduction of consensus

Consensus protocol is a protocol to keep the information consistent and durable in multiple servers, and the property is kept even if some servers fail. When we talk about consensus, usually protocols like classic Paxos or Raft come into our minds. They are the foundation of many later invented protocols like Multi-Paxos or Fast-Paxos. Lets first review these two protocols to see how they work.

First lets take a look at Paxos, which is shown in the below graph. Paxos has two phases. The first phase is Prepare, and its main assignment is to take a Slot on the Log. The second phase is Accept, which makes sure this specific Slot has been explicitly occupied, and not taken by others between two phases. When Client receives OK response from the majority of servers, it means this particular record has been submitted and a consensus is reached. Here we can take Client and Proposer as a whole, and there are two messages delivered in the whole process and one message in each phase respectively.

![image](/xline-home/blog/Revisit-the-Consensus-Protocol/image1.jpg)

Then lets move on to talk about Raft, which is also shown below. In Raft protocol a Client sends a request to the leader server, then the leader broadcast the request to all the follower servers. When the leader collects the OK response from the majority of all servers, including itself, a consensus is reached, then it tells the result to Client. There are two messages delivered during the process, one is between Client and the leader, the other is between the leader and the followers.

![image](/xline-home/blog/Revisit-the-Consensus-Protocol/image2.webp)

It thus can be told that the above two protocols take two RTTs to complete a request and reach a consensus. It usually does not have a big impact on performance if the protocol runs in a single data center, while the situation is totally different if we run the protocol in multiple data centers. Because the latency between the data-centers is too high, up to hundreds of milliseconds. Therefore, in multi-data center scenarios, it is critical to reduce the number of messages delivered in the process.

Then, the next question is Are two phases necessary?. The answer is yes if we want to keep the following properties:

1. Any committed request cannot be revised or lost.
2. The order of committed requests cannot be revised or lost.d
3. The order of committed requests cannot be revised or lost.d

In terms of the protocol that has no leader, like Paxos, one-message delivery can only make sure that the majority learns the message, but the ordering is out of control. And for the protocol that has a leader (e.g., Raft), two messages are also required to duplicate the message to all the servers, as one message can only make sure the leader learns the request. In other words, one-message delivery can only make the leader decide the execution sequence (the 2nd property),but cannot guarantee the committed request will not be lost, since only the leader is entitled to acquire this particular request.

Then how do we come up with a way to reduce one number of message delivery? The answer is to compromise the second property, which is to abandon the globally unique execution order and change it to guarantee a globally unique execution order for conflicting requests, and irrelevant requests can be executed out of order. The CURP protocol introduces this idea and partially gives up the second property. Lets see how CURP works in the next section.

## CURP protocol

We wont discuss all the details of the CURP protocol for its too complicated, so only the critical parts will be covered. Heres the process diagram of the CURP protocol:

![image](/xline-home/blog/Revisit-the-Consensus-Protocol/image3.webp)

To start with, lets describe the main procedures briefly below:

1. The Client sends a request to all the CURP servers including the master (leader).
2. Every server maintains a waiting pool, which is the blue part in the above graph. The requests in the waiting pool maybe havent reached a consensus yet.
3. Once a server receives a request from the Client, it checks if the request conflicts with the requests in the waiting pool.
4. If theres a conflict, the server rejects the Client request.
5. Otherwise, it accepts the request and let the Client knows.
6. If the Client received no less than (f + (f + 1)/ 2 + 1) Accept replies, including the reply from the master, it knows the request has been committed. Otherwise, Client waits for the master server to duplicate the request to the follower servers. Once the duplication process completes, the request is removed from the waiting pool and the master server tells the Client that the request has been committed.

Its not easy to understand the protocol if we only list the above four steps. Let me put it in a question-and-answer format for further explanations.

**Q1: Why can the Client make sure a request is committed when no less than (f + (f + 1)/ 2 + 1) Accept responses including the reply from the master are received?**

A1: Because the waiting pool is exclusive as conflict requests wont be in the same pool at the same time, once a request is accepted by the majority, the other conflict request wont get the majority vote until the previous one is removed. Even if theres f server failures, we can easily recover the request from the remaining (f + 1)/ 2 + 1 servers, which are also the majority of the remaining servers. So as a result CURP protocol keeps the committed request and the ordering of the conflicting requests.

**Q2: The number (f + (f + 1)/ 2 + 1) is strange, why not f + 1?**

A2: The reason is the recovery procedure requires the number. In the worst case, there are at most f failures, we must find out the committed requests in the waiting pool according to the remaining informed (f + 1)/ 2 + 1 servers, which are the majority of all remaining servers.

The consensus protocol allows at most f server failures, so the remaining server is f+1. In the worst case, all failed servers contain that request, then the remaining f+1 still have at least (f+1\\_)/2+1 servers containing that particular request, accounting for the vast majority and is convenient for the recovery process to restore the request and prevent any losses.

**Q3: Do all the requests reach the consensus after one message delivery?**

A3: It is not guaranteed. If theres no conflicting request, one message is enough to reach the consensus. Otherwise, in terms of conflicting requests, the Client must wait for the master (leader) server to complete synchronization, which takes another message delivery. Then the Client can confirm that the request is committed. In this case, two messages are delivered, similar to Raft. Therefore, 1RTT for the best case and 2RTT for the worst case.

**Q4: How does the master duplicate the message to the follower servers?**

A4: The same as Raft.

**Q5: What is the recovery process for the CURP protocol?**

A5: First, the recovery process needs to elect a new master (leader), which is the same as Raft. Then the process can be roughly divided into two modules. For the synchronized request, the recovery process is consistent with the Raft protocol. For the requests that have not been synchronized yet, they need to be collected from all servers. When f+1 servers (including the new leader itself) are collected information, keep the requests that appear at least (f+1)/2+1 times, because these requests may have been committed, thus cannot be lost.

## Summary

We find that the CURP protocol is very similar to the Raft protocol except for the waiting pool. The pool is used to keep the ordering of the conflicting requests, making sure theres at most one request committed among all the conflicts. In other words, all requests need to wait for the synchronization of the master at the time when the pool is sorting conflicting requests. The waiting pool is the root reason for the outperforming result.

To sum up, under optimal condition, the CURP takes one round of message delivery to reach consensus. In the worst case, it takes two rounds of message delivery to achieve consensus, just as the Raft protocol.

For more details about the CURP protocol, please refer here to the original paper.

Xline, an open source project by DatenLord, is a geo-distributed KV store for metadata management, which is based on the CURP protocol.

GitHub Links: https://github.com/datenlord/Xline
`,rk=`---

  cover: /xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/cover.png
  author:
    name: Ye Tian
    url: https://github.com/datenlord
    img_url: /xline-home/DatenLord.png
  read_time: 13

---

Thinking About-The purpose of this article is concerning how to think about computer systems and algorithms from a mathematics perspective.

---

The purpose of this article is to provide readers who have not been exposed to formal methods with a new perspective on computer systems and algorithms, rather than formal methods or TLA+ tutorials. Therefore, the focus of this article is how to think about programs from a mathematical perspective, without using a lot of space to explain the syntax of TLA+.

## How do we write correct programs?

The goal of programming is always to write correct programs. Our programs become more complex over time, and the errors that may exist in them become more numerous. To write correct programs, we should first understand what errors may occur in our programs.

### What errors will there be in the program?

I will roughly divide the errors that may occur in the program into two categories: simple errors and logical errors.

#### Simple errors

Simple errors include semantic errors, memory errors, etc. For these easy-to-analyze errors, we already have many mature methods and tools to avoid them, such as compilers, static analysis tools, garbage collector. Because these errors can be relatively easily found and fixed, they are not the focus of our attention.

#### Logical errors

Logical errors are the most difficult to find and fix in programs, such as deadlocks, race conditions, data inconsistencies. Logical errors affect the correctness, performance and reliability of the program, and are usually caused by insufficient design of the program. For these errors, we need to analyze and solve them from a higher level, rather than just from the implementation details of the code.

We usually use some methods to avoid logical errors, such as:

- **Optimize software architecture design** - Consider the correctness of the program in the design stage
- **Testing** - Use various testing methods to reduce the errors in the program, but it cannot guarantee the complete correctness of the program

### Experience

It is not hard to see that the theories above are derived from experience. Experience is accumulated in practice, and we summarize the experience to derive guiding principles, methods and steps that can help us design better programs.

#### But can we rely only on experience?

The more experienced people are, the more details and possibilities they can think of, and the systems they design are usually more stable. But we can't just rely on experience:

- **Experience is limited** - Human experience is limited and unreliable
- **The behavior and state of complex systems are numerous** - A complex system has too many behaviors and states to predict
- **The requirements for correctness of a specific program are very high** - Some programs have very high requirements for correctness, such as financial systems, medical systems, which are difficult to guarantee through experience
- **Unable to verify correctness from theory** - Can only reduce the occurrence of errors as much as possible, but cannot prove the correctness of the program from theory

Therefore, we need a more rigorous method to guarantee the correctness of the program from the design.

### Formal methods

If we can verify the correctness of a program from mathematical perspective, we can solve the above problems. Actually, this is the goal of formal methods.

Formal methods are based on mathematics, by establishing mathematical models for systems to define the behavior, state, etc. of the system, and then defining the constraints of the system, such as safety, liveness, and finally proving that the model satisfies the formal specification of the system to verify the correctness of the system. For finite-state systems, model checking based on finite-state search can be used to verify the behavior of the system to verify whether the system has the expected properties. For systems with infinite state spaces, deductive verification based on logical inference is used to verify the correctness of the system using induction.

This article uses the TLA+ language as a tool to introduce formal methods.

## TLA+

Leslie Lamport, the author of TLA+, is a computer scientist who won the Turing Award in 2013 for his groundbreaking work in the field of concurrent and distributed systems.

### What's TLA+

TLA+ is an high-level language for modeling programs and systems - especially concurrent and distributed programs and systems. Its core idea is that the best way to precisely describe things is to use simple mathematics. TLA+ and its tools can be used to eliminate design errors that are difficult to find and correct in code and are expensive to correct.

TLA+ specifications are not real engineering code and cannot be used in production environments because the goal of TLA+ is to find and solve logical errors at the design stage of the system. In TLA+ we abstract programs as finite-state mathematical models, usually state machines, and then use the TLC Model Checker to exhaustively search all possible states of the program and verify its correctness.

The following two simple examples introduce TLA+. These two examples are from [Leslie Lamport's The TLA+ Video Course](https://www.youtube.com/playlist?list=PLWAv2Etpa7AOAwkreYImYt0gIpOdWQevD). The goal of this article is to provide a new perspective on computer systems and algorithms for readers who have not been exposed to formal methods, rather than a TLA+ tutorial, so the syntax and use of TLA+ tools will not be discussed in detail.

### Simple Example

TLA+ allows us to use simple mathematics to abstract system models, mainly set theory and boolean logic. In the process of abstraction, we need to abandon some implementation details and only focus on the logic of the program itself.

Here is a simple C program that we try to abstract as a TLA+ program:

\`\`\`c
int i;
void main() {
    i = someNumber(); // someNumber() returns a number between 0 and 1000
    i = i + 1;
}
\`\`\`

#### State Abstraction

We need to abstract this program into a series of independent **states**. Obviously, the difference between each state is only the value of \`i\`. Suppose that the default value of \`i\` is 0 after initialization, and that \`someNumber()\` returns 42 when this program is run, then the state transition relationship of this program is:

[i : 0] -> [i : 42] -> [i : 43]

There are three states in this, and the difference between each state is that the value of \`i\` is different.

It seems that the abstraction is complete, but there are problems. Suppose that \`someNumber()\` returns 43 in another run, then the state transition relationship of this program is:

[i : 0] -> [i : 43] -> [i : 44]

This is inconsistent with the previous abstraction, because the state transition relationship of the two runs is different. This is because we have not considered the return value of \`someNumber()\`.

The _state_ of a program refers to the time point when the program is at each stage, not the process of the program running. Therefore, each state is independent, and the transition between states is atomic. This is very different from traditional programming, which is procedural, and TLA+ is state-oriented. We only care about what state the program is currently running in, so we can introduce a new variable \`pc\` to represent which stage the program is running in, so that we can clearly represent the sub-state relationship of the program:

\`\`\`c
int i;
void main() {
    i = someNumber(); // pc = "start"
    i = i + 1;        // pc = "middle"
}                     // pc = "done"
\`\`\`

In this way, we no longer need to consider the value of \`i\`, but only the value of \`pc\`:

[pc : start] -> [pc : middle] -> [pc : done]

#### Writing States

The initial value of \`i\` is 0, and the initial value of \`pc\` is \`start\`, so we can write the sub-state relationship as:

![image1](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image1.png)

In which, for the variable \`i\`, its next state is represented as \`i'\`, which is the way TLA+ defines the state transition of variables. \`i'  0..1000\` means that the value of \`i\` in the next state is a number between 0 and 1000, that is, \`someNumber()\`, \`0..1000\` represents the set \`{0,1,...,1000}\`. \`\` is the logical and in Boolean logic, which can be understood as "and". Finally, the program runs to completion and there is no next state, so it is represented as \`FALSE\`.

In TLA+ , we write a state. Therefore, it is not "because \`pc = start\` so \`i'  0..1000\`", in fact, the relationship between the two is parallel: **In this state, the value of \`pc\` is \`start\` and the value of \`i\` in the next state \` 0..1000\`**. With this idea, we can rewrite the above abstraction as:

![image2](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image2.png)

In which, the "or" is used to connect two states, which can be represented by the logical or \`\` in Boolean logic. In this way, we can clearly represent the state transition relationship of the program. For the sake of beauty, the same Boolean logic symbol can also be supplemented before the first sentence in TLA+ :

![image3](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image3.png)

We finally get the two states after the initial state of this simple program, and then we will complete the initial state and supplement the entire specification according to the requirements of the TLA+ language:

![image4](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image4.png)

- \`EXTENDS\` is used to introduce modules defined in other specifications, which is mainly used in \`i'  0..1000\` here.
- \`VARIABLES\` is used to define variables, which are defined as \`i\` and \`pc\` here.
- \`Init\` is used to define the initial state, which is defined as \`i = 0\` and \`pc = "start"\` here.
- \`Next\` is used to define the state transition relationship.

Now we have a complete TLA+ specification. Later, we can use the TLC Model Checker to check the model, but this is not within the scope of this article.

For simple systems, modeling with TLA+ cannot bring many benefits. Generally speaking, TLA+ is only used when designing very complex, very critical, and very experience-based systems. Concurrency and distributed systems are usually the fields where TLA+ is used. Let's take a look at an example of a distributed system algorithm: Two-Phase Commit.

### Two-Phase Commit

> In transaction processing, databases, and computer networking, the two-phase commit protocol (2PC) is a type of atomic commitment protocol (ACP). It is a distributed algorithm that coordinates all the processes that participate in a distributed atomic transaction on whether to commit or abort (roll back) the transaction. This protocol (a specialised type of consensus protocol) achieves its goal even in many cases of temporary system failure (involving either process, network node, communication, etc. failures), and is thus widely used.  [Two-phase commit protocol (Wikipedia)](https://en.wikipedia.org/wiki/Two-phase_commit_protocol)

Lamport explains Two-Phase Commit in the following analogy in [Leslie Lamport's The TLA+ Video Course](https://www.youtube.com/playlist?list=PLWAv2Etpa7AOAwkreYImYt0gIpOdWQevD):

![image5](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image5.png)

In a wedding, the minister is the coordinator, the groom and the bride are the participants. When the groom and the bride both agree to the marriage, the minister will officially announce the marriage. If one of them does not agree, the minister will abort the marriage:

1. The minister asks the groom: Do you agree to this marriage?
2. The groom answers: I agree (prepared).
3. The minister asks the bride: Do you agree to this marriage?
4. The bride answers: I agree (prepared).
5. The minister announces: The marriage is officially established (committed).

If one of them does not agree, the minister will abort the marriage.

In a database, the Transaction Manager is the coordinator (the minister). When the Transaction Manager asks all the participants Resource Managers (the groom / bride), if all the Resource Managers agree to commit the transaction, the Transaction Manager will commit the transaction. If one of them does not agree, the Transaction Manager will abort the transaction.

The detailed introduction and process of Two-Phase Commit can be found on [Wikipedia](https://en.wikipedia.org/wiki/Two-phase_commit_protocol).

First, let's define some constants and variables and their initial state:

![image6](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image6.png)

- The constant \`RM\` is the set of all Resource Manager identifiers, for example, it can be set to the set \`{"r1", "r2", "r3"}\`.
- The variable \`rmState\` is used to record the state of each Resource Manager, and \`rmState[r]\` is used to represent the state of \`r\`, which has four states: \`working\`, \`prepared\`, \`committed\`, \`aborted\`. The initial state of each \`RM\` is \`working\`.
- The variable \`tmState\` is used to record the state of the Transaction Manager, which has three states: \`init\`, \`committed\`, \`aborted\`. The initial state is \`init\`.
- The variable \`tmPrepared\` is used to record the Resource Manager that is ready (in the \`prepared\` state). The initial value is an empty set.
- The variable \`msgs\` is used as a message pool to record all messages that are being transmitted. The initial value is an empty set.

Next, let's define the actions that the system may perform.

![image7](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image7.png)

- In TLA+, expressions similar to the "function" concept in other programming languages can be defined in the above way, so there is no need to define an expression for each Resource Manager.
- \`[type  "prepare", rm  r]\` is a record in TLA+, similar to a struct in other programming languages.
- \`UNCHANGED rmState, tmState, msgs\` means that this action will not change the values of the variables \`rmState\`, \`tmState\`, \`msgs\`. In TLA+, it is necessary to explicitly declare whether the value of each variable changes or not.

When the state of \`TM\` is \`init\`, and there is a \`Prepared\` message from \`r\` in the message pool, the value of \`tmPrepared\` in the next state will be the union of \`tmPrepared\` and \`{r}\`.

![image8](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image8.png)

The above two actions are Transaction Manager performing Commit and Abort.

![image9](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image9.png)

The above 4 Resource Manager actions are Resource Manager choosing Prepare and Abort, and handling the Commit and Abort decided by the Transaction Manager.

The syntax \`rmState' = [rmState except ![r] = "prepared"]\` means "in the next state, the value of \`rmState[r]\` is changed to \`prepared\`, and the other parts remain unchanged".

If we use a form like \`rmState[r]' = "prepared"\`, we have not explicitly stated the values of the other parts of \`rmState\` in the next state, so it is incorrect.

TLA+ is different from the programs we usually write, it is mathematics. In programming, we use arrays, and in TLA+, we use functions to express similar concepts, and the set of array indices is the domain of the function.

After writing all the actions that the system may exist, we can start to deduce the state transition of the system:

![image10](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image10.png)

We use the existential quantifier \`r  RM\` to represent "for any element \`r\` in the set \`RM\`, there is such an action". The state transition in TLA+ is atomic, so in a state, only one \`r\` will be selected in this "or" branch, which can be compared to the \`for r in RM\` in the programming language, but fundamentally different.

At this point, the modeling of the system is complete. Now we need to write the system's constraint conditions:

![image11](/xline-home/blog/Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness/image11.png)

In the constraint condition \`TypeOK\`, we have limited the possible values of each variable. The \`[RM  {"working", "prepared", "committed", "aborted"}]\` is similar to the Cartesian product of the set \`RM\` and the set \`{"working", "prepared", "committed", "aborted"}\`, but the result is a set composed of records:

\`\`\`rust
{
    [r1 |-> "working", r2 |-> "working"],
    [r1 |-> "working", r2 |-> "prepared"],
    [r1 |-> "working", r2 |-> "committed"],
    ...
    [r1 |-> "aborted", r2 |-> "committed"],
    [r1 |-> "aborted", r2 |-> "aborted"]
}
\`\`\`

In \`TypeOK\`, we use the set \`Messages\` defined above. When defining \`Messages\`, we used the syntax: \`[type: {"Prepared"}, rm: RM]\`. This syntax is also similar to the Cartesian product of \`{"Prepared"}\` and \`RM\`, but the result is also a record set:

\`\`\`rust
{
    [type |-> "Prepared", rm |-> r1],
    [type |-> "Prepared", rm |-> r2],
    ...
}
\`\`\`

The final constraint condition \`Consistent\` is used to ensure the consistency of the system: at any time, it is impossible for two Resource Managers to be in the \`committed\` and \`abort\` state respectively.

Finally, we will give the constraint conditions as invariants, together with the system model, to the TLC Model Checker for verification, and we can prove the correctness of the system.

## Summary

From the above two examples, we have a preliminary understanding of the idea of formal methods. TLA+ is designed for verifying distributed systems, but its ideas can be applied to fields far beyond distributed systems. When writing programs, if we can not only consider the contents on the code level, but also think from a higher level, from a mathematical point of view, we can write more robust programs.

If you are interested in TLA+, you can refer to [Leslie Lamport's The TLA+ Video Course - YouTube](https://youtube.com/playlist?list=PLWAv2Etpa7AOAwkreYImYt0gIpOdWQevD) and [Learn TLA+](https://learntla.com).
`,ik=`---

  cover: /xline-home/blog/How-to-elegantly-organize-async-Rust-code/cover.png
  author:
    name: Tianyu Chen
    url: https://github.com/datenlord
    img_url: /xline-home/DatenLord.png
  read_time: 5

---

Elegant-The article starts from my experience of writing async Rust code and concludes with my practice of applying the principles in a recent refractoring of Curp.

---

## Summary

Anyone who has worked with async Rust has likely struggled with the bounds it requires, e.g., the \`'static\` bound on spawned tasks, \`MutexGuard\` can not be held across \`.await\` point. Overcoming these constraints requires carefully structured scopes, which might result in opaque and nested code that is challenging for both the developer to write and for reviewers to read. In this talk, I will first list some pain points from my experience of writing async Rust code. Then, I will point out scenarios where we actually need async code and argue why we should separate async and non-async code. Finally, I will demonstrate how I've practiced this principle in a recent refactoring of Curp.

## Pain Point

### Spawned Task must be \`'static\`

The compiler has no idea how long an asynchronous task will run for when we create it; it may be ephemeral or it may continue to run until the program terminates. For this reason, the compiler requires all types owned by the tasks to be \`'static\`.
Such a limitation often leads to a lot of cloning before spawning a task. Admittedly, these codes help programmers to better understand which variables' ownership should be transferred to the new task. Unfortunately, the code will look tedious.

\`\`\`rust
let a_arc = Arc::clone(&a);
let b_arc = Arc::clone(&b);
tokio::spawn(async move {
    // ...
});
\`\`\`

### \`Non-Send\` variables cannot be held across \`.await\` point

The Tokio runtime can move a task between threads at every \`.await\`. That's why all variables that are held across\` .await\` must be sent, bringing a lot of trouble when writing async functions.

For example, the following code does not compile because \`log_l\`, a non-\`Send\` \`MutexGuard\`, can not be held across the \`.await\` point.

\`\`\`rust
let mut log_l = log.lock();
log_l.append(new_entry.clone());
broadcast(new_entry).await;
\`\`\`

As the broadcast could take a while, we don't want the \`MutexGuard\` to be held across the.await point either. The compiler does a great job at pointing up places for possible performance improvement.

To avoid this, we naturally add a line to drop the lock just before broadcasting.

\`\`\`rust
let mut log_l = log.lock();
log_l.append(new_entry.clone());
drop(log_l);
broadcast(new_entry).await;
\`\`\`

Sadly, it still won't compile. The explanation here is from \`tokio\` official website:

> The compiler currently calculates whether a future is \`Send\` based on scope information only. The compiler will hopefully be updated to support explicitly dropping it in the future, but for now, you must explicitly use a scope.

To get around, we must wrap our code in an redundant scope. The code is not elegant anymore.

\`\`\`rust
{
    let mut log_w = log.write();
    log_w.append(new_entry.clone());
}
broadcast(new_entry).await;
\`\`\`

More nested scope will be created if multiple locks must be acquired by an async function. When this happens, the code becomes unreadable and unmaintainable.

> Side Note: You might be wondering why we don't make use of the async lock(\`tokio::sync::Mutex\`) tokio offers. It can be held across the \`.await\` point and will save us a lot of trouble. That's because it has relatively limited use cases in practice. Normally, we don't want critical sections to be too long. For example, we don't want to hold the lock when we are broadcasting the new entry. Therefore, be careful about async mutex, you don't want to accidentally use it.

## Async scenarios

The previously mentioned problems are, in my opinion, caused by a lack of clarity in the separation between async and non-async code. In other words, we may fail to separate the async part and non-async part when designing our application's architecture. So, I will sort out the scenarios where we can actually take advantage of async Rust.

### I/O

You don't want I/O to block the current thread since I/O can take a long time. Async I/O helps us to hand out control flow to other tasks when we are waiting for I/O resources.

\`\`\`rust
// .await will enable other scheduled tasks to progress
let mut file = File::create("foo.txt").await?;

file.write(b"some bytes").await?;
\`\`\`

### Background tasks

You want to spawn a background task in order to handle things in the background(usually paired with the receive end of an async channel).

\`\`\`rust
tokio::spawn(async move {
    while let Some(job) = rx.recv().await {
        // ...
    }
};
\`\`\`

### Concurrent tasks

You want to spawn multiple tasks to utilize multicore.

\`\`\`rust
let chunks = data.chunks(data.len() / N_TASKS);
for chunk in chunks {
  tokio::spawn(work_on(chunk));
}
\`\`\`

### Wait for others

You want to pause the current thread and wait for some other events.

\`\`\`rust
// wait for some event
event.listen().await;

// barrier
barrier.wait().await;
\`\`\`

As can be seen, async code usually resides in limited places: I/O, concurrent, and background tasks. Therefore, when we are designing our code, we can consciously identify async functions and try to minimize them. Separating these two parts can not only alleviate the pain points mentioned at the beginning of the article, but also help us to clarify the code structure.

\`\`\`rust
// before
{
    let mut log_w = log.write();
    log_w.append(new_entry.clone());
    // ...
}
broadcast(new_entry).await;

// after: move the logic to another function instead

fn update_log(log: &mut Log, new_entry: Entry) {
    log.append(new_entry);
    // ...
}

update_log(&mut log.write(), new_entry.clone());
broadcast(new_entry).await;
\`\`\`

## Regarding a recent major refactor of curp

Before refactoring, due to multiple iterations, the readability and structure of the code became increasingly poor. Specifically, we had several lock structures that needed to be shared among various parts of the Curp server, and most functions of Curp server were async. The async and locking code were mixed together, frequently leading to the aforementioned pain points during development.

Therefore, we reorganized the structure of Curp server, dividing it into an async part called CurpNode and a non-async part called Rawcurp:

- CurpNode includes only async code
  - I/O tasks: receiving, sending network requests, persisting log entries
  - Background tasks: periodically checking leader activity, copying and aligning data on each node
- Rawcurp can be considered as a state machine that receives calls from CurpNode and updates the state. It includes only non-async code. If RawCurp wants to perform some async operations (such as broadcasting heartbeat), it can use return values and channels to let CurpNode make requests on its behalf.

![image1](/xline-home/blog/How-to-elegantly-organize-async-Rust-code/image1.png)

Take our tick function as an example. Before refactoring, due to the limitation that LockGuard cannot pass the await point and the restriction of multiple logical branches, we had to organize the code in this way:

\`\`\`rust
    loop {
        let _now = ticker.tick().await;
        let task = {
            let state_c = Arc::clone(&state);
            let state_r = state.upgradable_read();
            if state_r.is_leader() {
                if state_r.needs_hb
                {
                    let resps = bcast_heartbeats(connects.clone(), state_r, rpc_timeout);
                    Either::Left(handle_heartbeat_responses(
                        resps,
                        state_c,
                        Arc::clone(&timeout),
                    ))
                } else {
                    continue;
                }
            } else {
                let mut state_w = RwLockUgradableReadGuard::upgrade(state_r);
                // ...
                let resps = bcast_votes(connects.clone(), state_r, rpc_timeout);
                Either::Right(handle_vote_responses(resps, state_c))
            }
        };
        task.await;
    }
\`\`\`

After the refactoring, the code is significantly more understandable because all of the non-async functionality has been transferred to \`RawCurp\`.

\`\`\`rust
loop {
    let _now = ticker.tick().await;
    let action = raw_curp.tick();
    match action {
        TickAction::Heartbeat(hbs) => {
            Self::bcast_heartbeats(Arc::clone(&raw_curp), &connects, hbs).await;
        }
        TickAction::Votes(votes) => {
            Self::bcast_votes(Arc::clone(&raw_curp), &connects, votes).await;
        }
        TickAction::Nothing => {}
    }
}
\`\`\`
`,ak=`---
  cover: /xline-home/blog/Database-Isolation-Levels-and-MVCC/cover.png
  author:
    name: Jicheng Shi
    url: https://github.com/rogercloud
    img_url: https://avatars.githubusercontent.com/u/939078?v=4
  read_time: 5
---

When processing multiple transactions at the same time, the database needs to decide whether the transactions can see each other's changes, how much they can see, etc.

---

## Introduction to database isolation levels

When processing multiple transactions at the same time, the database needs to decide whether the transactions can see each other's changes, how much they can see, etc. According to the strict level of isolation, they can be classified from strict to loose as Serializable, Repeatable reads, Read committed, Read uncommitted. We use the following example of KV storage to explain these four isolation levels. The initial situations of the KV storage are as follows:

![image1](/xline-home/blog/Database-Isolation-Levels-and-MVCC/image1.png)

### Read uncommitted

When two transactions are being executed at the same time, top-down is the order of execution.

![image2](/xline-home/blog/Database-Isolation-Levels-and-MVCC/image2.png)

Under the isolation level of Read uncommitted, multiple transactions executing at the same time are able to see each other not committing the writing operations, which can be considered almost useless.
In the above example, Operation 2 reads "AA" and even though the second transaction eventually Rollback, Operation 4 still reads "DD". When two transactions are being executed simultaneously in the Read committed, they follow top-down order.

![image3](/xline-home/blog/Database-Isolation-Levels-and-MVCC/image3.png)

Under the isolation level of Read committed, only the result after Commit can be seen. So in the execution order of Table 2, both Operation 2 and 4 can read the value of "AA", that is, the value of Key 1 is not changed. If two transactions are executed as in Table 3, Operation 2 will read "AA" and Operation 5 will read "DD", because Transaction 2 has been executed successfully at the time.

### Repeatable read

If Transaction 1 in Table 3 has two consecutive read operations while the user wants to guarantee that the same value is read, then the repeatable read isolation level should be used. Under this isolation level, multiple reads of the same data in the same transaction are guaranteed to yield the same value, even if the data is modified by other committed transactions in the process. Of course, there are cases where isolation is not guaranteed in this isolation level, which is shown as follows:

![image4](/xline-home/blog/Database-Isolation-Levels-and-MVCC/image4.png)

Under the isolation level of repeatable read, Operation 2 returns ["CC"] as result, which means only the value of Key 3 is returned, while that of Operation 5 is [CC", "DD"]. To summarize, the isolation level of repeatable read still cannot perfectly handle situations involving multiple pieces of data, especially when new data is inserted or deleted.

### Serializable

The strictest isolation level is called Serializable, which is also the most perspicuously defined. The execution result under this level is "as if" all transactions were serialized and executed one by one.

It is worth emphasizing the word "as if" in the above sentence. To improve performance, few databases use serial execution on the real meaning of physical to ensure Serializable, but only to achieve a similar effect, which can be achieved in a variety of ways. There is a subcategory under the Serializable level called Snapshot, which is similar to Serializable but slightly less constrained. It is because of the relaxation of constraints that gives a better-performed implementation and makes it the default supported isolation level by most databases.

Let's talk about Snapshot, and by extension, the MVCC implementation.

## Snapshot isolation level and MVCC

To distinguish between the strictest Serializable and Snapshot, let's look at the following two transactions as examples.

![image5](/xline-home/blog/Database-Isolation-Levels-and-MVCC/image5.png)

If strictly following the Serializable isolation level, regardless of either Transaction 1 or 2 is executed first, the ultimate value of Key 1 and 2 is the same, either "AA" or "BB".

However, when executed under the Snapshot level, the result is that the values of Key 1 and 2 are swapped.

The isolation power of Snapshot is obviously weaker in this case. Isolation seems helpless in dealing with the order of transactions with read-write intersections, while only ensuring the order of transactions with write conflicts.

While the above example looks specifically at the differences between the Snapshot isolation level and Serializable, we have not yet fully described the characteristics of Snapshot:

- Transactions in Snapshot have two important timestamps, a read timestamp R and a write timestamp W. All read operations after R can only read the data committed before R.
- Snapshot allows two transactions that do not have a write intersection to execute simultaneously and in parallel.

In order to satisfy both of these features, it is natural to think of saving multiple versions for each data, so that when a write operation is committed, the new data is saved in the new version while the old one is not covered, which is what we call MVCC (Multiversion concurrency control).

We know that there is no conflict between read operations, and write operations cannot be executed simultaneously under the Snapshot level (or Roll back if a conflict is found), so MVCC works mainly when there is a conflict between read and write operations, allowing two seemingly conflicting transactions to execute concurrently.

MVCC also requires garbage collection, otherwise too much old version data will take up unnecessary storage space. The next question is, how do you determine whether a version of data can be deleted? The answer is that it can be deleted when all read operations involved in such version of data are completed, provided that there is a newer version of data ahead.

## Some little thoughts

In the process of introducing MVCC we can easily capture the following key points:
1.Multiple versions.
2.Garbage handling.
3.Improving the efficiency of concurrent operations.

In a previous article by DatenLord titled "Memory Management for Rust Language Lock-Free Data Structures", we introduced another technology related to these keywords, which is the "epoch-based memory management" (epoch) method for lock-free data structures. Epoch maintains the memory state of two generations, and when the memory of the oldest generation is no longer accessible, then the corresponding memory will be reclaimed and released, and a new generation will be opened. The purpose of doing this is also to allow the operation of modifying the data of the new generation and the operation of reading the data of the old generation to be parallelized, also to achieve read-write concurrency optimization. Of course, in addition to these similarities, there are also differences in that MVCC can simultaneously exist in many versions, while epoch always exists in two versions. This can be interpreted as epoch's memory management being more granular, so when contention is heavy epoch can sometimes cause an increase in memory pressure.

In general, MVCC and epoch are similar in the central idea of using multi-version memory control technology to solve the problem of concurrent read/write conflicts.

## Summary

In this paper, we introduced the four isolation levels of the database and the differences between the different isolation levels with examples.

Later, we dug into details about Snapshot, a most widely used insolation level and its most frequently used implementing method MVCC.
Finally, compared and discussed the memory management mechanisms of MVCC and lock-free data structures.

DatenLord project Xline focuses on cross-cloud metadata management KV storage and is currently using MVCC for database isolation in practice. If you want to learn more about it, please refer to the Xline GitHub link: [https://github.com/datenlord/Xline](https://github.com/datenlord/Xline)
`,sk=`---
  cover: /xline-home/blog/The-design-and-implementation-of-the-Xline-persistent-storage-layer/cover.png
  author:
    name: Jiawei Zhao
    url: https://github.com/Phoenix500526
    img_url: https://avatars.githubusercontent.com/u/9337239?v=4
  read_time: 20
---

In the early prototype phase of Xline, we used in-memory storage for data persistence. While this simplified the complexity of the Xline prototype design and speeded up the development and iteration of the project, it also had significant consequences: since the data was stored in memory, the recovery of node data after a process crash relied on pulling the full data from other healthy nodes, resulting in longer recovery times.

---

## Introduction

In the early prototype phase of Xline, we used in-memory storage for data persistence. While this simplified the complexity of the Xline prototype design and speeded up the development and iteration of the project, it also had significant consequences: since the data was stored in memory, the recovery of node data after a process crash relied on pulling the full data from other healthy nodes, resulting in longer recovery times.

With this consideration in mind, Xline introduced a Persistent Storage Layer in its latest release v0.3.0 to persist data to disk and shield upper-layer callers from irrelevant low-level details.

## Selection of Storage Engines

Currently, mainstream storage engines in the industry can be broadly categorized into B+ Tree-based storage engines and LSM Tree-based storage engines. Each has its own advantages and disadvantages.

### Analysis of B+ Tree Read and Write Amplification

When reading data from B+ Tree, we need to first search along the root node, and then move down the index until we finally reach the bottom leaf node. Each access corresponds to one disk IO. Similarly, when writing data, the search starts from the root node and goes down to the appropriate leaf node for data insertion.

To facilitate the analysis, let's make the following assumption: the block size of the B+ Tree is denoted as B, so each internal node contains O(B) child nodes, and each leaf node contains O(B) data entries. Assuming the size of the dataset is N, the height of the B+ Tree is approximately $$O(\\log_B(\\frac{N}{B}))$$

Write Amplification: Each insert operation in the B+ Tree writes data to a leaf node, regardless of the actual size of the data. This means that each insert operation requires writing a block of size B, resulting in a write amplification of O(B).

Read Amplification: A single query in the B+ Tree requires traversing from the root node to a specific leaf node, resulting in a number of I/O operations equal to the height of the tree, which is approximately O(log_B(N/B)). Thus, the read amplification is O(log_B(N/B)).

### LSM Tree Read and Write Amplification Analysis

In LSM Tree, when data is written, it is first written to an in-memory file called the memtable (Level 0) in an append-only manner. When the memtable reaches a certain size, it is converted into an immutable memtable and merged into the next level. For data retrieval, the search starts in the memtable, and if the search fails, it proceeds to search in lower levels until the element is found. LSM Tree often utilizes Bloom Filters to optimize read operations by filtering out elements that do not exist in the database.

Assuming the dataset size is N, the amplification factor is k, and the minimum file size in each level is B, with each level having the same file size as B but a different number of files.

Write Amplification: Assuming we write a record, it will be compacted to the next level after being written k times in the current level. Therefore, the average write amplification per level is $$\\frac{\\sum_{i=1}^{k} k_i}{k} = \\frac{k+1}{2} $$. There are  $$\\log_k(\\frac{N}{B} ) $$  levels in total, so the write amplification is  $$O(k\\log_k(\\frac{N}{B}))$$.

Read Amplification: In the worst-case scenario, data is compacted to the last level, and a binary search is required at each level until the data is found at the last level.
For the highest level, $$level_i$$, with data size O(N), a binary search requires $$O(\\log \\frac{N}{B}) $$ disk read operations.
For the next level,  $$level_{i-1}$$, with data size $$O(\\frac{N}{k})$$, a binary search requires $$O(\\log \\frac{N}{kB}) $$ disk read operations.
For  $$level_{i-2}$$, with data size $$O(\\frac{N}{k^2})$$, a binary search requires $$O(\\log \\frac{N}{k^2B})$$ disk read operations.
.....
Continuing this pattern, the final read amplification can be calculated as R = $$\\sum_{i=0}^{n}(\\log(\\frac{N}{k^iB} ))  = O(\\frac{\\log^2\\frac{N}{B}}{log_k}) $$

### Summary

![image](/xline-home/blog/The-design-and-implementation-of-the-Xline-persistent-storage-layer/image1.PNG)

From the analysis of read and write amplification, it can be concluded that B+ Tree-based storage engines are more suitable for scenarios with more reads and fewer writes, while LSM Tree-based storage engines are more suitable for scenarios with more writes and fewer reads.

As an open-source distributed KV storage software written in Rust, Xline needs to consider the following factors when selecting a persistent storage engine:

1. In terms of Performance: Storage engines often become one of the performance bottlenecks in a system, so it is necessary to choose a high-performance storage engine. High-performance storage engines are typically implemented in high-performance languages, preferably with asynchronous implementations. Rust language is the first choice, followed by C/C++.

2. From a development perspective: Prioritize the implementation in Rust language to reduce additional development work at the current stage.

3. From a maintenance perspective:

- Consider the supporters behind the engine, with priority given to large commercial companies and open-source communities.
- It should be widely used in the industry to facilitate learning from experiences in debugging and tuning processes.
- It should have high visibility and popularity (GitHub stars) to attract excellent contributors.

4. From a functional perspective: The storage engine should provide transactional semantics, support basic KV operations, and batch processing operations.

The priority order of requirements is: Functionality > Maintenance > =Performance > Development.

We conducted research on several open-source embedded databases, including Sled, ForestDB, RocksDB, Bbolt, and Badger. Among them, only RocksDB fulfilled all four requirements mentioned earlier. RocksDB, implemented and open-sourced by Facebook, has been widely adopted in the industry with good production practices. It also maintains a stable release cycle and perfectly covers our functional requirements.

Xline primarily serves the consistency metadata management across cloud data centers, where the workload is predominantly read-intensive with fewer writes. Some readers may wonder why we chose RocksDB even though it is an LSM Tree-based storage engine, which is more suitable for write-intensive, read-light scenarios.

Indeed, in theory, the most suitable storage engine should be based on B+ Trees. However, considering that B+ Tree-based embedded databases like Sled and ForestDB lack extensive production practices and their version maintenance has stalled, we made a trade-off and selected RocksDB as the storage backend for Xline. Additionally, we designed the Persistent Storage Layer with good interface separation and encapsulation to minimize the cost of changing the storage engine in the future, considering the possibility of more suitable storage engines becoming available.

## Design and Implementation of the Persistent Storage Layer

Before discussing the design and implementation of the persistent storage layer, it is important to clarify our expectations and requirements for persistent storage:

1. As mentioned earlier, after considering the trade-offs, we have chosen RocksDB as the backend storage engine for Xline. However, we cannot rule out the possibility of replacing this storage engine in the future. Therefore, the design of the StorageEngine should adhere to the Open-Closed Principle (OCP) and support configurability and easy replacement.
2. We need to provide a basic key-value (KV) interface for the upper-layer users.
3. A comprehensive recovery mechanism needs to be implemented.

### Overall Architecture and Write Flow

Let's first take a look at the current overall architecture of Xline, as shown in the following diagram:
![image](/xline-home/blog/The-design-and-implementation-of-the-Xline-persistent-storage-layer/image2.png)
From top to bottom, the overall architecture of Xline can be divided into the access layer, consensus module, business logic module, storage API layer, and storage engine layer. The storage API layer is responsible for providing business-related StorageApi to both the business module and the consensus module, while abstracting the implementation details of the underlying storage engine. The storage engine layer is responsible for the actual data persistence operations.
Let's take a PUT request as an example to understand the data writing process. When a client initiates a PUT request to the Xline Server, the following events occur:

1. The KvServer receives the PutRequest from the client and performs validity checks. Once the request passes the checks, it sends a propose RPC request to the Curp Server using its own CurpClient.
2. Upon receiving the Propose request, the Curp Server first enters the fast path flow. It stores the command from the request in the Speculative Executed Pool (aka. spec_pool) to determine if it conflicts with any existing commands in the pool. If there is a conflict, it returns ProposeError::KeyConflict and waits for the slow path to complete. Otherwise, it continues with the current fast path.
3. In the fast path, if a command is neither conflicting nor duplicated, it notifies the background cmd_worker for execution through a specific channel. Once the cmd_worker starts executing the command, it stores the corresponding command in the CommandBoard to track the execution progress.
4. When consensus is reached among multiple nodes in the cluster, the state machine log is committed and persisted in the CurpStore. Finally, the log is applied, triggering the corresponding CommandExecutor in the business module. Each server's store module is responsible for persisting the actual data to the backend database using the DB interface during the apply process.

### Interface Design

The following diagram illustrates the relationships between the StorageApi and StorageEngine traits, as well as their corresponding data structures.

![image](/xline-home/blog/The-design-and-implementation-of-the-Xline-persistent-storage-layer/image3.png)

#### Storage Engine Layer

The Storage Engine Layer primarily defines the StorageEngine trait and related errors.
Definition of StorageEngine Trait (engine/src/engine_api.rs):

\`\`\`rust
/// Write operation
#[non_exhaustive]
#[derive(Debug)]
pub enum WriteOperation<'a> {
    /// \`Put\` operation
    Put {  table: &'a str, key: Vec<u8>, value: Vec<u8> },
    /// \`Delete\` operation
    Delete { table: &'a str, key: &'a [u8] },
    /// Delete range operation, it will remove the database entries in the range [from, to)
    DeleteRange { table: &'a str, from: &'a [u8], to: &'a [u8] },
}

/// The \`StorageEngine\` trait
pub trait StorageEngine: Send + Sync + 'static + std::fmt::Debug {
    /// Get the value associated with a key value and the given table
    ///
    /// # Errors
    /// Return \`EngineError::TableNotFound\` if the given table does not exist
    /// Return \`EngineError\` if met some errors
    fn get(&self, table: &str, key: impl AsRef<[u8]>) -> Result<Option<Vec<u8>>, EngineError>;

    /// Get the values associated with the given keys
    ///
    /// # Errors
    /// Return \`EngineError::TableNotFound\` if the given table does not exist
    /// Return \`EngineError\` if met some errors
    fn get_multi(
        &self,
        table: &str,
        keys: &[impl AsRef<[u8]>],
    ) -> Result<Vec<Option<Vec<u8>>>, EngineError>;

    /// Get all the values of the given table
    /// # Errors
    /// Return \`EngineError::TableNotFound\` if the given table does not exist
    /// Return \`EngineError\` if met some errors
    #[allow(clippy::type_complexity)] // it's clear that (Vec<u8>, Vec<u8>) is a key-value pair
    fn get_all(&self, table: &str) -> Result<Vec<(Vec<u8>, Vec<u8>)>, EngineError>;

    /// Commit a batch of write operations
    /// If sync is true, the write will be flushed from the operating system
    /// buffer cache before the write is considered complete. If this
    /// flag is true, writes will be slower.
    ///
    /// # Errors
    /// Return \`EngineError::TableNotFound\` if the given table does not exist
    /// Return \`EngineError\` if met some errors
    fn write_batch(&self, wr_ops: Vec<WriteOperation<'_>>, sync: bool) -> Result<(), EngineError>;
}
\`\`\`

Related Error Definitions

\`\`\`rust
#[non_exhaustive]
#[derive(Error, Debug)]
pub enum EngineError {
    /// Met I/O Error during persisting data
    #[error("I/O Error: {0}")]
    IoError(#[from] std::io::Error),
    /// Table Not Found
    #[error("Table {0} Not Found")]
    TableNotFound(String),
    /// DB File Corrupted
    #[error("DB File {0} Corrupted")]
    Corruption(String),
    /// Invalid Argument Error
    #[error("Invalid Argument: {0}")]
    InvalidArgument(String),
    /// The Underlying Database Error
    #[error("The Underlying Database Error: {0}")]
    UnderlyingError(String),
}
\`\`\`

\`MemoryEngine\` (engine/src/memory_engine.rs) and \`RocksEngine\` (engine/src/rocksdb_engine.rs) implement the StorageEngine trait. MemoryEngine is mainly used for testing purposes, while the definition of RocksEngine is as follows:

\`\`\`rust
/// \`RocksDB\` Storage Engine
#[derive(Debug, Clone)]
pub struct RocksEngine {
    /// The inner storage engine of \`RocksDB\`
    inner: Arc<rocksdb::DB>,
}

/// Translate a \`RocksError\` into an \`EngineError\`
impl From<RocksError> for EngineError {
    #[inline]
    fn from(err: RocksError) -> Self {
        let err = err.into_string();
        if let Some((err_kind, err_msg)) = err.split_once(':') {
            match err_kind {
                "Corruption" => EngineError::Corruption(err_msg.to_owned()),
                "Invalid argument" => {
                    if let Some(table_name) = err_msg.strip_prefix(" Column family not found: ") {
                        EngineError::TableNotFound(table_name.to_owned())
                    } else {
                        EngineError::InvalidArgument(err_msg.to_owned())
                    }
                }
                "IO error" => EngineError::IoError(IoError::new(Other, err_msg)),
                _ => EngineError::UnderlyingError(err_msg.to_owned()),
            }
        } else {
            EngineError::UnderlyingError(err)
        }
    }
}

impl StorageEngine for RocksEngine {
    /// omit some code
}
\`\`\`

#### StorageApi Layer

##### Business Module

Definition of StorageApi in the business module:

\`\`\`rust
/// The Stable Storage Api
pub trait StorageApi: Send + Sync + 'static + std::fmt::Debug {
    /// Get values by keys from storage
    fn get_values<K>(&self, table: &'static str, keys: &[K]) -> Result<Vec<Option<Vec<u8>>>, ExecuteError>
    where
        K: AsRef<[u8]> + std::fmt::Debug;

    /// Get values by keys from storage
    fn get_value<K>(&self, table: &'static str, key: K) -> Result<Option<Vec<u8>>, ExecuteError>
    where
        K: AsRef<[u8]> + std::fmt::Debug;

    /// Get all values of the given table from the storage
    fn get_all(&self, table: &'static str) -> Result<Vec<(Vec<u8>, Vec<u8>)>, ExecuteError>;

    /// Reset the storage
    fn reset(&self) -> Result<(), ExecuteError>;

    /// Flush the operations to storage
    fn flush_ops(&self, ops: Vec<WriteOp>) -> Result<(), ExecuteError>;
}
\`\`\`

In the business module, \`DB\` (xline/src/storage/db.rs) is responsible for converting StorageEngine into \`StorageApi\` for upper-level calls. Its definition is as follows:

\`\`\`rust
/// Database to store revision to kv mapping
#[derive(Debug)]
pub struct DB<S: StorageEngine> {
    /// internal storage of \`DB\`
    engine: Arc<S>,
}

impl<S> StorageApi for DB<S>
where
    S: StorageEngine
{
    /// omit some code
}
\`\`\`

In the business module, different servers have their own Store backends, and the core data structure is the \`DB\` in the \`StorageApi\` Layer.

##### Consensus Module

The \`StorageApi\` definition of the Curp module is located in curp/src/server/storage/mod.rs.

\`\`\`rust
/// Curp storage api
#[async_trait]
pub(super) trait StorageApi: Send + Sync {
    /// Command
    type Command: Command;

    /// Put \`voted_for\` in storage, must be flushed on disk before returning
    async fn flush_voted_for(&self, term: u64, voted_for: ServerId) -> Result<(), StorageError>;

    /// Put log entries in the storage
    async fn put_log_entry(&self, entry: LogEntry<Self::Command>) -> Result<(), StorageError>;

    /// Recover from persisted storage
    /// Return \`voted_for\` and all log entries
    async fn recover(
        &self,
    ) -> Result<(Option<(u64, ServerId)>, Vec<LogEntry<Self::Command>>), StorageError>;
}
\`\`\`

\`RocksDBStorage\` (curp/src/server/storage/rocksdb.rs) is the CurpStore mentioned in the previous architectural diagram. It is responsible for converting \`StorageApi\` into underlying \`RocksEngine\` operations.

\`\`\`rust
/// \`RocksDB\` storage implementation
pub(in crate::server) struct RocksDBStorage<C> {
    /// DB handle
    db: RocksEngine,
    /// Phantom
    phantom: PhantomData<C>,
}

#[async_trait]
impl<C: 'static + Command> StorageApi for RocksDBStorage<C> {
    /// Command
    type Command = C;
    /// omit some code
}
\`\`\`

#### Implementation Details

##### Data Views

With the introduction of the Persistent Storage Layer, Xline uses logical tables to separate different namespaces. Currently, these tables correspond to Column Families in the underlying RocksDB.
The following tables are currently available:

1. curp: Stores persistent information related to curp, including log entries, voted_for, and corresponding term information.
2. lease: Stores granted lease information.
3. kv: Stores key-value information.
4. auth: Stores the enablement status of auth in Xline and the corresponding enable revision.
5. user: Stores user information added in Xline.
6. role: Stores role information added in Xline.
7. meta: Stores the current applied log index.

##### Scalability

Xline separates storage-related operations into two different traits, StorageEngine and StorageApi, and distributes them across two different layers to isolate changes. The StorageEngine trait provides a mechanism, while the StorageApi is defined by upper-level modules, allowing different modules to have their own definitions and implement specific storage strategies. The CurpStore and DB in the StorageApi layer are responsible for implementing the conversion between these two traits. Since the upper-level callers do not directly depend on the underlying Storage Engine, changing the storage engine later would not require extensive modifications to the code of the upper-level modules.

##### Recovery Process

For the recovery process, two important aspects need to be considered: what data to recover and when to perform the recovery. Let's first examine the data involved in recovery between different modules.

###### Consensus Module

In the consensus module, since RocksDBStorage is exclusive to Curp Server, the recovery process can be directly added to the respective StorageApi trait. The specific implementation is as follows:

\`\`\`rust
#[async_trait]
impl<C: 'static + Command> StorageApi for RocksDBStorage<C> {
    /// Command
    type Command = C;
    /// omit some code
    async fn recover(
        &self,
    ) -> Result<(Option<(u64, ServerId)>, Vec<LogEntry<Self::Command>>), StorageError> {
        let voted_for = self
            .db
            .get(CF, VOTE_FOR)?
            .map(|bytes| bincode::deserialize::<(u64, ServerId)>(&bytes))
            .transpose()?;

        let mut entries = vec![];
        let mut prev_index = 0;
        for (k, v) in self.db.get_all(CF)? {
            // we can identify whether a kv is a state or entry by the key length
            if k.len() == VOTE_FOR.len() {
                continue;
            }
            let entry: LogEntry<C> = bincode::deserialize(&v)?;
            #[allow(clippy::integer_arithmetic)] // won't overflow
            if entry.index != prev_index + 1 {
                // break when logs are no longer consistent
                break;
            }
            prev_index = entry.index;
            entries.push(entry);
        }

        Ok((voted_for, entries))
    }
}
\`\`\`

For the consensus module, during the recovery process, the voted_for value and the corresponding term are first loaded from the underlying database. This is a security guarantee for the consensus algorithm to prevent voting twice within the same term. Subsequently, the corresponding log entries are loaded.

###### Business Module

For the business module, different servers have different stores and rely on the mechanisms provided by the underlying DB. Therefore, the recovery process is not defined in the StorageApi trait but exists as separate methods in LeaseStore (xline/src/storage/lease_store/mod.rs), AuthStore (xline/src/storage/auth_store/store.rs), and KvStore (xline/src/storage/kv_store.rs).

\`\`\`rust
/// Lease store
#[derive(Debug)]
pub(crate) struct LeaseStore<DB>
where
    DB: StorageApi,
{
    /// Lease store Backend
    inner: Arc<LeaseStoreBackend<DB>>,
}

impl<DB> LeaseStoreBackend<DB>
where
    DB: StorageApi,
{
    /// omit some code
    /// Recover data form persistent storage
    fn recover_from_current_db(&self) -> Result<(), ExecuteError> {
        let leases = self.get_all()?;
        for lease in leases {
            let _ignore = self
                .lease_collection
                .write()
                .grant(lease.id, lease.ttl, false);
        }
        Ok(())
    }
}

impl<S> AuthStore<S>
where
    S: StorageApi,
{
    /// Recover data from persistent storage
    pub(crate) fn recover(&self) -> Result<(), ExecuteError> {
        let enabled = self.backend.get_enable()?;
        if enabled {
            self.enabled.store(true, AtomicOrdering::Relaxed);
        }
        let revision = self.backend.get_revision()?;
        self.revision.set(revision);
        self.create_permission_cache()?;
        Ok(())
    }
}
\`\`\`

Among them, the recovery logic for \`LeaseStore\` and \`AuthStore\` is relatively simple, and we won't delve into it too much. Let's focus on the recovery process of \`KvStore\`. The flowchart for its recovery process is as follows:

![image](/xline-home/blog/The-design-and-implementation-of-the-Xline-persistent-storage-layer/image4.png)

###### Recovery Timing

The recovery timing in Xline primarily occurs during the initial system startup. The recovery of the business module is prioritized, followed by the recovery of the consensus module. Since the recovery of KvStore depends on the recovery of LeaseStore, the recovery of LeaseStore needs to take place before the recovery of KvStore. The corresponding code in xline/src/server/xline_server.rs is as follows:

\`\`\`rust
impl<S> XlineServer<S>
where
    S: StorageApi,
{
    /// Start \`XlineServer\`
    #[inline]
    pub async fn start(&self, addr: SocketAddr) -> Result<()> {
        // lease storage must recover before kv storage
        self.lease_storage.recover()?;
        self.kv_storage.recover().await?;
        self.auth_storage.recover()?;
        let (kv_server, lock_server, lease_server, auth_server, watch_server, curp_server) =
            self.init_servers().await;
        Ok(Server::builder()
            .add_service(RpcLockServer::new(lock_server))
            .add_service(RpcKvServer::new(kv_server))
            .add_service(RpcLeaseServer::from_arc(lease_server))
            .add_service(RpcAuthServer::new(auth_server))
            .add_service(RpcWatchServer::new(watch_server))
            .add_service(ProtocolServer::new(curp_server))
            .serve(addr)
            .await?)
    }
\`\`\`

The recovery process of the consensus module (curp/src/server/curp_node.rs) is as follows, with the function call chain: XlineServer::start -> XlineServer::init_servers -> CurpServer::new -> CurpNode::new

\`\`\`rust
// utils
impl<C: 'static + Command> CurpNode<C> {
    /// Create a new server instance
    #[inline]
    pub(super) async fn new<CE: CommandExecutor<C> + 'static>(
        id: ServerId,
        is_leader: bool,
        others: HashMap<ServerId, String>,
        cmd_executor: CE,
        curp_cfg: Arc<CurpConfig>,
        tx_filter: Option<Box<dyn TxFilter>>,
    ) -> Result<Self, CurpError> {
        // omit some code
        // create curp state machine
        let (voted_for, entries) = storage.recover().await?;
        let curp = if voted_for.is_none() && entries.is_empty() {
            Arc::new(RawCurp::new(
                id,
                others.keys().cloned().collect(),
                is_leader,
                Arc::clone(&cmd_board),
                Arc::clone(&spec_pool),
                uncommitted_pool,
                curp_cfg,
                Box::new(exe_tx),
                sync_tx,
                calibrate_tx,
                log_tx,
            ))
        } else {
            info!(
                "{} recovered voted_for({voted_for:?}), entries from {:?} to {:?}",
                id,
                entries.first(),
                entries.last()
            );
            Arc::new(RawCurp::recover_from(
                id,
                others.keys().cloned().collect(),
                is_leader,
                Arc::clone(&cmd_board),
                Arc::clone(&spec_pool),
                uncommitted_pool,
                curp_cfg,
                Box::new(exe_tx),
                sync_tx,
                calibrate_tx,
                log_tx,
                voted_for,
                entries,
                last_applied.numeric_cast(),
            ))
        };
        // omit some code
        Ok(Self {
            curp,
            spec_pool,
            cmd_board,
            shutdown_trigger,
            storage,
        })
    }
\`\`\`

Performance Evaluation
In v0.3.0, except for introducing the persistent storage layer, we also conducted significant refactoring on certain parts of CURP. After completing the refactoring and adding new features, we recently passed the validation test and integration test. The performance testing information has already been released in Xline v 0.4.0.
Xline GitHub https://github.com/datenlord/Xline
`,ok=`---
  cover: /xline-home/blog/Introduction-to-CURP-Protocol/cover.png
  author:
    name: Jiawei Zhao
    url: https://github.com/Phoenix500526
    img_url: https://avatars.githubusercontent.com/u/9337239?v=4
  read_time: 20
---

Xline is an open source distributed KV storage engine, its core purpose is to achieve high-performance strong consistency across data centers, providing cross-data center metadata management. So how does Xline achieve this high-performance strong consistency across data centers? This article will lead you to find out.

---

## 1. What is Xline

Xline is an open source distributed KV storage engine, its core purpose is to achieve high-performance strong consistency across data centers, providing cross-data center metadata management. So how does Xline achieve this high-performance strong consistency across data centers? This article will lead you to find out.

## 2. The Overall Architecture of Xline

Let's take a look at the overall architecture of Xline, as shown below:

![Graph1](/xline-home/blog/Introduction-to-CURP-Protocol/graph1.jpg)

From top to bottom, Xline can be roughly divided into three layers, namely

- Access layer: Implemented using the gRPC framework, responsible for receiving requests from clients.
- Middle Layer: it can be divided into CURP Consensus Module (left) and Business Server Module (right), where:
  - CURP Consensus Module: Implements the CURP consensus algorithm, the code corresponds to the curp crate in Xline, while the corresponding RPC service is defined in curp/proto.
  - Business Server Module: It is responsible for realizing the upper layer business logic of Xline, such as KvServer for KV-related requests and AuthServer for authentication requests, etc. The code corresponds to the xline crate, while the corresponding RPC service is defined in the xlineapi crate.
- Storage layer: responsible for the persistence of data and metadata within Xline, providing abstract interfaces to the upper layer, the code corresponds to the engine crate.

## 3. Introduction to the CURP protocol

### What is CURP?

The consensus protocol used in Xline is not Paxos or Raft, but a new consensus protocol called CURP, which is called "Consistent Unordered Replication Protocol (CURP)". It was initiated in NSDI 2019's paper "Exploiting Commutativity For Practical Fast Replication," which was authored by Seo Jin Park, a PhD student from Stanford, and Prof. John Ousterhout, who is also the authors of Raft algorithm.

### Why the CURP Protocol?

Why did Xline use a new protocol like CURP instead of Raft or Multi-Paxos as the underlying consensus protocol? To illustrate, let's look at the problems with Raft and Multi-Paxos.
The following figure shows a flow of Raft's consensus process:

![Graph2](/xline-home/blog/Introduction-to-CURP-Protocol/graph2.jpg)

In this timing diagram, we can see how the Raft protocol reaches consensus:

1. The client makes a proposal request to the leader.
2. The leader receives the proposal request from the client, appends it to its state machine log, and broadcasts the AppendEntries request to other followers in the cluster.
3. After receiving the AppendEntries request from the leader, the follower performs a log consistency check to determine whether it can be added to its own state machine log. It responds with a success message if the check is successful or a failure message if the check fails.
4. The leader counts the number of successful responses received, and if it exceeds half of the number of cluster nodes, the consensus is considered reached and the proposal is successful, otherwise the proposal is considered to have failed and the result is returned to the client.

The following figure shows the flow of Multi-Paxos protocol to reach a consensus:

![Graph3](/xline-home/blog/Introduction-to-CURP-Protocol/graph3.jpg)

In this timing diagram, we can understand the flow of Multi-Paxos protocol to reach consensus:

1. The client makes a proposal request to the leader.
2. The leader finds the index of the first unapproved log entry in its state machine log, and then executes the Basic Paxos algorithm to propose the log at index with the proposal value requested by the client.
3. The follower receives the proposal value from the leader and decides whether to accept the proposal value and return a successful response, or to return a failing response.
4. The leader counts the number of successful responses received, and if it exceeds half of the number of nodes in the cluster, it considers that the consensus has been reached and the proposal is successful, otherwise, it considers that the proposal fails and returns the result to the client.

Be it Multi-Paxos or Raft, reaching consensus inevitably requires 2 RTTs. Both of them are based on a core assumption: the criteria of being durably stored and ordered must be met after command approval or log commit. As a result, the state machine can directly perform the approved commands or apply committed logs. Due to the inherent asynchrony of the network, ensuring orderliness is challenging. Therefore, a leader is required to enforce the execution order of different commands and achieve persistence by obtaining replication from the majority through broadcasting. This process cannot be completed within a single RTT.

That's why Xline didn't choose Raft or Multi-Paxos as the underlying consensus algorithm. Xline was primarily designed to manage metadata across data centers. As we all know, for a single data center, the latency of its intranet is often very low, only a few milliseconds or even less than 1ms, while for a cross-datacenter wide area network, the network latency can reach tens of milliseconds or even hundreds of milliseconds. Traditional consensus algorithms, such as Raft or Multi-Paxos, require 2 RTTs to reach a consensus, regardless of the state of the consensus, which often leads to serious performance bottlenecks in such high latency network environments. This makes us wonder whether two or more RTTs are necessary to reach consensus in any case.

The CURP algorithm is an unordered replication algorithm that breaks down the consensus scenarios into the following two categories:
**Fast path**: In non-conflicting scenarios , relaxing the ordering requirements for consensus does not affect the final consensus under the premise of persistent storage. Since the fast path only requires storage persistency, only 1 RTT is needed to reach consensus. We call fast path the front-end of the protocol.
**Slow path**: In conflicting scenarios, both the requirement for ordered concurrent request and persistent storage need to be satisfied, thus requring 2 RTTs to achieve consensus. We refer to the slow path as the back-end of the protocol.

Then reader may wonder, what exactly is the conflict here? Let's use a simple KV operation as an example. In the nodes of a distributed system, the operations we do on the state machine are just read and write, and in the case of concurrent operations on the state machine, there are four scenarios: read-after-read, read-after-write, write-after-read, and write-after-write. Obviously, for read-after-read, which is a read-only operation with no side-effects, there is no conflict under any circumstances, and the final result is always the same, whether it is read first or next. When operating on different keys, for example, PUT A=1, PUT B=2, then for the final state of the state machine, no matter whether to execute PUT A=1 first, PUT B=2 next, or vice versa, the final result of reading from the state machine is A=1, B=2. The same applies to the scenario of read-write mixing. Therefore, when there is no intersection between the keys of multiple operations performed concurrently on a state machine, we say that these operations are non-conflicting. Conversely, if the concurrent operations include at least one write operation, and the keys of those operations are intersected, the operations are in conflict.

### fast path vs. slow path

How does CURP implement fast path and slow path? Below is a sketch of the cluster topology in the CURP algorithm.

Let's take a look at what's going on in this diagram:

![Graph4](/xline-home/blog/Introduction-to-CURP-Protocol/graph4.jpg)

1. Client: the client that makes the request to the cluster.
2. Master: Corresponds to the leader node in the cluster, which holds the state machine logs, where the green part represents the logs that have been persisted to disk, and the blue part represents the logs that are stored in memory.
3. Follower nodes: Corresponds to the yellow dotted box in the figure above, each follower contains the following two components.
   a. Witness: it can be approximated as a memory-based HashMap, on one hand, it is responsible for logging the current requests in the cluster in the fast path process, on the other hand, CURP will also use Witness to determine whether there is a conflict in the current request. All the records saved in Witness are unordered.
   b. Backup: Keeps state machine logs that are persisted to disk.

Next, let's take the example PUT z=7 in the figure to see the execution flow of fast path:

1. Client broadcasts a request for PUT z=7 to all nodes in the cluster.
2. When a node in the cluster receives the request, it executes different logic depending on its role.
   a. The leader receives the request and immediately writes the data z = 7 locally (that is, the blue part in the state machine log) and returns OK immediately.
   b. When the follower receives the request, it uses witness to determine whether the request is in conflict . Since z = 7 does not conflict with y = 5, which is the only one in the witness, the follower saves z = 7 to the witness and returns OK to the client.
3. Client collects and counts the number of successful responses received. For a cluster with 2f + 1 nodes, when the number of received successful responses reaches f+f/2+1, the operation is confirmed to be persisted to the cluster, which takes 1 RTT for the whole process.

Next, based on the previous fast path example, let's take PUT z = 9 as an example to see the execution flow of slow path. Since z = 9 conflicts with z = 7, the fast path initiated by the client will fail and the slow path will be executed:

1. Client broadcasts a PUT z=9 request to all nodes in the cluster.
2. The nodes in the cluster receive the request and perform different logic according to their roles.
   a. The leader receives the request and writes z = 9 to the state machine log. Since z = 9 conflicts with z = 7, it returns a KeyConflict response to the client and asynchronously initiates an AppendEntries request to synchronize the state machine log to the other nodes in the cluster.
   b. The follower receives the request and refuses to save the proposal since z = 9 conflicts with z = 7 in the witness.
3. Client collects and counts the number of successful responses received. Since the number of rejected responses received exceeds f/2, client needs to wait for the slow path to complete.
4. When the AppendEntries in step 2 are executed successfully, the follower appends all three state machine logs (y = 5, z = 7, z = 9) of the leader to the Backup, removes the relevant logs from the witness, and returns the successful responses to the leader.
5. The leader counts the number of successful responses received. If it exceeds half of the number of cluster nodes, the consensus is considered reached and the proposal succeeds. Otherwise, the proposal fails and the result is returned to the client.

## 4. Summary

Xline is a distributed KV storage that provides strong consistency across data centers. One of its core problems is how to provide high-performance strong consistency in a high latency WAN environment across data centers. Traditional distributed consensus algorithms, such as Raft and Multi-Paxos, guarantee state machine consistency by making all operations satisfy storage persistency and the ordering prerequisite. The CURP protocol, makes a finer-grained division of consensus scenarios, splitting the protocol into front-end (fast path) and back-end (slow path), where the front-end only guarantees that the proposal will be persisted to the cluster, while the back-end not only guarantees persistence, but also ensures that all nodes that have saved the proposal will execute the commands in the same order, guaranteeing the consistency of the state machine.

This is the end of the introduction to the CURP protocol. For more details, please refer to our other articles and shares, as follows:
Rethinking the Curp Consensus Protocol
DatenLord | Xline Geo-distributed KV Storage

Xline is a geo-distributed KV storage for metadata management. Xline project is written in Rust, and you are welcomed to participate in our open-source project!
GitHub link:
https://github.com/xline-kv/Xline
Xline official website: www.xline.cloud
Xline Discord:
https://discord.gg/XyFXGpSfvb
`,lk=`---
  cover: /xline-home/blog/Mechanism-and-Implementation-of-Lease/cover.png
  author:
    name: Yu Guan
    url: https://github.com/themanforfree
    img_url: https://avatars.githubusercontent.com/u/56149350?v=4
  read_time: 20
---

Xline is an open source distributed KV storage engine for managing small amounts of critical data, with the aim of high performance data access and strong consistency across data centers. Xline provides a series of etcd-compatible access interfaces, including KV, Watch, Lease, and more. In this article, we will focus on the Lease interface.

---

## 1. Introduction

Xline is an open source distributed KV storage engine for managing small amounts of critical data, with the aim of high performance data access and strong consistency across data centers. Xline provides a series of etcd-compatible access interfaces, including KV, Watch, Lease, and more. In this article, we will focus on the Lease interface.

Lease is a lease mechanism between client and server. Similar to the car rental service in our real life, when we need to use a car, we can apply for a lease from the car rental company, the car rental company will assign a car to us, and guarantee that the car will not be assigned to other people during the validity period agreed between us and the car rental company. If we want to use it for a longer period of time, we can renew the lease to the car rental company. If we no longer want to use the car, we can either return and cancel it, or wait for the lease to expire and return it automatically.

The use of Lease in Xline is very similar to the real life car rental service. The client can apply for a lease from the server, the server will then ensure that the lease will not be revoked during the validity period. The client can also end the lease early or extend the TTL of lease through the corresponding interface. Unlike real-life car rental, we can bind some key-values to the lease, while they will be deleted with the expiration of the lease.

According to the ability of Lease introduced above, we can use Lease to realize our purpose in many scenarios, the following are some common Lease application scenarios:
Distributed locks: Distributed locks are realized through several mechanisms, while Lease play a role in avoiding deadlocks in distributed locks. When a client requests for a distributed lock, it creates a lease and renews the lease continuously, while also writes key-value and attaches it to the lease. This key-value represents the occupancy state of the distributed lock, and if the client occupying the lock is unable to release the lock actively due to a failure, the Lease mechanism ensures that the corresponding key-value will be deleted automatically to release the current lock after the expiration of the lease.
Service Registry: A lease is created when registering a new service, and written the key-value of service-related information with lease. During the survival of the service, the service will renew its lease continuously. If the lease cannot be renewed automatically after the service fails, the corresponding key-value will be deleted automatically, and the corresponding service will be deregistered in the registry center.
Authorization Management in Distributed Systems: Clients apply for a lease to gain permissions for resources, if the client loses connection with the server, or if the lease expires due to failure to renew the lease in time, the client loses the corresponding permissions.

## 2. Architecture

![Image](/xline-home/blog/Mechanism-and-Implementation-of-Lease/image1.PNG)

The above figure is a simple architecture diagram of Lease implementation. There are two ways for an external client to send a request to the Xline cluster. One is to directly broadcast the request to all nodes in the cluster through the Curp protocol. After the Curp module reaches a consensus, it applies the request to the state machine, which is to write the request to the storage layer.

Another way is for the client to directly send the request to the LeaseServer of one of the nodes in the cluster, which is also the service request method that is compatible with etcd. After the request reaches the LeaseServer, there will be two different processing paths, most of the requests will be broadcasted to all the nodes in the cluster through the Curp client bound to the server, and the remaining small number of requests may only be handled by some of the nodes, which will be forwarded to the LeaseServer of the specific nodes and applied to the state machine.

## 3. Source Code Analysis

### Source Code Organization

The Lease-related source code is mainly stored in the following files, which are roughly organized into three sections:

1. RPC Definitions:

- xlineapi/proto/rpc.proto: rpc interface definitions for each Server within Xline, including the LeaseServer interface definition.
- xlineapi/proto/lease.proto: rpc message definition for Lease.

2. LeaseServer implementation:

- xline/src/server/lease_server.rs: Responsible for providing the implementation of the Lease RPC service, the main purpose is to provide etcd compliant interface.If the client send the propose directly through the external curp, this interface can be omitted, while some of the requests that do not go through the consensus protocol must be processed through the LeaseServer.

3. LeaseStore implementation:

- xline/src/storage/lease_store/lease.rs: Defines the Lease data structure, which is used to store Lease-related information, such as all the keys bound on the Lease, the expiration time of the Lease, the remaining TTL of the Lease, etc. It also implements some practical methods for it.
- xline/src/storage/lease_store/lease_queue.rs: Defines LeaseQueue and related methods. LeaseQueue is a priority queue consisting of lease IDs and lease expiration times, while a background-resident task will capture all the expired lease IDs through this structure at regular intervals.
- xline/src/storage/lease_store/lease_collection.rs: Defines the LeaseCollection and related methods. The LeaseCollection is a collection of the core data structures of a lease, providing the core capabilities of the lease mechanism. The structure contains three parts: lease_map saves all the lease structures; item_map caches the key to lease ID mapping; and expired_queue manages the lease expiration time. expired_queue is only used on the leader node, and is empty on other nodes.
- xline/src/storage/lease_store/mod.rs: Definition and method implementation of LeaseStore. It is responsible for providing the storage layer abstraction for lease and the storage layer interface for all lease related operations externally. Its inner part contains LeaseCollection and some data structures which are shared with KvStore.

### Lease Creation

If you want to use a lease, you must create a lease first, and when doing so, you need to use the LeaseGrant interface provided by LeaseServer. The LeaseGrant RPC is quite straightforward, which is to assign a lease ID, and submit the request to the consensus protocol through propose interface?. Once consensus is reached, the request is executed in the LeaseStore.

LeaseStore will create and insert a new lease in LeaseCollection. The core code logic is as follows:

\`\`\`rust
...
if is_leader {
    let expiry = lease.refresh(Duration::ZERO);
    let _ignore = inner.expired_queue.insert(lease_id, expiry);
} else {
    lease.forever();
}
let _ignore = inner.lease_map.insert(lease_id, lease.clone());
...
\`\`\`

Note that if the current node is the leader node, it also needs to manage the lease's expiration time. Therefore, it must calculate the expiration time of the lease through the refresh method and insert it into the expired_queue. The other nodes do not need this step, they just need to insert the new lease into the lease_map.

After the lease is created, the server returns a response to the client containing the lease ID.

### Using Lease

![Image](/xline-home/blog/Mechanism-and-Implementation-of-Lease/image2.png)

After getting the lease ID, the client can use the lease through the lease ID. When putting a pair of key values, lease ID can be attached. When this Put request is applied to the state machine, in addition to writing the key-value directly to the index and DB of the KvStore, it will detach the current key from the old lease by the detach method provided by the LeaseCollection, and attach the key that needs to be put to the new lease ID by attach.

\`\`\`bash
pub(crate) fn attach(&self, lease_id: i64, key: Vec<u8>) -> Result<(), ExecuteError> {
    let mut inner = self.inner.write();
    let Some(lease) = inner.lease_map.get_mut(&lease_id) else {
        return  Err(ExecuteError::lease_not_found(lease_id));
    };
    lease.insert_key(key.clone());
    let _ignore = inner.item_map.insert(key, lease_id);
    Ok(())
}
\`\`\`

The implementation of attach is to find the corresponding lease by the lease ID, attach the key to the lease, and add the mapping of the key to the lease ID to the item_map. Detach is the opposite of attach, it removes the content inserted when attaching.

After the above process, we have successfully associated the key with the lease ID. If the lease is actively revoked or times out, the lease and all the keys associated with it will be deleted.

## Active Lease Deletion

To delete a lease, you need to use the LeaseRevoke interface, which is basically the same as LeaseGrant in LeaseServer. Both of them pass the request to the consensus protocol for processing, while the only difference is that LeaseRevoke doesn't need to assign a lease ID.

\`\`\`rust
let del_keys = match self.lease_collection.look_up(req.id) {
    Some(l) => l.keys(),
    None => return Err(ExecuteError::lease_not_found(req.id)),
};
if del_keys.is_empty() {
    let _ignore = self.lease_collection.revoke(req.id);
    return Ok(Vec::new());
}

// delete keys ...

let _ignore = self.lease_collection.revoke(req.id);
\`\`\`

When LeaseRevoke is executed, it first tries to find out if the lease has any associated keys, if not, it can directly remove the lease through the revoke method on the LeaseCollection. If there are associated keys, it needs to remove all associated keys from the KV Store and clean up the relationship between these keys and the lease ID in the LeaseCollection before you can revoke the lease from the LeaseCollection.

### Lease expiration

![Image](/xline-home/blog/Mechanism-and-Implementation-of-Lease/image3.png)

The Lease expiration process is shown in the above figure, which omits the consensus part. When initializing LeaseServer, a background resident revoke_expired_leases_task is created, the main code of this task is as follows:

\`\`\`bash
loop {
    // only leader will check expired lease
    if lease_server.lease_storage.is_primary() {
        for id in lease_server.lease_storage.find_expired_leases() {
            let _handle = tokio::spawn({
                let s = Arc::clone(&lease_server);
                async move {
                    let  request = tonic::Request::new(LeaseRevokeRequest { id });
                    if let Err(e) = s.lease_revoke(request).await {
                        warn!("Failed to revoke expired leases: {}", e);
                    }
                }
            });
        }
    }
    time::sleep(DEFAULT_LEASE_REQUEST_TIME).await;
}
\`\`\`

On the node responsible for managing Lease expiration time, this task will periodically captures all the expired lease IDs through find_expired_leases, and calls the lease_revoke interface on the lease server to delete the expired Leases, utilizing the same interface as clients use to actively delete Leases.
find_expired_leases is a core method in LeaseCollection, and its implementation is as follows:

\`\`\`rust
pub(crate) fn find_expired_leases(&self) -> Vec<i64> {
    let mut expired_leases = vec![];
    let mut inner = self.inner.write();
    while let Some(expiry) = inner.expired_queue.peek() {
        if *expiry <= Instant::now() {
            #[allow(clippy::unwrap_used)] // queue.peek() returns Some
            let id = inner.expired_queue.pop().unwrap();
            if inner.lease_map.contains_key(&id) {
                expired_leases.push(id);
            }
        } else {
            break;
        }
    }
    expired_leases
}
\`\`\`

When a lease is created, the expiration time of the lease is already calculated and inserted into the expired_queue. When calling find_expired_queue, the process continuously attempts to extract the expired leases from the head of the priority queue until it encounters the first one that has not yet expired. It then returns all the lease ID obtained in this process.

### Lease Renewal

If you want the created lease to last longer, you need to maintain a stream between the client and the server, where the client sends LeaseKeepAlive requests to the server at regular intervals. Unlike the previous requests, LeaseKeepAlive requests do not need to go through the consensus protocol because they rely on the expiration time of a lease that exists only on the leader node, so only the leader node can process LeaseKeepAlive requests, while the follower node forwards the request to the leader node for processing. The forwarding logic can be found in the source code of lease_server.rs.
After the stream is established between the leader and the client, whenever the leader receives a lease ID from the stream, it will renew the lease. The final renewal logic is realized by the renewal method provided by LeaseCollection. This method is defined as follows:

\`\`\`bash
pub(crate) fn renew(&self, lease_id: i64) -> Result<i64, ExecuteError> {
    let mut inner = self.inner.write();
    let (expiry, ttl) = {
        let Some(lease) = inner.lease_map.get_mut(&lease_id) else {
            return Err(ExecuteError::lease_not_found(lease_id));
        };
        if lease.expired() {
            return Err(ExecuteError::lease_expired(lease_id));
        }
        let expiry = lease.refresh(Duration::default());
        let ttl = lease.ttl().as_secs().cast();
        (expiry, ttl)
    };
    let _ignore = inner.expired_queue.update(lease_id, expiry);
    Ok(ttl)
}
\`\`\`

Renew will first check whether the corresponding lease has expired or not. If not, it will recalculate the expiration time, and then update its order in the expired_queue.
As long as the connection between the client and the server is not interrupted, the client will continue to send LeaseKeepAlive requests to the server via stream, preventing the lease from timing out. The primary application scenarios for leases, as mentioned in the previous section, almost always use this feature to determine whether the client is running normally.

### Lease information reading

Lease has two reading interfaces. One is LeaseTimeToLive, which will read the detailed information of a lease, including its expiration time. Same as LeaseKeepAlive, because the expiration time only exists in the leader node, so the request needs to be forwarded to only the leader for processing.
Another reading interface is LeaseLeases, which lists all the lease IDs in the system. This interface doesn't need information about the lease expiration time, so it can be handed over to the consensus protocol directly, which makes the processing in LeaseServer similar to that of LeaseGrant and LeaseRevoke. We wouldnt go into further details here.
The ability of LeaseTimeToLive and LeaseLeases to read information is finally realized by LeaseCollection, the source code is as follows:

\`\`\`rust
pub(crate) fn look_up(&self, lease_id: i64) -> Option<Lease> {
    self.inner.read().lease_map.get(&lease_id).cloned()
}

pub(crate) fn leases(&self) -> Vec<Lease> {
    let mut leases = self
        .inner
        .read()
        .lease_map
        .values()
        .cloned()
        .collect::<Vec<_>>();
    leases.sort_by_key(Lease::remaining);
    leases
}
\`\`\`

## 4. Summary

In this article, we have introduced Lease, an important interface of Xline, which allows users to realize the on-time expiration of a set of keys and renew the lease through KeepAlive interface. This feature also allows the server to monitor the client's status. Relying on these features of the Lease mechanism, many typical application scenarios have been born, such as distributed locks, service registries, authorization management and so on, as described in this article.
The article also explains how users can utilize the Lease interface, and outlines the realization of key functionalities within this process. If you want to learn more about the detailed code, you can also refer to our open source repository: https://github.com/xline-kv/Xline .

Xline is a geo-distributed KV storage for metadata management. the Xline project is written in Rust, and you are welcome to participate in our open source project!

GitHub link:  
https://github.com/xline-kv/Xline  
Xline official website: www.xline.cloud  
Xline Discord:  
https://discord.gg/XyFXGpSfvb
`,ck=`---
  cover: /xline-home/blog/Implementation-of-CURP-Server/cover.jpg
  author:
    name: Jiawei Zhao
    url: https://github.com/Phoenix500526
    img_url: https://avatars.githubusercontent.com/u/9337239?v=4
  read_time: 14
---

In the previous article, An Introduction to the CURP Protocol, we gave a preliminary introduction to the CURP Protocol. Now, lets continue from where we left off and delve into the internal workings of the CURP Server.

---

In the previous article, An Introduction to the CURP Protocol, we gave a preliminary introduction to the CURP Protocol. Now, lets continue from where we left off and delve into the internal workings of the CURP Server.

## Organization of the Curp Crates Source Code

Now, lets focus on the curp consensus module. The curp module is a separate crate in Xline, with all of its source code stored in the curp directory, which is organized as follows:

> curp/proto: Holds the definition of the rpc interfaces and messages related to the curp protocol.  
> curp/tla+: Holds content related to the tla+ specification of the curp protocol  
> curp/tests: integration tests  
> curp/src: the main implementation code of the CURP protocol, which can be divided into:  
> client.rs: CURP client-side implementation.  
> cmd.rs: defines key traits for interacting with external mods  
> log_entry.rs: state machine log entries.  
> rpc/: CURP server implementation of rpc methods.  
> server/: CURP server-side implementation, including the following

Key data structure definitions: cmd_board.rs, spec_pool.rs

Key background tasks: cmd_worker/, gc.rs

CURP server front and backend implementations: curp_node.rs, raw_curp/

storage/: implements the interface definition of the persistence layer, used to interact with the storage layer

## Curp Server Architecture and Task Division

After understanding the rpc services provided by Curp Server and the corresponding traits, lets take a look at the architecture and startup process of Curp Server.

![image1](/xline-home/blog/Implementation-of-CURP-Server/image1.png)

Architecturally, the entire Curp Server can be divided into the front-end CurpNode and the back-end RawCurp. Such a design primarily aims to separate synchronous and asynchronous code. Regarding Rusts asynchronous code:

1. For tasks spawned by tokio, since the compiler inherently doesnt know how long the task will run, it enforces that all tasks must have a static lifetime. This often requires us to clone certain reference data structures.
2. Non-Send variables, like MutexGuard, are prohibited from crossing .await statements. When synchronous and asynchronous code are mixed, it necessitates manually releasing this MutexGuard before the await, either within a block or through an explicit drop. This leads to nested code structures, making it more challenging to read.By separating CurpNode (handling synchronous requests) and RawCurp (handling asynchronous requests), the code boundaries are more transparent, enhancing code readability.

For insights on organizing asynchronous code gracefully in Rust projects, you can refer to another article: How to Gracefully Organize Asynchronous Code in Rust Projects.

Within the CurpNode structure, there are spec_pool and cmd_board structures. The spec_pool corresponds to the witness structure in the CURP paper, responsible for storing commands executed in the fast path. In contrast, cmd_board stores the results of command executions. CurpNode can register a listener to cmd_board. Once the RawCurp backend asynchronously completes command execution, the result is inserted into cmd_board, and CurpNode is notified via the listener to return the command execution outcome to the user. When RawCurp receives a request from CurpNode, it inserts the command into the conflict detection queue  the conflict_checked_channel.

As the name implies, a conflict_checked_channel is essentially an mpmc channel that accepts cmds from a CurpNode concurrently and dynamically maintains conflict relationships between different cmds to ensure that the commands a command worker receives from the channel will always conflict with the currently executing command.

As the name suggests, the conflict_checked_channel is essentially an mpmc channel, capable of concurrently accepting cmds from CurpNode. It dynamically maintains the conflict relationships between different cmds, ensuring that commands retrieved by the command worker from the channel always not conflict with the currently executed commands. The command worker is the command execution entity. While the conflict_checked_channel focuses on relationships between various commands, the command worker is concerned with how to execute the commands. After the command worker completes the command and obtains the result, it inserts the result into cmd_board, triggering the listener and notifying CurpNode that the command execution is finished.

## How Curp Server Interacts with Business Server

From the architecture diagram mentioned earlier, we can see that the Curp consensus module provides a Curp Server, which offers rpc services externally. In Xline, the Business Servers make requests to Curp Server via rpc calls. Once the Curp Server processes the request, it notifies the Business Server through the corresponding trait.

## Service Definitions

Lets first take a look at the services defined by Curp Server:

\`\`\`
service Protocol {
    rpc Propose (ProposeRequest) returns (ProposeResponse);
    rpc WaitSynced (WaitSyncedRequest) returns (WaitSyncedResponse);
    rpc AppendEntries (AppendEntriesRequest) returns (AppendEntriesResponse);
    rpc Vote (VoteRequest) returns (VoteResponse);
    rpc FetchLeader (FetchLeaderRequest) returns (FetchLeaderResponse);
    rpc InstallSnapshot (stream InstallSnapshotRequest) returns (InstallSnapshotResponse);
}
\`\`\`

The purposes of these services are:

- Propose: To initiate a proposal request to the Curp cluster.
- WaitSynced: To wait for the Curp cluster to complete requests in the after-sync phase.
- AppendEntries: To initiate a request to the Curp cluster to append state machine logs.
- Vote: When a Curp Server initiates an election, it transitions its role to Candidate and uses this interface to send voting requests to other Curp Servers. If it receives a majority of positive responses, it becomes the leader; otherwise, it reverts to follower.
- FetchLeader: To retrieve the current leader node of the Curp cluster.
- InstallSnapshot: If a Curp Servers state machine log lags significantly behind the leader, it can request a snapshot from the leader through this interface to catch up with the leaders state machine log. Except for Propose and FetchLeader, the other services are primarily for internal use by Curp Server. The Business Servers fetch the current leader information via FetchLeader and makes proposals to the Curp cluster through Propose.

## Interface Definitions

Next, lets see which traits are defined by the Curp module. From a design perspective, the traits defined in Curp can be divided into two categories:

1. Command-related: Once the Curp module reaches a consensus on a specific command, it notifies the Business Server to execute the corresponding command via related traits.
2. Role-related: When the role of a Curp node changes, it notifies the corresponding business component (e.g., Lessor, Compactor) via related traits.

### Command-related Traits

The command-related traits defined in the Curp module mainly include Command, ConflictCheck, and CommandExecutor. Lets first examine the Command and ConflictCheck traits, which are defined as:

\`\`\`rust
pub trait ConflictCheck {
    fn is_conflict(&self, other: &Self) -> bool;
}

#[async_trait]
pub trait Command{
    /// omit some code...

    #[inline]
    fn prepare<E>(&self, e: &E, index: LogIndex) -> Result<Self::PR, E::Error>
    where
        E: CommandExecutor<Self> + Send + Sync,
    {
        <E as CommandExecutor<Self>>::prepare(e, self, index)
    }

    #[inline]
    async fn execute<E>(&self, e: &E, index: LogIndex) -> Result<Self::ER, E::Error>
    where
        E: CommandExecutor<Self> + Send + Sync,
    {
        <E as CommandExecutor<Self>>::execute(e, self, index).await
    }

    #[inline]
    async fn after_sync<E>(
        &self,
        e: &E,
        index: LogIndex,
        prepare_res: Self::PR,
    ) -> Result<Self::ASR, E::Error>
    where
        E: CommandExecutor<Self> + Send + Sync,
    {
        <E as CommandExecutor<Self>>::after_sync(e, self, index, prepare_res).await
    }
}The Command trait describes a command entity that can be executed by Business Server. ConflictCheck detects whether conflicts exist between multiple commands. The conflict criterion is whether theres an intersection between keys of two different commands.
\`\`\`

Command defines four associated types (K, PR, ER, and ASR). Here, K represents the Key corresponding to the command, while ER and ASR correspond to the results of the command in the execute and after_sync phases of the Curp protocol, respectively. What does PR represent? PR denotes the result of the command in the prepare phase.

To explain the need for a prepare phase, lets consider an example. Since Xline employs the MVCC mechanism for multi-version management of key-value pairs, each key is assigned a revision. If a client sends two consecutive commands to Xline: PUT A=1 and PUT B=1 (denoted as cmd1 and cmd2) with expected revisions of 3 and 4, respectively, Xline can execute these two non-conflicting commands concurrently and out of order. If cmd2 finishes before cmd1, the revision order may be reversed, leading to errors.

To solve this, a prepare phase is introduced to Command. Curp ensures that the execution in the prepare phase is serialized and always precedes the execute phase. By moving the revision calculation from the after_sync phase to the prepare phase, Xline ensures that the revision order matches the order of user requests arriving at Xline while still allowing for concurrent out-of-order execution of non-conflicting commands.

Next, lets look at the CommandExecutor trait definition:

\`\`\`rust
#[async_trait]
pub trait CommandExecutor<C: Command>{
    fn prepare(&self, cmd: &C, index: LogIndex) -> Result<C::PR>;

    async fn execute(&self, cmd: &C, index: LogIndex) -> Result<C::ER>;

    async fn after_sync(
        &self,
        cmd: &C,
        index: LogIndex,
        prepare_res: C::PR,
    ) -> Result<C::ASR>;

    /// omit some code ...
}

\`\`\`

CommandExecutor describes the command execution entity. The Curp module uses it to notify the Business Server to execute related commands.

The relationship among these three traits is: ConflictCheck describes the relationship between two different commands; the Curp Server cares only about whether commands conflict, not how they are executed. CommandExecutor describes how commands are executed without concerning themselves with their interrelationships. Their dependency is CommandExecutor > Command  ConflictCheck.

### Traits for Role Change

The role-related trait defined in Curp is RoleChange:

\`\`\`rust
/// Callback when the leadership changes
pub trait RoleChange {
    /// The \`on_election_win\` will be invoked when the current server win the election.
    /// It means that the current server's role will change from Candidate to Leader.
    fn on_election_win(&self);

    /// The \`on_calibrate\` will be invoked when the current server has been calibrated.
    /// It means that the current server's role will change from Leader to Follower.
    fn on_calibrate(&self);
}
\`\`\`

In Xlines Curp module, the protocol backend uses the Raft protocol. The so-called backend means that when a conflict occurs, the Curp module automatically falls back to the Raft protocol. In this scenario, the latency to reach a consensus is the same as the Raft protocol, both being 2 RTT. As we know, the original Raft paper defined three roles for nodes in a Raft cluster: Leader, Follower, and Candidate, with their transition relationships as follows:

![image2](/xline-home/blog/Implementation-of-CURP-Server/image2.png)

Initially, a node is a Follower. If it doesnt receive any messages from the current cluster Leader within the election_timeout, including heartbeats or AppendEntries requests, it initiates an election operation and transitions to Candidate. If it wins the election, it becomes the Leader; otherwise, it reverts to the Follower. If a network partition occurs, two Leaders might emerge. Once the network partition resolves, the Leader with a smaller term will calibrate itself upon receiving any message from the Leader with a larger term, updating its term and transitioning to the Follower.

Why does Xline need to define a trait like RoleChange? In some Xline business scenarios, some components, like LeaseServer and LeaseStore, perform different operations on Leader node and non-Leader nodes. Thus, when a nodes role changes, the corresponding components need to be notified. Currently, because Lease-related components only differentiate between Leader and non-Leader nodes, the defined callback only covers the election_win and calibrate events. If future business requires finer-grained role differentiation, more callback methods will be added to cover those requirements.

## How Curp Server Handles Requests

Lets assume there are two PutRequests: PUT A=1 and PUT A=2. Lets see how the curp server handles these conflicting requests. As mentioned earlier, users need to initiate a proposal to Curp Server through the propose method of the Curp Client. Lets first look at the pseudocode implementation of propose.

\`\`\`rust
/// Propose the request to servers
#[inline]
pub async fn propose(&self, cmd: C) -> Result<C::ER, ProposeError> {
    // create two futures
    let fast_round = self.fast_round(cmd);
    let slow_round = self.slow_round(cmd);

    // Wait for the fast and slow round at the same time
    match which_one_complete_first(fast_round, slow_round).await {
        fast_round returns fast_result => {
            let (fast_er, success) = fast_result?;
            if success {
                Ok(fast_er.unwrap())
            } else {
                let (_asr, er) = wait for slow_round to finish;
                Ok(er)
            }
        }
       slow_round returns slow_result => match slow_result {
            Ok((_asr, er)) => Ok(er),
            Err(e) => {
                if let Ok((Some(er), true)) = wait for fast_round to finish {
                    return Ok(er);
                }
                Err(e)
            }
        },
    }
}
\`\`\`

As the code suggests, when a Client calls propose, it simultaneously starts two different futures, namely fast_round and slow_round, corresponding to the fast path and slow path of the Curp protocol, respectively. The process waits for one of the futures to complete. Clearly, when the first request arrives, there will be no conflict with other requests. Thus, it can be assumed that this request will be processed during the fast round. Lets first look at the implementation of fast_round.

## Curp Consensus Process  Fast Round

The fast_round code is defined in curp/src/client, corresponding to the frontend process of the Curp protocol.

\`\`\`rust
/// The fast round of Curp protocol
/// It broadcasts the requests to all the curp servers.
async fn fast_round(
    &self,
    cmd_arc: Arc<C>,
) -> Result<(Option<<C as Command>::ER>, bool), ProposeError> {
    let request = create a new ProposeRequest;
    let mut rpcs = broadcast request to each node and put responses into a stream;

    let mut ok_cnt: usize = 0;
    let mut execute_result: Option<C::ER> = None;
    let superquorum = superquorum(self.connects.len());

    while let Some(resp_result) = rpcs.next().await {
        let resp = match resp_result {
            Ok(resp) => resp.into_inner(),
            Err(e) => {
                warn!("Propose error: {}", e);
                continue;
            }
        };

        update_state(resp.term, resp.leader_id);

        resp.map_or_else::<C, _, _, _>(
            |er| {
                if let Some(er) = er {
                    execute_result = Some(er);
                }
                ok_cnt += 1;
                Ok(())
            },
            |err| {
                if let ProposeError::ExecutionError(_) = err {
                    return Err(err);
                }
                Ok(())
            },
        )??;
        if (ok_cnt >= superquorum) && execute_result.is_some() {
            return Ok((execute_result, true));
        }
    }
    Ok((execute_result, false))
}
\`\`\`

Overall, the logic of fast_round can be divided into three steps:

1. Wrap Command into the corresponding ProposeRequest.
2. Broadcast the ProposeRequest to all nodes in the Curp cluster.
3. Summarize the results. If the current Command doesnt conflict with the others, a successful execution result will be obtained. If the number of successful ProposeResponses received exceeds the super quorum (approximately 3/4 of the cluster node count), the command is deemed successfully executed; otherwise, it fails.

Some readers might wonder why, in a distributed cluster with 2f + 1 nodes, consensus protocols like Raft or Paxos only need f + 1 nodes to return a successful response, but Curp requires more than f + f/2+1 nodes to return successful responses in the fast path. Here, f represents the fault tolerance of the cluster. To understand this discrepancy, lets consider what would happen if the Curp protocol also used f+1as the criterion for success in the fast path.

Assume Client_A broadcasts ProposeRequest (marked as A) to 2f + 1 nodes and receives f + 1 successful responses. There must be one leader node among them, with the remaining f nodes being followers. Suppose f nodes, including the leader, crashed and all had request A. Among the remaining f+1 nodes, only one follower retains request A in its in-memory spec_pool. Then, the client broadcasts another ProposeRequest (marked as B, conflicting with A). Since each node uses its in-memory spec_pool to determine whether incoming requests conflict with speculatively executed requests, even though Client_B wont receive a successful result, request B will still be saved in the spec_pool of f nodes. If the leader node recovers and replays all requests saved in spec_pool across all nodes to restore the state machine (a process we call recover), the originally executed request A becomes the minority, while the unsuccessfully executed request B becomes the majority. This leads to an error during the leaders recovery process.

When the Curp protocol usesf+ f/2+ 1 as the criterion for success in the fast path, even if all f nodes containing request A crash, there are still more than half the nodes in the remaining f + 1 nodes that retain the request. This ensures that a later conflicting request will not outnumber the originally successfully executed request.

Returning to our example, since Curp Server didnt encounter conflicts when processing the request PUT A=1, it smoothly completes in the fast_round. For the Leader node, the request goes through CurpNode, to RawCurp, to the conflict detection queue Conflict_Checked_MPMC, and finally handed over to cmd_worker for execution. After the cmd_worker executes PUT A=1, it inserts the corresponding result into cmd_board, notifying CurpNode to return the command execution response to the Client. The following diagram depicts the sequence of events in the fast_round process.

![image3](/xline-home/blog/Implementation-of-CURP-Server/image3.png)

## Curp Consensus Process  Slow Round

When the Client sends the request PUT A=2 to the Curp Server, as known from the previous propose method, the Client will simultaneously start both the fast_round and slow_round futures. Clearly, since the request PUT A=2 is in obvious conflict with the previous request PUT A=1, fast_round cannot be successfully executed, hence waiting for the completion of slow_round. The code for slow_round is defined in curp/src/client, corresponding to the backend process of the Curp protocol, i.e., the wait_synced process.

\`\`\`rust
/// The slow round of Curp protocol
async fn slow_round(
    &self,
    cmd: Arc<C>,
) -> Result<(<C as Command>::ASR, <C as Command>::ER), ProposeError> {
    loop {
        let leader_id = self.get_leader_id().await;

        let resp = match call wait_synced from leader node {
            Ok(resp) => resp.into_inner(),
            Err(e) => {
                wait for retry_timeout to retry propose again;
                continue;
            }
        };

        match resp? {
            SyncResult::Success { er, asr } => {
                return Ok((asr, er));
            }
            SyncResult::Error(Redirect(new_leader, term)) => {
                let new_leader = new_leader.and_then(|id| {
                        update_state(new_leader, term)
                    })
                });
                self.resend_propose(Arc::clone(&cmd), new_leader).await?; // resend the propose to the new leader
            }
            SyncResult::Error(Timeout) => {
                return Err(ProposeError::SyncedError("wait sync timeout".to_owned()));
            }
            SyncResult::Error(e) => {
                return Err(ProposeError::SyncedError(format!("{e:?}")));
            }
        }
    }
}Overall, the slow_round logic can also be divided into two steps:
\`\`\`

1. Obtain the current leader of the cluster and send a WaitSyncedRequest to it.
2. Wait for the leader to return the execution result of WaitSyncedRequest. If failed, wait for retry_timeout and try again.

In the Clients propose method, because fast_round determines that the newly arrived request conflicts with the previously speculatively executed request, RawCurp will first save this Command in the state machine log and initiate an AppendEntries request to the cluster. After completion, it will return a ProposeError::KeyConflict error to the client, waiting for the end of slow_round. After the Leader completes the AppendEntries operation to the Followers in the cluster, the apply operation will be performed to apply the log to the state machine. Its during this process that the leader will send the Command to the conflict detection queue, Conflict_Checked_MPMC. Only after the cmd_worker has executed all commands conflicting with PUT A=2 can the PUT A=2 command be popped from the conflict detection queue for execution. Unlike fast_round, in the slow_round process, after the command is executed and the execution result is saved in cmd_board, it will not return directly. Instead, the command will be put back into the conflict detection queue until the command completes the after_sync operation and saves the corresponding result to cmd_board. Only then will it return to CurpNode and finally return the corresponding ProposeResponse to the Client. The sequence diagram for the entire slow_round operation is as follows:

![image4](/xline-home/blog/Implementation-of-CURP-Server/image4.png)

## Summary

In this article, we discussed how the Curp Server in Xline interacts with the business Servers. The business Server initiates requests to the Curp Server through the RPC interfaces predefined by Curp Server. Curp Server, on the other hand, notifies the business Server through two different types of traits. The command-related Traits, such as Command, ConflictCheck, and CommandExecutor, are mainly responsible for notifying the business Server after reaching consensus on commands. The RoleChange trait mainly notifies the business Server when the role of a cluster node changes.

In Xline, the Curp Server is divided into two parts: the front-end CurpNode and the backend RawCurp. CurpNode mainly handles synchronous RPC call requests and forwards the requests to RawCurp for asynchronous execution. RawCurp submits commands to the conflict_checked_channel, with the command workers responsible for execution. After execution, the result is inserted into cmd_board, notifying CurpNode of the execution result.
`,uk=`---
  cover: /xline-home/blog/CURP-State-Machine-Engine/cover.png
  author:
    name: Jiawei Zhao
    url: https://github.com/Phoenix500526
    img_url: https://avatars.githubusercontent.com/u/9337239?v=4
  read_time: 20
---

In the previous article on code interpretation, we briefly explained how the CurpServer of Xline is implemented. Now, let's delve deeper into some core data structures in the CurpServer, particularly the conflict_checked_channel and command worker, as they collaborate to drive the state transitions of the internal state machine in the CurpServer.

---

In the previous article on code interpretation, we briefly explained how the CurpServer of Xline is implemented. Now, let's delve deeper into some core data structures in the CurpServer, particularly the conflict_checked_channel and command worker, as they collaborate to drive the state transitions of the internal state machine in the CurpServer.

## Why do we need a conflict detection queue?

The conflict detection queue serves as a multi-producer multi-consumer channel, and its primary responsibility is to maintain dynamical conflict relationships. It ensures that, at any given time, all receivers will not receive conflicting commands. The order of commands received by the receiver (referred to as the "conflict order") follows these criteria:

1. If cmd A conflicts with cmd B, and A is enqueued before B, A will be dequeued first. B can only be dequeued after A has executed.
2. If cmd A doesn't conflict with cmd B, and A is enqueued before B, they will be dequeued in FIFO order, with A dequeued first and B afterwards.

Understanding this in text might seem abstract, but no worries. Let's look at a simple example: Assume we now have commands A, B, and C. They enter the conflict detection queue in the order A, B, and C. Where A conflicts with B, and C does not conflict with either A or B, the initial state of the conflict detection queue is as follows:

![](/xline-home/blog/CURP-State-Machine-Engine/image1.PNG)

After A, B, and C enter the queue, three different cmd_workers retrieve commands from the channel. Since cmd_worker_1 receives A first, B remains in the queue due to its conflict with A. C, having no conflicts, can be received by cmd_worker_2. B will only be dequeued after A has been executed and dropped, as illustrated in the following diagram:

![](/xline-home/blog/CURP-State-Machine-Engine/image2.PNG)

Some readers might question why we introduce another conflict detection queue when the spec_pool's duty is to determine conflicts in the fast path, corresponding to the "witness" in the CURP paper. There are two main reasons for this:

1. Every command, whether it's on the fast path or the slow path, must ultimately be executed on the leader. Hence, the leader must find a reasonable execution order among these mixed commands to ensure the execution does not break CURP's assumptions about command execution order. Spec_pool only stores commands executable in the fast path and doesn't involve commands in the slow path.
2. During the consensus process, we first determine whether a command exists in the spec_pool. This is a synchronous operation. If we put the complicated conflict order calculations into the spec_pool, it would easily create a bottleneck. Hence, we split the responsibilities of determining conflicts and calculating conflict order, placing the former in the synchronous spec_pool and the latter in the asynchronous conflict detection queue.

## How does the conflict detection queue work?

To understand the working principle of the conflict detection queue, we need to address two questions:

1. How should we model the conflict relationships?
2. Given dynamic conflict relationships, how do we quickly identify all non-conflicting commands?

For the first question, we can view all commands as vertices in a Directed Acyclic Graph (DAG), with the conflict relationships represented as directed edges between vertices. Suppose there's a conflict between command A and command B (A arrives before B), we can represent this conflict with an arc <A, B>, where the head of the arc always points to the later-arriving vertex (this ensures no cycles in the graph).

Once we define the conflict relationship as an edge in a disconnected DAG, the problem of determining the conflict order when executing a command becomes a matter of finding the topological order of the connected component in the DAG that the command belongs to. For each command, successors store which cmds conflict with the current cmd. The length of successors represents the out-degree of the vertex. Predecessor_cnt represents the in-degree, indicating how many preceding cmds conflict with the current cmd.

Returning to the earlier example of commands A, B, and C, when using a DAG to describe their conflict relationships, the situation is shown in the following diagram:

![](/xline-home/blog/CURP-State-Machine-Engine/image3.PNG)

When cmd_workers retrieve commands from the channel, the channel only needs to traverse each connected component of this DAG and find the first vertex with an in-degree of 0. Only after the command has been executed will the channel update B's predecessor_cnt to resolve the conflict between A and B.

## Architecture of the state machine engine

As mentioned at the beginning of this article, the conflict detection queue and command worker together constitute the state machine engine of CurpServer. The conflict detection queue supplies conflict-free commands to the command workers, which then executes these commands and updates the conflict relationships in the conflict detection queue based on the results.

Structurally, the CurpServer's state machine engine consists of three pairs of channels and a filter. These three channel pairs are:
(send_tx, filter_rx), (filter_tx, recv_rx), and (done_tx, done_rx). The specific structure can be seen in the diagram below:

![](/xline-home/blog/CURP-State-Machine-Engine/image4.PNG)

The data flow direction is: send_tx -> filter_rx -> filter -> filter_tx -> recv_rx -> done_tx -> done_rx.

Here, the send_tx owned by the RawCurp object is responsible for sending the corresponding CEEvent to the Conflict Detection Queue during propose (corresponding to CURP's fast path) and applying logs (corresponding to CURP's slow path). After determining the conflict order, the Conflict Detection Queue converts the CEEvent into a Task and delivers it to the command worker for execution via (filter_tx, recv_rx). After executing the Task, the command worker sends the results back to the Conflict Detection Queue through (done_tx, done_rx) and updates the vertex information in the dependency graph.

## How States Transition

To understand the working principle of a state machine, we need to address the following two questions:

1. What events and states are provided by the state machine?
2. Which events will cause the state to transition?

Let's first look at the events provided by the Curp Server's state machine engine.

\`\`\`rust
/// Event for command executor
enum CEEvent<C> {
    /// The cmd is ready for speculative execution
    SpecExeReady(Arc<LogEntry<C>>),
    /// The cmd is ready for after sync
    ASReady(Arc<LogEntry<C>>),
    /// omit some code...
}

/// CE task
struct Task<C: Command> {
    /// Corresponding vertex id
    vid: u64,
    /// Task type
    inner: TaskType<C>,
}

/// Task Type
enum TaskType<C: Command> {
    /// Execute a cmd
    SpecExe(Arc<LogEntry<C>>, Option<C::Error>),
    /// After sync a cmd
    AS(Arc<LogEntry<C>>, C::PR),
    /// omit some code...
}
\`\`\`

From the previous description, we can see that the main events of the CurpServer's state machine engine can be divided into two types. One type is CEEvent, which describes the information of the command itself, including the source of the command. Here, SpecExeReady indicates that the command comes from the fast path, while ASReadey indicates that it comes from the slow path. The other type is Task, describing the vertex id of the command in the dependency graph and the operations that the current command needs to perform.

The state machine engine of CurpServer also defines the following states:

\`\`\`rust
/// Execute state of a cmd
enum ExeState {
    /// Is ready to execute
    ExecuteReady,
    /// Executing
    Executing,
    /// Has been executed, and the result
    Executed(bool),
}

/// After sync state of a cmd
enum AsState<C: Command> {
    /// Not Synced yet
    NotSynced(Option<C::PR>),
    /// Is ready to do after sync
    AfterSyncReady(Option<C::PR>),
    /// Is doing after syncing
    AfterSyncing,
    /// Has been after synced
    AfterSynced,
}
\`\`\`

Here, ExeState represents the execution state of the command, while AsState represents whether the command has completed the after_sync phase. CurpServer uses a combination of ExeState and AsState to represent different stages in the command execution process. The semantics represented by different states are as follows:

- (ExecuteReady, NotSynced(None)): Represents that the command is ready to proceed to the execute phase and that the command belongs to the fast path. There's no need to wait for the after_sync to complete before returning results to the user. This state is also the initial state of the state machine engine in the fast path.
- (ExecuteReady, AfterSyncRead(None)): Indicates the command is ready for the execute phase and belongs to the slow path. It needs to wait for after_sync to finish before results can be returned to the user. This is also the initial state of the state machine engine in the slow path.
- (Executing, NotSynced(Some(C::PR))): Represents successful pre_execute execution of the command, having obtained the execution result of pre_execute as Some(C::PR), and the command has also entered the execution state.
- (Executing, NotSynced(None)): Represents the failure of the command's pre_execute phase.
- (Executed(true), NotSynced(Some(C::PR))): Represents successful command execution.
- (Executed(false), NotSynced(None)): Indicates a command failure in the fast path.
- (Executed(true), AfterSyncRead(LogIndex, Some(C::PR))): Indicates the command has been executed and is preparing for the after_sync phase.
- (Executed(true), AfterSyncing): Represents the command has been executed and is currently in the after_sync phase.
- (Executed(true), AfterSynced): Indicates the successful command execution, and the after_sync phase was also successful.
- (Executing, AfterSyncReady(Some(C::PR))): Represents the command is executing and is preparing for the after_sync phase.
- (Executing, AfterSyncReady(None)): Represents the failure of the command's pre_execute phase.
- (Executed(false), AfterSyncReady(None)): Indicates a command failure in the slow path.

The relationship between various state transitions is as follows:

![](/xline-home/blog/CURP-State-Machine-Engine/image5.png)

## Summary

In Xline, whether commands are from the fast path or the slow path, these commands will eventually be executed on the leader node. It is evident that just relying on spec_pool to determine if there's a command conflict is not enough. This is because spec_pool can only judge whether a new command conflicts with a command that is currently in the execute phase but hasn't gone through the after_sync yet. It cannot dynamically maintain command conflict relationships. To address the dynamic maintenance of conflict relationships, we introduced the Conflict Detection Queue and constructed the CurpServer's state machine engine in conjunction with the command worker. Through the execution by the command worker, commands from different paths (fast path and slow path) can transition states based on their current state and return corresponding results to users.
`,dk=`---
  cover: /xline-home/blog/Xline-Command-Deduplication-Mechanism-(Part-One)Introduction-to-RIFL/cover.png
  author:
    name: Wenhui Tang
    url: https://github.com/iGxnon
    img_url: https://avatars.githubusercontent.com/u/59405399?v=4
  read_time: 20
---

In a system that receives external commands, it is common for a command to be executed at least once, which we refer to as at-least-once semantics. If a command fails, the system often implements a retry mechanism to attempt to resolve the issue. This raises a problem: repeated submission of the same command can impact the system's state.

---

## Why is deduplication of commands necessary?

In a system that receives external commands, it is common for a command to be executed at least once, which we refer to as at-least-once semantics. If a command fails, the system often implements a retry mechanism to attempt to resolve the issue. This raises a problem: repeated submission of the same command can impact the system's state.

For example, to achieve linearizable semantics (where each user operation appears to be executed immediately, exactly once, and at some point between its invocation and response), it's necessary to deduplicate commands. In Raft implementations without command deduplication, a command might be executed multiple times. The leader might crash after committing but before responding to the client, and if the client retries the same command with a new leader, the command could be executed twice.

There are two solutions to this problem: one is similar to the etcd approach, which distinguishes between commands that can be retried and commands that cannot be retried, and returns the error results of the commands that cannot be retried to the user, without providing any guarantees, even though the command may have already been executed by the system. Another option is to implement a command tracking mechanism that checks the commands executed in the system to realize command de-duplication. When the system implements this deduplication mechanism, it can realize exactly-once semantics of command execution, and thus realize a higher level of consistency assurance.

The implementation of retries in etcd's gRPC client interceptor:

\`\`\`go
// unaryClientInterceptor returns a new retrying unary client interceptor.
//
// The default configuration of the interceptor is to not retry *at all*. This behaviour can be
// changed through options (e.g. WithMax) on creation of the interceptor or on call (through grpc.CallOptions).
func (c *Client) unaryClientInterceptor(optFuncs ...retryOption) grpc.UnaryClientInterceptor {
    intOpts := reuseOrNewWithCallOptions(defaultOptions, optFuncs)
    return func(ctx context.Context, method string, req, reply interface{}, cc *grpc.ClientConn, invoker grpc.UnaryInvoker, opts ...grpc.CallOption) error {
       ctx = withVersion(ctx)
       grpcOpts, retryOpts := filterCallOptions(opts)
       callOpts := reuseOrNewWithCallOptions(intOpts, retryOpts)
       ...
       var lastErr error
       for attempt := uint(0); attempt < callOpts.max; attempt++ {
          if err := waitRetryBackoff(ctx, attempt, callOpts); err != nil {
             return err
          }

          ...

          lastErr = invoker(ctx, method, req, reply, cc, grpcOpts...)
          if lastErr == nil {
             return nil
          }

          ...

          // Retry here
          if !isSafeRetry(c, lastErr, callOpts) {
             return lastErr
          }
       }
       return lastErr
    }
}
\`\`\`

## At what stage is deduplication completed?

First, it's important to understand the purpose of deduplication: to prevent duplicate commands from affecting the state machine. There are two stages where commands can be deduplicated: upon receiving the command and when applying it to the state machine.

Regardless of the method, a data structure is needed to track the progress of received and executed commands for deduplicating incoming client commands.

Deduplicating commands at the stage of applying them to the state machine naturally involves using the backend storage of the state machine to retrieve previously executed commands (for example, Log::get_cmd_ids can retrieve all command IDs in the log). This set of command IDs can be used to deduplicate commands about to be applied to the state machine.

To deduplicate upon receiving a command, an additional data structure must be maintained, typically in memory for efficient read-write access. This structure should not occupy a significant amount of memory and may need a garbage collection mechanism.

For the first approach, a primary issue is that log compaction mechanisms can render the deduplication ineffective. In Raft systems, log compaction is implemented to prevent excessive memory usage by logs. If a command log has been compacted, deduplication for the repeated command becomes impossible. Secondly, duplicate commands still undergo preparation and speculative execution before being sent to the state machine, consuming additional CPU. Finally, accessing the state machine is costly, and this method of deduplication can significantly impact performance.

Therefore, it's more efficient to deduplicate commands upon receipt, rejecting duplicate command submissions as early as possible.

## Current Flaws in Command Deduplication Design

In Xline CURP, commands are implemented as a trait by external mechanisms. Unlike etcd, we do not differentiate the retry behavior of some commands, so we have not defined retry characteristics in the command trait.

Currently, the CURP client retries all commands, so a simple deduplication mechanism has been implemented in the curp server:

The CommandBoard contains an IndexSet<ProposeId> for recording the IDs of previously executed commands.

\`\`\`rust
/// Command board is a buffer to track cmd states and store notifiers for requests that need to wait for a cmd
#[derive(Debug)]
pub(super) struct CommandBoard<C: Command> {
    ...
    /// The cmd has been received before, this is used for dedup
    pub(super) sync: IndexSet<ProposeId>,
    ...
}
\`\`\`

Thus, we can deduplicate commands at the propose stage with an O(1) overhead.

\`\`\`rust
pub(super) fn handle_propose(
        &self,
        cmd: Arc<C>,
    ) -> Result<((Option<ServerId>, u64), Result<bool, ProposeError>), CurpError> {
        ...
        if !self.ctx.cb.map_write(|mut cb_w| cb_w.sync.insert(id)) {
            return Ok((info, Err(ProposeError::Duplicated)));
        }
        ...
    }
\`\`\`

To ensure that CURP does not lose the IDs of commands currently being executed during a leadership transfer, this structure is also restored in the recovery of the Speculative Pool.

\`\`\`rust
/// Recover from all voter's spec pools
    fn recover_from_spec_pools(
        &self,
        st: &mut State,
        log: &mut Log<C>,
        spec_pools: HashMap<ServerId, Vec<PoolEntry<C>>>,
    ) {
        ...
        for cmd in recovered_cmds {
            let _ig_sync = cb_w.sync.insert(cmd.id()); // may have been inserted before
            ...
        }
    }
\`\`\`

Finally, to prevent the IndexSet<ProposeId> from occupying too much memory, the GC mechanism mentioned in the Xline source code analysis article periodically clears this structure.

However, under extreme network conditions, if the interval between a client initiating a command and receiving a response exceeds the GC interval, the ProposeId recorded in the IndexSet might be cleared by GC. In such cases, if the client retries the command, the deduplication mechanism would fail. We observed this extreme scenario in madsim tests (due to madsim's clock running much faster than real time, this issue was triggered), necessitating a new deduplication structure to address the problem. The latter part of this article will introduce the working principle of RIFL (Reusable Infrastructure for Linearizability) and how it is applied in CURP.

## Introduction to RIFL

[RIFL (Reusable Infrastructure for Linearizability)](https://web.stanford.edu/~ouster/cgi-bin/papers/rifl.pdf) is an infrastructure designed to ensure exactly-once semantics for RPCs (remote procedure calls) in large-scale clusters. To align the terminology of RIFL with that of the Xline system, in this context, RPCs and Commands are synonymous.

## Overview of RIFL

In RIFL, each RPC is assigned a unique identifier, composed of a 64-bit client_id and a 64-bit incrementing sequence_number under this client_id.

A system-wide structure, typically a Lease Manager module in RIFL, generates the client_id. This module assigns a client_id to each client and creates a corresponding lease, which clients must continually keep alive. Servers need to check this lease to determine if a client has crashed.

Furthermore, RIFL requires persistent tracking and recording of completed RPCs. During system migrations, these completion records must also be transferred to ensure that RIFL maintains the non-repetition of RPCs during the migration process. RPCs that have been executed previously will directly retrieve their prior completion records.

Finally, RPC completion records should be cleared upon client confirmation (or after a client crash) to safely remove unnecessary storage.

## Specific Components and Functions of RIFL

The following are key components of RIFL and their corresponding functions:

1. Request Tracker (Client-Side): Tracks commands sent by the client.
   - newSequenceNum(): Generates an incrementing sequence number for an RPC.
   - firstIncomplete(): Retrieves the current smallest sequence number for which the RPC response has not been received.
   - rpcComplete(sequenceNumber): Marks the given sequenceNumber as received, which is later used to update firstIncomplete.
2. Lease Manager: A unified Lease Manager module where clients renew their client_id, and servers check the expiration of client_id leases.
   - getClientId(): Clients obtain their client_id, or request the lease server to create one if it doesn't exist.
   - checkAlive(clientId): Servers check whether the lease for a given client_id has expired to determine if the client is alive.
3. Result Tracker (Server-Side): Tracks received commands and the progress confirmed by the client.
   - checkDuplicate(clientId, sequenceNumber): Determines if an RPC is a duplicate based on completion records.
   - recordCompletion(clientId, sequenceNumber, completionRecord): Marks an RPC as executed and stores the completionRecord before returning to the client.
   - processAck(clientId, firstIncomplete): Recycles all completion records for RPCs preceding firstIncomplete for a client.

![](</xline-home/blog/Xline-Command-Deduplication-Mechanism-(Part-One)Introduction-to-RIFL/image1.png>)

When a server receives an RPC (client_id, seq_num, first_incomplete), it checks the RPC's status using checkDuplicate:

1. NEW: A new RPC, processed according to standard logic.
2. COMPLETED: An already completed RPC, returning the completion record.
3. IN_PROGRESS: An RPC that is currently being executed, returning an IN_PROGRESS error.
4. STALE: An RPC that has been acknowledged and recycled by the client, returning a STALE error.

Additionally, the server uses the first_incomplete field from the incoming RPC to call processAck, recycling the completion records of acknowledged RPCs. Lastly, when an RPC is completed and before returning to the client, recordCompletion is called to persist the completion record and mark the RPC as COMPLETED.

Furthermore, the server checks if the client_id's lease is still valid to determine if a client is alive. If the lease has expired, all completion records under that client_id are recycled.

## Performance Analysis of RIFL

In the RIFL architecture, a noticeable overhead arises from the communication between clients and servers with the Lease Manager. The RIFL paper mentions that servers can cache the expiration time of a client_id lease and query the Lease Manager only as it nears expiration, reducing network communication.

In the aforementioned processes, either checkDuplicate or processAck involves at least one O(n) complexity operation (either checking duplicates in sequenceNumber order or filtering unordered sequenceNumbers but needing to traverse and filter those less than first_incomplete for processAck). Compared to the O(1) complexity of the previous IndexSet approach, RIFL incurs some additional overhead. Performance can be optimized by making processAck a separate RPC to notify the server to recycle completion records.

Finally, since the first mechanism for recycling only checks first_incomplete, it may encounter a long-running RPC that blocks the recycling of subsequent RPC completion records, potentially leading to excessive memory usage on the server. The RIFL paper suggests setting a maximum number of inflight RPCs for a client, refusing excess RPCs, and considering early recycling of subsequent RPC completion records, which could make RIFL more complex.

## Summary

The above describes the mechanism by which RIFL maintains exactly-once semantics for unary RPCs. Section 6 of the RIFL paper, titled "Implementing Transactions with RIFL," details the mechanism for maintaining exactly-once semantics for transactions involving multiple objects. However, as transactions in the Xline system are sent to the server as a single command, they do not require separate handling. Readers interested in this aspect can refer to the paper for more details, as it will not be elaborated upon here.

The first half of this article begins with the need for command deduplication and discusses the existing problems with the current deduplication mechanism in Xline. The latter half details the working principle of RIFL (Reusable Infrastructure for Linearizability) and provides a performance analysis. Future articles will continue to discuss how RIFL is applied in Xline, along with necessary modifications and optimizations made to RIFL.
`,hk=`---
  cover: /xline-home/blog/Analysis-of-Xline-Jepsen-Tests/cover.png
  author:
    name: Zhenghao Yin
    url: https://github.com/bsbds
    img_url: https://avatars.githubusercontent.com/u/69835502?v=4
  read_time: 10
---

In this article, we will mainly introduce the application of Jepsen in the testing of a distributed KV storage Xline. This includes an introduction to the chaos engineering framework Jepsen, a explanation to consistency models, and an analysis of the testing results.

---

## Abstract

In this article, we will mainly introduce the application of Jepsen in the testing of a distributed KV storage Xline. This includes an introduction to the chaos engineering framework Jepsen, a explanation to consistency models, and an analysis of the testing results.

## Introduction

First, lets get an overview of Xline and the Jepsen testing framework.

## Xline

[Xline](https://github.com/xline-kv/Xline) is a distributed key-value storage and it is currently a CNCF sandbox project. Similar to etcd, Xline provides a consistent key-value storage, as well as other functionalities such as watch and distributed locks.

Xline provides an etcd-compatible API, but its main difference from etcd lies in the consensus protocol.

Xline uses [CURP](https://www.usenix.org/system/files/nsdi19-park.pdf) as its consensus protocol, which allows it to achieve consensus within 1-RTT (Round Trip Time) in most cases, while Raft requires at least 2-RTT to achieve consensus. Therefore, Xline can achieve higher performance in high-latency environments.

## Jepsen

[Jepsen](https://github.com/jepsen-io/jepsen) is a framework for validating distributed systems, belonging to the field of chaos engineering. It provides consistency checks and fault injection capabilities. Specifically, Jepsen performs black-box testing, where it simulates complex real-world deployment environments and performs a series of operations on the database. After the testing is complete, it uses consistency checkers to verify whether the results comply with the consistency guarantees of the database.

## Checkers

Jepsen uses checkers to perform consistency checks on the execution results. Currently, Jepsen has two types of checkers: Knossos and Elle.

Knossos is used to check if the results are linearizable, and Elle is used to check the consistency of database transactions.

It is important to note that these checkers cannot guarantee the detection of all inconsistencies, as linearizability and serializability checkings are both NP-complete problems [1][2]. Jepsens checkers limit the scope of calculations to complete the testing within a shorter time frame.

## Nemesis

The fault injection component in Jepsen is called nemesis. Jepsen has some built-in nemesis options:

- kill, which can kill the processes of the database on certain nodes
- pause, which can pause the processes of the database on certain nodes
- partition, which creates network partitions between arbitrary two nodes, such as majority/minority partitions
- clock, which can skew the system clocks on certain nodes

These components can simulate common software and hardware faults in distributed system deployment environments. Additionally, Jepsen, being a highly flexible framework, allows users to customize their own nemesis. For example, for etcd, we can make membership changes in the cluster also be a nemesis, so that is can adds/deletes nodes in the testing. Therefore, nemesis can not only be used for fault injection but also to trigger some events that may occur in the system.

## Jepsen Testing Design

Next, I will provide a detailed analysis of the etcd Jepsen testing design and explain how we applied Jepsen testing on Xline.

## Data Consistency

First, let me briefly introduce three consistency models as the background for the following analysis. They are Serializability, Linearizability, and Strict Serializability. More detailed information about these consistency models can be found on the Jepsen official website [3].

## Serializability

Serializability is a transaction model that applies to multiple objects (e.g., multiple keys in etcd), where each transactions operations are atomic. It has several characteristics:

- Internal Consistency: A read operation in a transaction can observe the results of all previous write operations.
- External Consistency: A read in one transaction, denoted as T1, can observe a write in another transaction, denoted as T0. We call this T0 is visible to T1.
- Total Visibility: All visibility relationships form a total order. Which also means that there are some transactions that do not have this visibility relationship, applying this visibility relationship to all transactions forms a partial order.

## Linearizability

Linearizability applies to a single object, and each operation is also atomic. All operations appears in a real-time order, which means that the order of the operation results reflects the specific time of completion.

## Strict Serializability

Strict Serializability combines Serializability and Linearizability, achieving the strongest consistency guarantee. It can be viewed as Linearizability for multiple objects. At this point, we not only guarantee total visibility, but also requires that all transactions appears in a real-time order.

## Jepsen etcd Test

First, let me briefly introduce Jepsens testing design for etcd. Etcd uses the Strict Serializability Model for its consistency. Jepsen has developed the following tests for etcd:

## Registers

Registers are a built-in model in Knossos for checking linearizability. Since linearizability applies to a single object, a register is used to represent a single object, supporting read/write/compare-and-set operations. Knossos verifies whether all operations result on registers are linearizable.

## Sets

Sets test for stale reads. Etcd supports allowing stale reads to improve read performance, but it is disabled by default. The Sets test only has a compare-and-set operation, which performs multiple operations on a single key and checks if the results are serializable. In other words, it checks whether each CAS operation occurs atomically.

## Append

The Append test checks for strict consistency and has two operations: read and append. Append means treat the value of a key as a list. The append operation appends an element to this list.

The way to implement append is to first read the value of a key from etcd, and then check if the value has changed within a transaction. If it has not changed, the new value after the append is written.

In this test, not only should all transactions occur atomically, Jepsen also checks if these transactions occur in a real-time order.

## WR

The WR test performs read/write operations on multiple keys using transactions and it also checks for strict serializability.

## Jepsen Xline Test

The Jepsen testing framework consists of four main parts: DB, Client, Checkers, and Nemesis. Each part is a separate interface that users can implement. Since Xline implements an etcd-compatible API, we reused Jepsens tests for etcd for Xline. Based on these tests, we implemented the DB interface for Xline in Jepsen. Xline also has its own client SDK that uses CURP consensus, and we also implemented the client interface for this in Jepsen. So the tests are actually divided into compatibility tests for the etcd client and tests for the Xline native client (currently untested).

## Test Result Analysis

Next, I will explain in detail the Xline Jepsen test results and the issues we identified.

## Test Results

In the initial tests, we encountered quite a few problems, with the majority of issues related to the transactional operations in Xline. Some of these issues were minor bugs, while others were design vulnerabilities. Debugging and identifying these problems actually took a considerable amount of time.

I will provide detailed explanations for two main categories of issues: asynchronous storage persistence and revision generation.

## Asynchronous Storage Persistence

In etcd, the storage persistence is synchronous. When a node receives a log, it synchronously persists the log onto the storage device and then executes the commands in the log. After the execution is completed, the results are synchronously persisted onto the storage device. This allows the cluster to tolerate the simultaneous shutdown or power failure of more than a majority of nodes without affecting consistency.

In contrast, Xline assumes that the cluster always has a majority of nodes and does not consider the scenario where all nodes fails at the same time. This is similar to some memory-based Raft implementations. This provides us with some optimization opportunities, and the initial design of Xline was to make all storage persistence operations asynchronous.

However, doing so introduces several issues:

- At this point, the previously mentioned uncertainty in execution order introduces complexity and leads to bugs in the initial implementation:
  - The implementation did not wait for all logs represented by indexes prior to this index to finish execution before executing the read operation.
  - In fact, merely obtaining the command IDs from step 1 is not enough, as the log indexes may represent a newer system state than the command IDs. This is because our log execution is asynchronous, and the order of execution cannot be determined!
- Inconsistency between log storage and KV storage
  Consider this scenario: the KV persistence is completed before log persistence on a node due to the asynchronous nature of these operations. If the node restarts for some reason at this point, it recovers the log which is not up-to-date, leading to the execution of the same log twice during the recovery process. And not all operations are idempotent, for example, executing a predicate-based transaction twice is not idempotent. This indicates that KV persistence must occur after log persistence.

Based on the above issues, we can conclude the fact that asynchronous persistence introduces many additional states to consider, making it difficult to reasoning and analyze system states. Furthermore, it potentially impacts performance. We are currently considering using a synchronous approach instead of asynchronous storage persistence to simplify system implementation. This may sacrifice some performance, but correctness is always more important than performance.

## Revision Generation

In the initial design, we wanted Xline to be compatible with etcd while achieving 1-RTT consensus performance. In etcd, there is a concept called revision which represents the modifications made to the system. For every kv request, a revision needs to be returned. Therefore, we initially implemented a (which has now been proven to be wrong) method to generate revision in 1-RTT. However, it was ultimately proven that generating revision in 1-RTT is not feasible. This implementation also caused Jepsen tests involving revision (specifically, append) to fail.

Now let me explain what our old implementation looked like, why it was wrong, and why generating revision in 1-RTT is not possible.

## Background

First, we need some background on CURP consensus [4]. The principle behind CURPs 1-RTT implementation is that it has a witness co-hosted on each node. Before executing a command, the client needs to record the command on a majority of witnesses. Then the command can be executed directly on the leader without needing to be replicated to followers because the command information is stored on the witnesses, allowing the original command to be recovered even if a minority of nodes in the cluster has failed. The commands recorded on the witnesses have two characteristics:

1. The commands commute with each other.
2. There is no order between the commands.

This is actually very similar to the implementation of Generalized Paxos [5], both of which optimize request latency by leveraging the commutativity between commands. The commutativity property determines the two characteristics of the commands recorded on the witnesses. Commutativity means that the keys modified by two commands cannot overlap, and non-commuting commands must be executed in serial. Commuting commands can be executed concurrently, which means they have no order between them.

## Analysis of the old implementation

In the old implementation, each node locally assigned a revision to each command. It is necessary to ensure that the order of revision allocation was the same for all commands. Before the execution phase on each node, we assigned revisions to each node according to the order of log indices. At first glance, this doesnt seem to have a problem. Since revisions are allocated in the order of log indices, shouldnt the order of revision allocation on each node be the same? However, we overlooked one thing: some information of the commands may still be recorded on the witnesses! If a node crashes and recovers from the witness, it does not know the order of the recovered commands, which leads to inconsistent orders of revision allocation on different nodes.

## Why generating revision in 1-RTT is not possible?

The concept of revision is natural for Raft, where the entire distributed system is abstracted as a state machine, and the value of revision represents the state. This indicates that there is a global order for all modifications to the system.

For CURP consensus protocol, since the commands recorded on the witnesses are unordered (due to the requests from clients being concurrent), if we want to figure out the order, we must introduce an additional RTT to synchronize them on each witness. This two-step process of recording and sorting requires at least two RTTs.

Like Generalized Paxos, CURP uses commutativity, which implies that there may be no order between commands. So all commands form a partial order known as a command history [5]. In this case, the concept of revision is not applicable.

In the Generalized Consensus and Paxos paper, the author actually proves that in Generalized Consensus, it requires at least two message delays to determine the order between any two commands (Learning is impossible in fewer than 2 message delays). Here is the proof from the original paper [5]:

> Suppose l learns a value proposed by p in one message delay.
> Then it is possible that every message sent by p was lost except for ones
> received by l. If all messages from p and l to other processes are lost, then
> there is nothing to prevent another learner from learning a different value
> proposed by another proposer, violating consistency.

## Fix in Xline

1. etcd compatibility
2. According to the previous discussion, it is actually impossible for Xline to maintain its 1-RTT consensus performance while being compatible with etcd revision. So in the compatibility layer with etcd, we need to wait for each command to be committed before assigning a revision to it, which requires two RTTs.
3. Append test
4. The transaction test in the Append test uses revision to ensure atomicity of the transaction. The Append test requires strict serializability. In the previous discussions, it can be seen that for CURP consensus, there is no global order for all commands, so this actually violates the requirement of strict serializability. The partial order in CURP only guarantees serializability. Therefore, in the Xline test (non-etcd compatible), we cannot directly use the Append test. In other words, when writing Jepsen tests for Xline, the consistency model should be changed to a weaker serializability model.

## References

[1]  
P. B. Gibbons and E. Korach, Testing shared memories, Siam journal on computing, vol. 26, no. 4, pp. 12081244, 1997.

[2]  
C. H. Papadimitriou, The serializability of concurrent database updates, Journal of the acm (jacm), vol. 26, no. 4, pp. 631653, 1979.

[3]  
Jepsen consistency. Available: https://jepsen.io/consistency

[4]  
S. J. Park and J. Ousterhout, Exploiting commutativity for practical fast replication, in 16th usenix symposium on networked systems design and implementation (nsdi 19), Boston, MA: USENIX Association, Feb. 2019, pp. 4764. Available: https://www.usenix.org/conference/nsdi19/presentation/park

[5]  
L. Lamport, Generalized consensus and paxos, 2005.
`,fk=`---
  cover: /xline-home/blog/Membership-Change-Source-Code-Interpretation/cover.png
  author:
    name: Yu Guan
    url: https://github.com/themanforfree
    img_url: https://avatars.githubusercontent.com/u/56149350?v=4
  read_time: 13
---

In distributed system application scenarios, it is inevitable to add or delete nodes or replace nodes, the simplest solution is to temporarily shut down the cluster, then directly modify the configuration file to add new nodes, and then restart the cluster after the completion of the process. This indeed can achieve our purpose, but its problems are also very obvious. During the period of change, the cluster is not available, which is unacceptable to the system that requires high availability. The manual process can cause other errors, for example it might reduce the stability of the system. Therefore, how to change cluster members efficiently and securely has become a key issue in the development of distributed systems. For Xline, it is not only necessary to handle the regular change process, but also to integrate it with the Curp protocol to ensure that the introduction of cluster membership changes does not lead to errors in the front-end protocol.

---

In distributed system application scenarios, it is inevitable to add or delete nodes or replace nodes, the simplest solution is to temporarily shut down the cluster, then directly modify the configuration file to add new nodes, and then restart the cluster after the completion of the process. This indeed can achieve our purpose, but its problems are also very obvious. During the period of change, the cluster is not available, which is unacceptable to the system that requires high availability. The manual process can cause other errors, for example it might reduce the stability of the system. Therefore, how to change cluster members efficiently and securely has become a key issue in the development of distributed systems. For Xline, it is not only necessary to handle the regular change process, but also to integrate it with the Curp protocol to ensure that the introduction of cluster membership changes does not lead to errors in the front-end protocol.

## Problems and Solutions for Dynamic Membership Changes

Since Xline uses Raft as a backend protocol, adding the ability to dynamically change members to Xline requires solving the problems encountered by the Raft protocol itself. A key premise for the successful operation of the Raft protocol is that there can only be one leader at any given time. Without imposing any restrictions, directly adding nodes to the cluster may potentially destroy this premise, as shown in the following figure:

![image](/xline-home/blog/Membership-Change-Source-Code-Interpretation/image1.PNG)

Due to network delays and other reasons, it is impossible to guarantee that each node switches from $$C_{old}$$ to $$C_{new}$$ at the same time, the possible outcome is shown in the below figure.

Assuming that at this time, Server 1 and Server 5 start to be elected at the same time, Server 1 obtains the votes of Server 2, which meets the quorum in$$C_{old}$$ and becomes the Leader. Server 5 receives votes from Server 3 and Server 4, which satisfies the quorum requirement in $$C_{new}$$ and becomes the Leader, and then there are two Leaders at the same time, which creates consistency problems.

In order to solve this problem, the authors of Raft provided two solutions.

1. Joint Consensus
2. Single-step membership change

## Joint Consensus

Joint Consensus is essentially adding an intermediate state to the membership change process.

![image](/xline-home/blog/Membership-Change-Source-Code-Interpretation/image2.PNG)

When the Leader receives a membership change request, it creates a $$C_{old,new}$$ configuration and synchronizes it with the Follower via AppendEntries. The node that receives $$C_{old,new}$$ will use both configurations to make a decision, i.e., the election and other operations require the agreement of both $$C_{old}$$ and $$C_{new}$$ to be successful. After $$C_{old,new}$$ commits, the Leader creates the $$C_{new}$$ configuration and synchronizes it with the Follower.

In this scenario, there are several possibilities for the intermediate state of cluster member changes:

1. $$C_{old,new}$$ is created and then committed, there may be two configurations of $$C_{old}$$ $$C_{old,new}$$ in the cluster at this stage, any node that wants to be the Leader at this stage needs the $$C_{old}$$ configuration to agree to it, so there will not be two Leaders.
2. After $$C_{old,new}$$ is submitted and before $$C_{new}$$ is created, there may be two configurations of $$C_{old}$$ $$C_{old,new}$$ at the same time in this phase, but only nodes using $$C_{old,new}$$ can become the Leader because most of the nodes in the cluster have already been configured with $$C_{old}$$ at this phase and the remaining nodes that have not yet switched are not enough to elect a new Leader.
3. $$C_{new}$$ is created and then committed. In this phase, there may be three configurations of $$C_{old}$$ $$C_{old,new}$$ $$C_{new}$$ at the same time, in which the $$C_{old}$$ configuration is not able to elect the Leader, for the reasons mentioned above .$$C_{old,new}$$ and $$C_{new}$$ need $$C_{new}$$ 's consent to elect the Leader, and there will not be two Leaders in this case.
4. After $$C_{new}$$ commits, $$C_{new}$$ makes the decision independently, and there will not be two leaders.

### Single-step node change

In addition to Joint Consensus, there is another way to do cluster membership changes safely, and that is with single-step node changes. This method only adds or subtracts one node at a time, in this case, the majority of the old and new configurations must have overlapping nodes, and the overlapping nodes can only vote for one node, which ensures that there will not be two Leaders at the same time.Complex change behaviors need to be converted into multiple single-step node changes to complete.

![image](/xline-home/blog/Membership-Change-Source-Code-Interpretation/image3.PNG)

This scheme has no intermediate state, only one step operation can complete the change. The logic is more concise than Joint Consensus, there are not so many complex intermediate state, the realization will be a little simpler, of course, its function is not as powerful as Joint Consensus.

Xline's current approach is a single-step membership change, and we will add support for Joint Consensus in the future.

## Curp Protocol Integration

The main process of Membership change can be accomplished through the back-end Raft, but this process may disrupt the flow of the Curp protocol on the front-end. During normal processing, the Curp client broadcasts a Propose request to all nodes in the cluster, and determines whether this propose is committed in curp based on whether the number of successful proposes is greater than the number of superquorums of the current cluster members, and whether the members are determined at the time of creation of the client, but with the introduction of membership change. Before membership change, all members were determined when the client was created, but after membership change was introduced, there needs to be a mechanism to ensure that when the client is using the old configuration, it can also detect the new configuration used by the server and retry the current request with the new configuration, or else it may cause the Curp protocol to fail to work properly.

![image](/xline-home/blog/Membership-Change-Source-Code-Interpretation/image4.PNG)

As shown in the figure, suppose the Client broadcasts a Propose to a three-node cluster, then the Client receives three (3 node's superquorum) successful responses and considers this Propose to have been committed in Curp. During this Propose process, the cluster membership changes and Server4 joins the cluster. However, the superquorum of node 4 is 4, which means that the request that was just committed by curp in the 3-node cluster no longer meets the commit condition of Curp after the membership change, which may result in the loss of the request that has been returned to the Client.

To solve this problem, we introduced a new field \`cluster_version\` for requests sent by external clients, which represents the version of the configuration currently in use by the cluster and is modified every time a membership change is performed. So that the Server can use this field to determine whether the client sending the request is using the correct configuration, and directly reject the request using the wrong configuration. After the Client detects the inconsistency of the \`cluster_version\`, it will take the initiative to pull the current configuration from the Server and initiate a new round of requests with the new configuration. In the above example, when Propose and membership change happen at the same time, one of the nodes in Server1, 2, and 3 must be using the new configuration, so that node will reject Propose with another \`cluster_version\`.After the Client detects the new \`cluster_version\`, it will re-pull the current member configuration from the cluster and retries the entire request with the new configuration.

## Source Code Interpretation

### Leader Initiates Membership Change

The first step in initiating a membership change is to send a \`ProposeConfChangeRequest\` to the Leader, which contains information about the nodes to be changed in this proposal and some other auxiliary fields.

When the Server receives the request, it first checks to see if the \`cluster_version\` of the request matches the current \`cluster_version\` of the cluster, and rejects any request that doesn't match, before proceeding to the Server's processing logic:

\`\`\`rust
    /// Handle \`propose_conf_change\` request
    pub(super) fn handle_propose_conf_change(
        &self,
        propose_id: ProposeId,
        conf_changes: Vec<ConfChange>,
    ) -> Result<(), CurpError> {
        // ...
        self.check_new_config(&conf_changes)?;
        let entry = log_w.push(st_r.term, propose_id, conf_changes.clone())?;
        debug!("{} gets new log[{}]", self.id(), entry.index);
        let (addrs, name, is_learner) = self.apply_conf_change(conf_changes);
        self.ctx
            .last_conf_change_idx
            .store(entry.index, Ordering::Release);
        let _ig = log_w.fallback_contexts.insert(
            entry.index,
            FallbackContext::new(Arc::clone(&entry), addrs, name, is_learner),
        );
        // ...
    }
\`\`\`

The Leader node checks the validity of this conf change with the \`check_new_config\` method during processing, rejecting in advance changes that cannot be processed, such as inserting a node that already exists or removing a node that does not exist. Once the check passes, it goes through the same process as a regular request, synchronizing to all Follower by consensus. In addition to this part of the same process, the conf change requires some special handling, applying the new configuration as soon as it is inserted into the log and recording the context used to roll back the configuration. This is the same way as mentioned in the Raft paper, after the node owns the log, it doesn't need to wait for it to commit, it will take effect immediately. In Raft, the logs that are not committed can be overwritten, so it is necessary to record the context, and if the logs are overwritten, it is possible to rollback the change by using this context.

### Follower handling of member changes

For a Follower node, the main logic for member changes occurs in \`handle_append_entries\`, which is used to process logs sent by the Leader, including conf change

\`\`\`rust
    pub(super) fn handle_append_entries(
        &self,
        term: u64,
        leader_id: ServerId,
        prev_log_index: LogIndex,
        prev_log_term: u64,
        entries: Vec<LogEntry<C>>,
        leader_commit: LogIndex,
    ) -> Result<u64, (u64, LogIndex)> {
        // ...
        // append log entries
        let mut log_w = self.log.write();
        let (cc_entries, fallback_indexes) = log_w
            .try_append_entries(entries, prev_log_index, prev_log_term)
            .map_err(|_ig| (term, log_w.commit_index + 1))?;
        // fallback overwritten conf change entries
        for idx in fallback_indexes.iter().sorted().rev() {
            let info = log_w.fallback_contexts.remove(idx).unwrap_or_else(|| {
                unreachable!("fall_back_infos should contain the entry need to fallback")
            });
            let EntryData::ConfChange(ref conf_change) = info.origin_entry.entry_data else {
                unreachable!("the entry in the fallback_info should be conf change entry");
            };
            let changes = conf_change.clone();
            self.fallback_conf_change(changes, info.addrs, info.name, info.is_learner);
        }
        // apply conf change entries
        for e in cc_entries {
            let EntryData::ConfChange(ref cc) = e.entry_data else {
                unreachable!("cc_entry should be conf change entry");
            };
            let (addrs, name, is_learner) = self.apply_conf_change(cc.clone());
            let _ig = log_w.fallback_contexts.insert(
                e.index,
                FallbackContext::new(Arc::clone(&e), addrs, name, is_learner),
            );
        }
        // ...
    }
\`\`\`

The handling of regular logs will not be repeated here. When the Follower tries to append the logs from the Leader, it will determine what new conf change logs are available on the current node, and what conf changes that have not been committed will be overwritten. Then, using the pre-recorded context, it rolls back the overwritten changes in reverse order and applies the new changes. When applying a new change, the context of the new change should be recorded here as well.

### Commit of member changelog

\`\`\`rust
async fn worker_as<C: Command, CE: CommandExecutor<C>, RC: RoleChange>(
    entry: Arc<LogEntry<C>>,
    prepare: Option<C::PR>,
    ce: &CE,
    curp: &RawCurp<C, RC>,
) -> bool {
    // ...
    let success = match entry.entry_data {
        EntryData::ConfChange(ref conf_change) => {
            // ...
            let shutdown_self =
                change.change_type() == ConfChangeType::Remove && change.node_id == id;
            // ...
            if shutdown_self {
                curp.shutdown_trigger().self_shutdown();
            }
            true
        }
        _ => // ...
    };
    ce.trigger(entry.inflight_id(), entry.index);
    success
}
\`\`\`

In the after sync phase after a conf change is committed, besides some general operations, we need to determine if the committed conf change removes the current node, and if it does, we need to shutdown the current node here. Generally, only the leader node will execute here and commit the logs of the removed node, and after it shutdowns itself, the remaining nodes will elect a leader with the latest logs.

### New Node joins the cluster

In order to distinguish between a node that creates a new cluster to run on, and a newly started node that needs to join an existing cluster, a new parameter \`InitialClusterState\` needs to be passed in at startup. This is an enumerated type with only two members. \`InitialClusterState::New\` indicates that the node started this time is one of the members of the newly started cluster; \`InitialClusterState::Existing\` indicates that the node started this time is a new node to be added to an existing cluster.

\`\`\`rust
let cluster_info = match *cluster_config.initial_cluster_state() {
    InitialClusterState::New => init_cluster_info,
    InitialClusterState::Existing => get_cluster_info_from_remote(
        &init_cluster_info,
        server_addr_str,
        &name,
        Duration::from_secs(3),
    )
    .await
    .ok_or_else(|| anyhow!("Failed to get cluster info from remote"))?,
    _ => unreachable!("xline only supports two initial cluster states: new, existing"),
};
\`\`\`

The essential difference between these two approaches is that when a new cluster is created, the initial cluster members of each node are the same, and a globally unified node ID can be computed directly from this initial information to ensure that each node has a unique ID, whereas when joining an existing cluster, the new node cannot compute the node ID on its own, and needs to retrieve the information about the existing cluster through the get_cluster_info_from_remote method to directly inherit the ID and other information that the existing cluster is using to ensure the correspondence between the ID and the node within the cluster. This ensures the correspondence between IDs and nodes in the cluster, and avoids duplicate IDs or a node with multiple IDs.

To ensure compatibility with the etcd interface, a new node does not have a name before it starts running. etcdctl determines whether the corresponding node has started based on whether the name is empty. After a new node is up and running and joins the cluster, it sends a Publish Rpc to the Leader to publish its name in the cluster.

### Node remove

Suppose we don't shut down a node after removing it, then it will elect a timeout and send Vote requests to the rest of the nodes, wasting network and CPU resources of the other nodes. To solve this problem, there are two ways we can think of.

1. Shut down the node immediately after it applies the new configuration that will remove itself. Obviously, this solution must be infeasible. Because in the application of the new configuration, this log has not been committed, there is still the possibility of being backed up, if you close itself here, then if the configuration change occurs back, the node that was removed will have been closed and can not be directly replied to, which is not the result we want to see.
2. Shut down the node immediately after the node commit removes its own logs. Because it has already been committed, this method does not have the above problem, but if you implement it accordingly, you will find that the removed node sometimes still cannot be closed automatically. Because the removed node may not commit the new configuration at all. Suppose we want to remove a Follower node, and the Leader adds this removal record to its own log, and then immediately starts to use the new log, at this point, the Leader will not send any request to the Follower, and the Follower will naturally not be able to commit the record. Naturally, the follower cannot commit this log and shut down itself. This problem does not exist for the Leader, which will temporarily manage the cluster without itself until the log is committed.

If the most direct methods don't work, how should the removed node shut itself down? Assuming we don't add the shutdown logic here, what happens is that the Leader synchronizes the conf change log to the cluster, and all members of the new cluster will process and commit this log normally. The removed node will leave the cluster without knowing about it and will not receive a heartbeat from the Leader. This node then times out and starts an election, which is where we finally decide to make the change.

\`\`\`rust
pub(super) fn handle_pre_vote(
    &self,
    term: u64,
    candidate_id: ServerId,
    last_log_index: LogIndex,
    last_log_term: u64,
) -> Result<(u64, Vec<PoolEntry<C>>), Option<u64>> {
    // ...
    let contains_candidate = self.cluster().contains(candidate_id);
    let remove_candidate_is_not_committed =
        log_r
            .fallback_contexts
            .iter()
            .any(|(_, ctx)| match ctx.origin_entry.entry_data {
                EntryData::ConfChange(ref cc) => cc.iter().any(|c| {
                    matches!(c.change_type(), ConfChangeType::Remove)
                        && c.node_id == candidate_id
                }),
                _ => false,
            });
    // extra check to shutdown removed node
    if !contains_candidate && !remove_candidate_is_not_committed {
        return Err(None);
    }
    // ...
}
\`\`\`

We have added additional checking logic in the ProVote phase, the node that receives the pre-vote will check whether the candidate has been Removed. Assuming that the candidate is not in the current node's configuration, and that the possible fallback operation will not allow this node to rejoin the cluster, it means that this is a candidate that has been Removed. The node that handles the request will send a special \`VoteResponseto\` Follower with a \`shutdown_candidate\` field. Candidate receives the response and determines if \`shutdown_candidate\` is \`true\`, and if it is, it starts shutting itself down, and if it is not, it continues the election process.

## Summary

In this post, we dive into how cluster membership changes are performed in distributed systems, briefly introducing the two main solutions: Joint Consensus and Single-Step Membership Change. Joint Consensus introduces an intermediate state to ensure that there are no two leaders during a change. Single-step cluster change sacrifices some functionality and simplifies the implementation logic by changing nodes one by one. In addition, we have analyzed the source code of Xline's current single-step membership change scheme, showing how both Leader and Follower handle changes, and what new logic needs to be handled after the introduction of cluster change.

Currently, Xline only uses a single-step cluster change to handle cluster membership changes, providing a basic change capability. In the future, we will try to support Joint Consensus to enhance the functionality of Xline.

That's it for Xline's Membership change. If you're interested in more implementation details, please refer to our open source repository at https://github.com/xline-kv/Xline or learn more at the Xline website: \`https://xline.\` cloud.
`,mk=`---
  cover: /xline-home/blog/Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada/cover.png
  author:
    name: Jiawei Zhao
    url: https://github.com/Phoenix500526
    img_url: https://avatars.githubusercontent.com/u/9337239?v=4
  read_time: 10
---

More and more IT vendors are now embracing cross-cloud multi-clustering as cloud-native technologies and cloud markets continue to mature. Heres Flexeras mid-2023 survey on the cloud-native markets acceptance of multi-cloud, multi-cluster management. (info.flexera.com)

---

## Background and Motivation

More and more IT vendors are now embracing cross-cloud multi-clustering as cloud-native technologies and cloud markets continue to mature. Heres Flexeras mid-2023 survey on the cloud-native markets acceptance of multi-cloud, multi-cluster management. (info.flexera.com)

![image1](/xline-home/blog/Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada/image1.webp)

As you can see from Flexeras report, more than 87 percent of organizations in the overall cloud-native market are already using services from multiple cloud vendors at the same time, with only 13 percent using a single public cloud and a single private cloud. Only 13% are using a single public cloud or single private cloud, while 15% of those using multi-cloud deployments are choosing multi-public or multi-private cloud deployments, and 72% are adopting hybrid cloud deployments. These statistics reflect the maturity of cloud-native technologies and the cloud marketplace, and the future will be the era of programmatic multi-cloud managed services.

As you can see from Flexeras report, more than 87 percent of organizations in the overall cloud-native market are already using services from multiple cloud vendors at the same time, with only 13 percent using a single public cloud and a single private cloud. Only 13% are using a single public cloud or single private cloud, while 15% of those using multi-cloud deployments are choosing multi-public or multi-private cloud deployments, and 72% are adopting hybrid cloud deployments. These statistics reflect the maturity of cloud-native technologies and the cloud marketplace, and the future will be the era of programmatic multi-cloud managed services.

In addition to external trends, the limitations of single-cluster deployments have become an intrinsic motivation for users to embrace multi-cloud, multi-cluster management. Limitations of single cluster deployments include, but are not limited to:

- A single point of failure, where cluster-level failures are difficult to tolerate, and a small cluster federation outperforms a large K8s cluster.
- Boundary constraints of a single cluster, e.g., a Node has only 110 Pods by default, and a cluster can hold up to 5000 Nodes.
- Business-level development needs, e.g., Xline itself is a cross-cluster cluster.
- .

Karmada, as an open source multi-cluster management tool, has been used by Shopee, DaoCloud and other companies in the production environment. However, since Karmada currently lacks support for stateful application management, it is still mainly used for stateless application management in practice.

In order to better cope with the future trend of multi-cloud and multi-cluster management, and to better manage stateful applications in multi-cloud and multi-cluster scenarios, Xline and the Karmada community set up a working group to jointly promote Karmadas support for stateful application management.

## What are the challenges of managing stateful applications with Karmada?

Before understanding how Karmada manages stateful applications across multiple clusters, we need to look back at the K8s implementation of managing stateful applications in a single cluster.

Back in 2012, Randy Bias gave an influential talk on Open and Scalable Cloud Architecture. In that talk, he proposed a Pets versus a Cattle.

![image](/xline-home/blog/Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada/image2.webp)

These two concepts correspond to stateless and stateful applications, respectively.Cattle dont need names, and they are not unique. This means we can easily replace one with another when one of them has some problems. Pets are different. Each pet is unique, with its own name, and should be looked after carefully when it has some problems.

StatefulSet was introduced in Kubernetes 1.5and stabilized in version 1.9. It provides a fixed Pod identity for managing Pods, persistent storage for each Pod, and a strict start/stop order among Pods.

The problems are: what exactly constitutes a state, and how Kubernetes addresses it.

![image](/xline-home/blog/Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada/image3.webp)

In the Karmada multi-cluster scenario, stateful applications pose the following problems:

1. How to ensure that multiple application instances across clusters can have a globally uniform start/stop order, which affects the scale in/out and rolling updates of some application instances. For a distributed KV storage based on consensus protocol, the process of scale in/out needs to go through membership change, which involves the determination of majority change in the cluster. If multiple member clusters scale out at the same time without a globally standardized ordering, it will affect the correctness of the consensus reached by the consensus protocol.
2. How to ensure that all applications across clusters have globally unique instance identifiers, a natural solution is to incorporate member cluster ids into instance identifiers.
3. How to solve the problem of cross-cluster application communication and provide a globally uniform network identity. Currently, in our attempts and practices, we use submariners to bridge the network communication between multiple member clusters. The current implementation relies on a specific network plugin.
4. How to solve the common functions such as cross-cluster stateful application update and capacity expansion and contraction, and provide more fine-grained update policies, such as realizing the function of Partition Update in member clusters.

In order to better solve the above-mentioned problems, we need to introduce a new workload on Karmada to implement a cross-cluster version of StatefulSet.

## Some early attempts at Xline

Since the Karmada community has not yet discussed the implementation details of the new API, we have made some simple attempts to deploy, scale up and down, and update Xline under Karmada. The overall architecture of the program is as follows:

![image](/xline-home/blog/Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada/image4.webp)

In the overall architecture, we adopt a two-tier Operator approach, in the control plane of Karmada, we deploy a Karmada Xline Operator, which is responsible for interpreting and splitting some Xline resources defined in Karmada, and sending them to member clusters. The Xline Operator on the member cluster monitors the creation of the corresponding resource and then enters the Reconcile process to complete the operation.

## Deployment

Lets take a look at a common deployment method for distributed application clusters under a single cluster (using etcd operator to deploy an etcd cluster as an example). etcd-operator can deploy an etcd cluster in two phases:

1. Bootstrap: Create a seed node of etcd with an initial-cluster-state of new and a unique initial-clsuter-token.
2. Scale out: perform a member add on the seed cluster to update the cluster network topology, and then start a new etcd node with an updated network topology and an initial-cluster-state of existing.

However, in the cross-cluster scenario, due to the lack of a globally standardized startup order for pods in different member clusters, Xline Operators in different member clusters will concurrently perform cluster expansion operations, which will adversely affect the membership change process of the consensus protocol. In order to bypass this problem, Xline adopts a static deployment method, as shown in the following figure:

![image](/xline-home/blog/Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada/image5.webp)

First of all, users need to define the corresponding resources on karmada to describe the cluster topology of a cross-cluster Xline cluster. karmada Xline Operator, after monitoring the resources being applied, will interpret and split the resources into the CR of XlineCluster on the member cluster, and then issue the CR of XlineCluster to the member cluster. The XlineCluster CR contains the number of replicas that should be created for the current member cluster, as well as the member cluster ids of the other clusters and the corresponding number of replicas. The Xline Operator on the member cluster, after monitoring the creation of the CR, will enter the Reconcile process to generate the DNS names of the other nodes in the Xline cluster using the issued cluster topology, and start the Xline Pod.

In the early days of exploration, the static deployment approach bypassed the lack of a globally uniform startup order for application instances under Karmadas multiple clusters because it did not involve a membership change in the deployment process. However, there is no silver bullet in the software industry, and the same is true for static deployments, which have some trade-offs as follows. The following table compares the characteristics of dynamic and static deployments in a single cluster vs. multi-cluster scenario:

![image](/xline-home/blog/Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada/image6.webp)

## Scaling Up and Down

There are two specific types of scale in/out for stateful applications under Karmada:

- Horizontal scale in/out  remove/add a member cluster and scale in/out nodes on it.
- Vertical scale in/out  scale in/out on existing member clusters.

## Horizontal scale out

![image](/xline-home/blog/Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada/image7.webp)

As shown above, the overall process is as follows:

1. Create the corresponding member cluster, configure the submariner network, and add it to Karmada for management.
2. Modify the Xline resources on Karmada, and add a new record \`member4: 4\` in the member cluster field to indicate that you want to expand 4 Xline resources on member4.
3. Karmada Xline Operator will split the resources and distribute them to member4.
4. Xline Operator on member4 receives the corresponding resources, enters the corresponding Reconcile process, calls the Xline client to execute member add, reaches a consensus, starts the new Xline Pod, and repeats the above process until the number of Xline replicas on member4 reaches the specified number. on member4 reaches the specified number

## Vertical scale out

![image](/xline-home/blog/Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada/image8.webp)

For vertical scale out, the general process is also shown above:

1. Modify the Xline resources on Karmada, e.g., specify that the Xline Pod in member1 should be expanded from 3 to 4
2. Karmada Xline Operator will split the resource and distribute it to member1
3. When Xline Operator on member1 receives the notification of resource modification, it enters the corresponding Reconcile process, calls the Xline client to perform member add, and then starts the new Xline Pod after consensus is reached, and repeats the above process until the number of replicas of Xline on member1 reaches the specified number. replicas of Xline on member1 reach the specified number

Currently, because scale in/out inevitably involves a membership change process, and there is a lack of synchronization between member clusters under Karmada, there are limitations to the scale process: a horizontal scale out can only scale a cluster, and a vertical scale out can only scale a cluster on a specified member cluster.

## Rolling updates

![image](/xline-home/blog/Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada/image9.webp)

For a rolling update, the general process is shown above:

1. The user modifies the Xline resource on Karmada to change the Xline mirror version.
2. The Karmada Xline Operator splits the resource and distributes it to the member clusters.
3. The Xline Operator on the member cluster monitors the resource changes and enters the corresponding Reconcile process to perform a rolling update. The update process on the member cluster is no different from the update on a single cluster.

Currently, the main supported update method is the default rolling update, but from the perspective of practical application scenarios, at least the following two issues need to be considered:

1. The update process involves the stopping of old Xline nodes and the starting of new Xline nodes, which requires additional mechanisms to ensure that the update process is not unavailable.
2. More fine-grained update policies, such as Partition Update, should be supported; among multiple member clusters, priority should be given to updating clusters where only the follower exists, and when updating the member cluster where the leader resides, the leader should be transferred to the updated member cluster to avoid extreme situations where the leader frequently steps down due to rolling updates.

## Conclusion

Given the trend of multi-cloud and multi-cluster management and the nature of Xlines business, the Karmada and Xline communities have formed a working group to promote stateful application management in Karmada multi-clusters. In order to solve the problem of managing stateful applications in Karmada multi-clusters more elegantly, we need to introduce a new Karmada workload, and since the Karmada community has not yet reached a consensus on the implementation details of the new workload, in the early stage of experimentation, Xline adopts a two-tier Operator approach, which is implemented through the Karmada Xline Operator to the Karmada Xline Operator. The Karmada Xline Operator interprets and splits the top-level resources and sends them to the member clusters, and then the Xline Operator on the member clusters tunes the resources.

In this way, we have made some early attempts to deploy Xline on Karmada and explore rolling updates, and made some preliminary preparations for the development and design of the new Karmada StatefulSet workload in the future.

## Xline Community Meeting

In order to provide a more comprehensive overview of Xlines progress and to promote the Xline community, we will be hosting an Xline community meeting at 8AM PT (USA Pacific) on \`March 29, 2024\` (11AM EST11PM Beijing Time)

The meeting will be held via zoom: **Meeting number:** 813 0547 8985 **Password**: 520159 **Link**: https://zoom.us/j/81305478985?pwd=PsnbMGQy1ZqxYyd67cAkaGROfnIoQa.1
`,pk=`---
  cover: /xline-home/blog/Xline-command-Deduplication-Mechanism-(II)-RIFL-Implementation/cover.png
  author:
    name: Wenhui Tang
    url: https://github.com/iGxnon
    img_url: https://avatars.githubusercontent.com/u/59405399?v=4
  read_time: 10
---

In the previous article, we started from why we need command deduplication mechanism, introduced the necessity of deduplication and some problems of the current deduplication mechanism of Xline, and explained the working principle of RIFL (Reusable Infrastructure for Linearizability), as well as analyzed its performance. This article will be based on this further in-depth explanation.

---

## Background and Motivation

In the previous article, we started from why we need command deduplication mechanism, introduced the necessity of deduplication and some problems of the current deduplication mechanism of Xline, and explained the working principle of RIFL (Reusable Infrastructure for Linearizability), as well as analyzed its performance. This article will be based on this further in-depth explanation.

## Problems of implementing RIFL in CURP

The purpose of RIFL is to serve as a system infrastructure to provide exactly-once semantics for RPC, which can naturally be applied to CURP systems. In the CURP paper, RIFL is mentioned several times, as well as some of the changes that need to be made to RIFL to migrate to CURP.

It is recommended that readers who have not read the previous Xline source code analysis first read and understand the principles of CURP.

In the CURP paper C.1 Modifications to RIFL, the following two changes are described:
First, because of the witness's replay mechanism, any command may be repeatedly accepted by a new master, and if we rely on the de-duplication mechanism provided by RIFL, the out-of-order ordering of replay commands may result in later acknowledgments rejecting replays of earlier commands. For example, Cmd(first_incomplete=5), Cmd(first_incomplete=1), if replayed in the order of 5 -> 1, then 1 will be ignored. So in the witness replay phase, no processAck is performed.

Secondly, in RIFL, when client_id expires due to client crash, server will clean up all the completion records under this client_id, then in witness replay, the command of the expired client_id will be ignored. So the expiration of the client_id may need to be delayed until the command is synchronized to the backup server.

The content of this article is to introduce how to implement RIFL in Xline's CURP system and solve some relevant problems.

## The implementation of command deduplication in Xline

### Lease Server Implementation

In RIFL, the LeaseManager module will act as a witness to the survival of a client. In Xline, it is confusing to rely on another system to provide the Lease mechanism, and it seems that the only way to solve this problem is to implement the Lease Server inside Xline. Of the three node roles, Leader is the most appropriate.

Before implementing the Lease Server, we need to define the following functionality:

1. Client needs to get its client id when it sends its first proposal, so it needs to register with Lease Server and get a client id.
2. The Client needs to send heartbeats to the Lease Server at regular intervals to ensure that the lease is valid for a long period of time.
3. Client needs to get a new client id from Lease Server when its own client id expires.
4. Leader needs to check whether a proposal is expired or not, it needs to check whether the client id is expired or not in Lease Server.
5. Lease Server should delete and recycle the client id when it expires.

After determining the functionality of the appeal, you can get the RPC definition of Lease Server:

\`\`\`shell
message ClientLeaseKeepAliveRequest {
    // The optional client_id, 0 means a grant request
    uint64 client_id = 1;
}

message ClientLeaseKeepAliveResponse {
    // The refreshed(generated) client_id
    uint64 client_id = 1;
}

service Protocol {
    ...
    rpc ClientLeaseKeepAlive (stream ClientLeaseKeepAliveRequest)
            returns (ClientLeaseKeepAliveResponse);
}
\`\`\`

The sender of the RPC is a stream. All requests in the stream are heartbeats, except the first request for the client id, which is used to renew the lease.

Only when the Lease Server finds that the client id has expired or does not exist, it will generate a new client id and return it to the client, otherwise, the server will never return the message.

In addition, this also solves one of the problems described in the RIFL paper: RPC Server repeatedly checking the Lease situation with Lease Server will become a bottleneck.

### Tracker Implementation

![image](</xline-home/blog/Xline-command-Deduplication-Mechanism-(II)-RIFL-Implementation/image1.png>)

Looking back at some of the components in RIFL, we can see that two components are very similar: RequestTracker and ResultTracker.

For the RequestTracker on the client side, it needs to generate a series of consecutive sequence numbers and record the acceptance of these sequence numbers, which in turn drives the first incomplete to increase, confirms the received position and sends it to the server for recovery.

Similarly, the ResultTracker on the server side needs to record the sequence number from a Client, check for duplicates, and finally recover all previous records based on the first incomplete from the client.

It is easy to think of the following linear data structure design for sequence number sequences.

![image](</xline-home/blog/Xline-command-Deduplication-Mechanism-(II)-RIFL-Implementation/image2.png>)

\`\`\`rust
/// Layout:
///
/// \`010000000101_110111011111_000001000000000\`
///  ^        ^                ^    ^
///  |        |________________|____|
///  |________|         len    |____|
///     head                    tail
#[derive(Debug, Clone)]
struct BitVecQueue {
    /// Bits store
    store: VecDeque<usize>,
    /// Head length indicator
    head: usize,
    /// Tail length indicator
    tail: usize,
}

/// Track sequence number for commands
#[derive(Debug, Default, Clone)]
pub(super) struct Tracker {
    /// First incomplete seq num, it will be advanced by client
    first_incomplete: u64,
    /// inflight seq nums proposed by the client, each bit
    /// represent the received status starting from \`first_incomplete\`.
    /// \`BitVecQueue\` has a better memory compression ratio than \`HashSet\`
    /// if the requested seq_num is very compact.
    inflight: BitVecQueue,
}
\`\`\`

### Tracker recovery

Everything looks great when the core components above are working properly, but would it still look that way if something went wrong?

For example, what if a leadership transfer occurs and the new leader can't get the information from the old leader tracker? Obviously, this will be a problem, as we do not access the state machine for each deduplication for the sake of performance, but rather maintain a set of memory-based trackers, and we have to consider how this data structure can be recovered during a system migration.

The RIFL paper does not describe in detail how to implement tracker recovery, which is a specific problem we encountered in our implementation; RIFL as a generic mechanism does not discuss this situation. However, the RIFL paper does mention that completion records need to be persisted:

> In order to implement exactly-once semantics, RIFL must solve four overall problems: RPC identification, completion record durability, retry rendezvous, and garbage collection

In addition, it is suggested that completion records and operation objects need to be stored together.

> RIFL uses a single principle to handle both migration and distributed operations. Each operation is associated with a particular object in the underlying system, and the completion record is stored wherever that object is stored.

If we can recover the tracker from either the operation object or the completion record, we can avoid misclassification due to tracker loss.

The first question is where to store the completion record. The answer is in the log, which is synchronized by each node in the system and applied to its own state machine.

However, CURP system has some differences, the Witness node will also store the proposal, and the completion record can also come from these proposals, in the recovery phase of the CURP system, we can recover the tracker from the proposal recovered from Witness, for example, when we receive the Cmd(client_id=1, first_incomplete=1, first_complete=1, first_complete=1, first_complete=1, first_complete=1, first_complete=1) 1, first_incomplete=5), we can update the ResultTracker of the client with id 1 to 5 (be careful not to processAck in the recovery phase, which will cause subsequent commands with first_incomplete less than 5 to be filtered). Based on this mechanism, we don't need to worry that the proposal we commit early will not be able to recover the completion record because it is not yet persisted.

In our implementation, we combine the above two scenarios: recovering from logs and recovering from recovered commands. In this way, we can be sure that we have fully recovered the tracker.

#### Is it really fully recovered?

![image](</xline-home/blog/Xline-command-Deduplication-Mechanism-(II)-RIFL-Implementation/image3.png>)

This figure divides the sequence number sent by a client into three segments, the target of tracker recovery is the location where the client confirms to the server that it is done and all the sequence numbers inflighted by the client.

In these three segments, the first segment cannot be recovered, if the client has already confirmed, it means that it has already been returned to the user, so the client is unlikely to retry this command. It may have retried this command before, and retry request in the network delayed for a long time, but will not reach the new leader.

The third segment can be recovered from Witness's Speculative Pool.

For the second segment, reading the log by default may not recover everything, and with the log compact mechanism, we can't predict whether the compacted position is in the first segment or not. In order to solve this problem completely, we need to impose a restriction on the log compact: **we can't allow compacting of any sequence number after the one that the surviving client has not yet confirmed.**

### Lease Server Availability Issues

As I mentioned before, in order to prevent Xline from relying on another Lease system, we implemented Lease Server on the Leader. Since the tracker on the Leader is facing an availability problem, does Lease Server naturally have an availability problem as well?

Actually not :D, think of it in another way, Lease Server acts as a witness to the survival of all clients, if Lease Server crashes, we don't think Lease Server crashed, we think all clients crashed, thus forcing all clients to give up retrying, giving feedback to the user about the situation and letting the user decide whether to retry or not.

Now that we have tracker recovery, the client id from the recovery process can be used to recover the lease to do Lease Server recovery.

### What we haven't done yet in RIFL

#### Persistence of Completion Records

RIFL requires completion records to be persisted and migrated with the system, so that even in a new system, duplicates can be checked for and returned to the user for previous executions.

We have not implemented persistence and migration of completion records, if we did, we would need to store the execution result of the command in the corresponding log entry, which is not friendly to the data structure of the log to repeatedly seek and insert the execution result.

Therefore, after the leadership changes, the new leader checks the duplicate command, but cannot get the previous completion record.

We can consider optimizing the log data structure to achieve the persistence and migration of completion records.

#### Optimization of recycling mechanism

When you look at the previous diagram, you may be agile enough to realize that this structure has a drawback: head-of-line blocking.

![image](</xline-home/blog/Xline-command-Deduplication-Mechanism-(II)-RIFL-Implementation/image4.png>)

The HTTP protocol's oldest implementations have already solved this problem: [Multiplexing](https://en.wikipedia.org/wiki/Multiplexing).

But the authors of RIFL don't seem to want to get into this mess.

> The garbage collection mechanism could be implemented using a more granular approach that allows information for newer sequence numbers to be deleted while retaining information for older sequence numbers that have not completed. However, **we were concerned that this might create additional complexity that impacts the latency of RPCs**; as a result, we have deferred such an approach until there is evidence that it is needed.

In fact, this is not a huge problem; unlike HTTP pipelining, not receiving a return does not affect the sending of subsequent requests (as shown above), which may cause the results of a command that has been processed on the server not being reclaimed in time, and taking up too much memory. The RIFL authors mentioned that an upper limit (512 in the paper) could be added to solve this problem, but considering that this problem is not insurmountable, further optimization should be required.

## Optimization of some structures under command deduplication

RIFL can be used not only as an RPC de-duplication mechanism, but also to optimize some structures in Xline.

In fact, the idea of de-duplication was prompted by the discovery that the timed GC mechanism of some of Xline's current components could lead to correctness problems, and that the triggers for these problems were magnified in the madsim test environment, which forced us to reintroduce a new methodology for solving these problems.

Currently, the GC tasks in Xline's backend include Speculative Pool GC and Command Board GC. Combined with the deduplication mechanism, we can replace these two intervals with active GC after the client confirms the GC, which prevents the unconservative active GC from causing correctness issues.

### Speculative Pool GC Optimization

When reclaiming the remaining commands in the Speculative Pool, we can change the original non-conservative timed GC to actively ask the Leader to reclaim them, and the Leader can use the RIFL mechanism to determine to a certain extent whether a command has been committed.

If the RIFL mechanism determines that the command has been confirmed, the command must be commited. For a command that has been committed to the client, but the client has not confirmed it, RIFL cannot immediately determine that it has been committed, so it is necessary to wait for a period of time, and when the client confirms these commands, the Leader can then ask the Leader to recover the command. When the client confirms the command, the leader can check whether the command is committed or not. If the client crashes during this period, the leader can also use the Lease Manager to determine that the client has dropped out of the line, then all the commands inflighted by the client will be invalidated, and we can safely clean up all the commands under this client id.

### CommandBoard GC optimization

Similarly, CommandBoard also has a GC timer task, this GC task may lead to recovering the completion records that the client didn't have time to receive under extreme conditions. With the RIFL mechanism, we can replace the timer GC with the GC after the client's confirmation, which ensures that the client must have received the completion records.

## Summary

In Xline's CURP system, this paper discusses the implementation of RIFL (Reusable Infrastructure for Linearizability) as an infrastructure to provide Exactly-Once semantics for RPC and the solutions to related problems. It mainly includes the design of Lease Server, the conception, optimization and reliable recovery of Tracker, as well as the optimization of the structure of the background GC Task in the command deduplication scenario. After that, the deduplication mechanism will be further optimized to complete the record persistence and the optimization of the recycling mechanism, which will provide a more complete guarantee of the Exactly-Once semantics and lower performance overhead.
`,gk=`---
  cover: /xline-home/blog/Interval-Tree-Implementation-in-Xline/cover.png
  author:
    name: Zhenghao Yin
    url: https://github.com/bsbds
    img_url: https://avatars.githubusercontent.com/u/69835502?v=4
  read_time: 10
---

In a recent refactoring of Xline, we identified a performance bottleneck caused by two data structures on the critical path: the Speculative Pool and the Uncommitted Pool. These two data structures are used for conflict detection in CURP. Specifically, the protocol requires for each processed command, it is necessary to find all the commands that conflict with the current command.

---

## The Reason for Implementing Interval Trees

In a recent refactoring of Xline, we identified a performance bottleneck caused by two data structures on the critical path: the Speculative Pool and the Uncommitted Pool. These two data structures are used for conflict detection in CURP. Specifically, the protocol requires for each processed command, it is necessary to find all the commands that conflict with the current command.
For instance, in the KV operations put/get_range/delete_range, we need to consider the possible conflicts between these operations. Since each KV operation covers a range of keys, the problem becomes checking whether a given range of keys intersects with any key ranges in the pool. A plain traversal of the entire set results in a time complexity of O(n) for each query, which reduces efficiency and leads to performance bottlenecks.
To address this problem, we need to introduce an interval tree data structure. Interval trees support efficient insertion, deletion and query operations on overlapping intervals, all of which can be completed in O(log(n)) time. Therefore, we can use the interval tree to maintain a collection of key ranges.

## Introduction to Interval Tree Implementation
The interval tree implementation in Xline is based on Introduction to Algorithms (3rd ed.),  which extends the self-balancing binary search tree.
The interval tree is based on a binary balanced tree (e.g., a red-black tree), and the interval itself is used as the key. For an interval [low, high], we first sort the intervals by their low values, and then by their high values if the low values are the same, establishing a total order relationship for the set of intervals. If duplicate intervals are not handled, sorting by high values is unnecessary. Additionally, for each node in the balanced tree, we maintain the maximum value of high in the subtree rooted at this node, denoted as max.

### Insertion/Deletion
Same as insertion/deletion in red-black tree, the worst time complexity is O(log(n)).
### Query Overlap
Given an interval i, we need to query the current tree to see if any intervals in the tree overlap with i.
The pseudo-code given in Introduction to Algorithms is as follows
![image](/xline-home/blog/Interval-Tree-Implementation-in-Xline/image1.png)
With the definition of max, the solution to this problem becomes straightforward: for a subtree T_x rooted at x, if i does not intersect x_i, then i must lie to either the left or right of x_i.
1. If i is on the left side of x_i, then we can rule out the right subtree, because i.high is smaller than x_i.low.
2. if i is on the right side of x_i: In this case, we can't rule out the left subtree, because the intervals of nodes in the left subtree may still intersect i. This is where max comes in handy.
- If the maximum value of high in x's left subtree is still less than i.low, then we can ignore x's left subtree.
- If the maximum value of high in x's left subtree is greater than or equal to i.low, then there must be intersecting intervals in x's left subtree because all the lows in x's left subtree are less than x_i.low, and i is on the right side of x_i, so all the lows in x's left subtree are less than i.low, so there must be an intersection.
The above points can validate the correctness of the pseudo-code, and from the code we can infer that the worst-case time complexity of the query is O(log(n)).

## Implementing Interval Trees with Safe Rust
### Difficulty
To construct an interval tree, we first need to implement a red-black tree. In a red-black tree, each node must reference its parent node, which requires multiple ownership of a single node instance.
### Rc<RefCell<T>>
I initially attempted to use Rust's most common multi-ownership implementation, Rc<RefCell<T>>, with a tree node structure similar to the following code.
\`\`\`
struct Node<T, V> {
    left: Option<NodeRef<T, V>>,
    right: Option<NodeRef<T, V>>,
    parent: Option<NodeRef<T, V>>,
    ...
}

struct NodeRef<T, V>(Rc<RefCell<Node<T, V>>>);
\`\`\`
The data structure definition appears straightforward, but in practice it's quite cumbersome to use, because RefCell requires the user to explicitly call borrow, or borrow_mut, requiring me to create numerous helper functions to simplify the implementation. Here are some examples.
\`\`\`
impl<T, V> NodeRef<T, V> {
    fn left<F, R>(&self, op: F) -> R
    where
        F: FnOnce(&NodeRef<T, V>) -> R,
    {
        op(self.borrow().left())
    }

    fn parent<F, R>(&self, op: F) -> R
    where
        F: FnOnce(&NodeRef<T, V>) -> R,
    {
        op(self.borrow().parent())
    }

    fn set_right(&self, node: NodeRef<T, V>) {
        let _ignore = self.borrow_mut().right.replace(node);
    }

    fn set_max(&self, max: T) {
        let _ignore = self.borrow_mut().max.replace(max);
    }
    ...
}
\`\`\`
RefCell is not ergonomic to use, but even worse, we need to use a lot of Rc::clone in our code, because when traversing a tree node from the top down, we need to hold the owned type of a node, not a reference. For example, in the previously mentioned INTERVAL-SEARCH operation, every time x = x.left or x = x.right, we first need to borrow x itself, and then assign it a value. So we need to get the owned type of the left (or right) node first, and then update x to the new value. This leads to a lot of reference counting overhead.
How substantial is this overhead? I benchmarked our implementation using random data insertion and deletion on my local setup, which includes an Intel 13600KF processor with DDR4 memory.
\`\`\`
test bench_interval_tree_insert_100           ... bench:       9,821 ns/iter (+/- 263)
test bench_interval_tree_insert_1000          ... bench:     215,362 ns/iter (+/- 6,536)
test bench_interval_tree_insert_10000         ... bench:   2,999,694 ns/iter (+/- 134,979)
test bench_interval_tree_insert_remove_100    ... bench:      18,395 ns/iter (+/- 750)
test bench_interval_tree_insert_remove_1000   ... bench:     385,858 ns/iter (+/- 7,659)
test bench_interval_tree_insert_remove_10000  ... bench:   5,465,355 ns/iter (+/- 114,735)
\`\`\`
Using the same data and environment, compare it to the golang interval tree implementation of etcd.
\`\`\`
BenchmarkIntervalTreeInsert100-20                 123747             12250 ns/op
BenchmarkIntervalTreeInsert1000-20                  7119            189613 ns/op
BenchmarkIntervalTreeInsert10_000-20                 340           3237907 ns/op
BenchmarkIntervalTreeInsertRemove100-20            24584             45579 ns/op
BenchmarkIntervalTreeInsertRemove1000-20             344           3462977 ns/op
BenchmarkIntervalTreeInsertRemove10_000-20             3         358284695 ns/op
\`\`\`
As you can see, our Rust implementation has no advantage, and even slows down insertion operations in some cases. (Note: there appears to be an issue with etcd's node deletion implementation. Observe the increase in the number of nodes from 1000->10000, the complexity may not align with O(log(n))).
#### Thread Safety Issues
Even if we grudgingly accept the performance, a more serious problem surfaces: Rc<RefCell<T>> cannot be used in a multi-threaded environment! Since Xline is built on top of Rust's Tokio runtime, it needs to share a single instance of the interval tree across multiple threads. Unfortunately, Rc itself is !Send, because reference counting inside Rc is incremented/decremented in a non-atomic way. This then results in the entire interval tree data structure not being sent to other threads. Unless we spawn a dedicated thread and communicate through a channel, we can't use it in a multi-threaded environment.
### Other Smart Pointers
So we need to consider other smart pointers to resolve this issue. A natural idea is to use Arc<RefCell<T>>. However, RefCell itself is !Sync, because its borrow checking can only be used within a single thread and cannot be shared across multiple threads at the same time, and Arc<T>> is Send if and only if T is Sync, because Arc itself allows cloning.
#### Arc<Mutex<T>> ?
In a multi-threaded environment, multiple ownership can only be achieved using Arc<Mutex<T>>. However, this is clearly an anti-pattern for our use case, which requires a mutex on each node, and with hundreds of thousands or even millions of nodes in the tree, this is impractical.
#### QCell
After using conventional methods to no avail, we tried to use a crate called qcell, a multi-threaded alternative to RefCell. The author ingeniously addressed the issue of borrowing checks under multiple ownership.

##### QCell design
Since the design of qcell is formally demonstrated in the GhostCell paper, I will introduce the design in the GhostCell paper here.
In Rust, permissions to manipulate data are tied to the data itself, i.e., you must first own the data in order to modify its state. Specifically, to modify the data T, you either need to have a T itself, or you need to have an &mut T.
The concept of GhostCell's design is to separate permissions to manipulate data from the data itself, so that for a piece of data, the data T itself is a type, and its permissions are also of a specific type, denoted P_t. This design is more flexible than Rust's existing design because it is possible for an instance of a permission type to have permission over a collection of data, i.e., a single P_t can have multiple T's. Under this design, as long as the permission instance itself is thread-safe, the data collection it manages is also thread-safe.
To use this in a qcell, first create a QCellOwner to represent the permissions, and a QCell<T> to represent the stored data.
\`\`\`
let mut owner = QCellOwner::new();
let item = Arc::new(QCell::new(&owner, Vec::<u8>::new()));
owner.rw(&item).push(0);
\`\`\`
QCellOwner has read/write access to the QCells registered to it (via QCellOwner::rwor QCellOwner::ro ), so as long as QCellOwner is thread-safe, the data in the QCells are thread-safe too. Here QCellOwner itself is Send + Sync, and QCell can be Send + Sync as long as T satisfies.
\`\`\`
impl<T: ?Sized + Send> Send for QCell<T>
impl<T: ?Sized + Send + Sync> Sync for QCell<T>
\`\`\`
##### Using QCell
Thanks to its design, QCell has a very low overhead (I won't go into the details here) because it leverages the Rust type system so that borrow checking is done at compile time, whereas RefCell checks at runtime, so using QCell not only allows you to use it in multi-threaded environments, but also gives you a performance boost.
The next step is to apply QCell to our tree implementation. Since QCell only provides internal mutability, in order to be able to use multiple ownerships, we also need to have Arc, which looks like this.
\`\`\`
pub struct IntervalTree {
    node_owner: QCellOwner,
    ...
}

struct NodeRef<T, V>(Arc<QCell<Node<T, V>>>);
\`\`\`
Looking good, but how's the performance?
\`\`\`
test bench_interval_tree_insert_100           ... bench:      41,486 ns/iter (+/- 71)
test bench_interval_tree_insert_1000          ... bench:     586,854 ns/iter (+/- 13,947)
test bench_interval_tree_insert_10000         ... bench:   7,726,849 ns/iter (+/- 102,820)
test bench_interval_tree_insert_remove_100    ... bench:      75,569 ns/iter (+/- 325)
test bench_interval_tree_insert_remove_1000   ... bench:   1,135,232 ns/iter (+/- 7,539)
test bench_interval_tree_insert_remove_10000  ... bench:  15,686,474 ns/iter (+/- 194,385)
\`\`\`
Comparing the results of the previous tests, the performance drops by a factor of 1-3. This indicates that the biggest overhead is not the cell itself, but the reference counting, and in our interval tree case, using Arc is much slower than Rc.
An alternative to using Arc would be arena allocation, which allocates memory for all objects at once and deallocates them all at once. However, this approach is unsuitable for a tree data structure because we need to allocate and deallocate node memory dynamically.
### Array Analog Pointers
Performance tests show that our attempts at smart pointers fail. Using smart pointers to implement tree structures within the Rust ownership model results in poor performance.
So can we implement it without using pointers? A natural idea is to use arrays to emulate pointers.
Our tree structure is redesigned as follows.
\`\`\`
pub struct IntervalTree {
    nodes: Vec<Node>,
    ...
}

pub struct Node {
    left: Option<u32>,
    right: Option<u32>,
    parent: Option<u32>,
    ...
}
\`\`\`
As you can see, the advantage of arrays in Rust is that you don't need to own a node, you just need to keep track of the index. Each time a new node is inserted, it is pushed one node after the nodes, and its index is nodes.len() - 1.
Insertion is straightforward, but what about node deletion? A naive approach would be nulling the corresponding node in the Vec, then we are left with a "hole" in our Vec. This requires maintaining extra states to keep track of this hole, so that we can reuse it for the next insertion. Moreover, this approach makes it difficult to reclaim the space of the nodes in the Vec, even if most of the nodes have already been deleted.
So, how do we solve this issue? Inspired by the method used in petgraph, we can swap the node to be removed with the last node in the Vec before deleting it. This way, we can efficiently reclaim memory. Note that we also need to update the pointer to the node associated with the last node, since its position has changed. In the petgraph implementation, this operation could be time-consuming because a node may be connected to any number of other nodes. However, in our tree structure, we only need to update the parent, left child, and right child pointers of this node, making this an O(1) operation. This efficiently solves the node deletion problem.
Let's benchmark our new implementation:
\`\`\`
test bench_interval_tree_insert_100           ... bench:       3,333 ns/iter (+/- 87)
test bench_interval_tree_insert_1000          ... bench:      85,477 ns/iter (+/- 3,552)
test bench_interval_tree_insert_10000         ... bench:   1,406,707 ns/iter (+/- 20,796)
test bench_interval_tree_insert_remove_100    ... bench:       7,157 ns/iter (+/- 69)
test bench_interval_tree_insert_remove_1000   ... bench:     189,277 ns/iter (+/- 3,014)
test bench_interval_tree_insert_remove_10000  ... bench:   3,060,029 ns/iter (+/- 50,829)
\`\`\`
We can observe a huge performance gain with this implementation, about 1-2x faster than both the previous Rc<RefCell<Node>> approach and the golang implementation in etcd. 
Using arrays to emulate pointers not only solves the ownership problem easily, but also makes it more cache friendly due to the contiguous memory layout of arrays, making it even more performant than using actual pointers.
##   Summarizing
At this point, we have successfully implemented a interval tree using safe Rust. Through the various attempts described above, we found that using reference-counting smart pointers to implement tree or graph data structures in Rust is ineffective due to their unsuitability for memory-intensive operations. In the future, if I need to use safe Rust to implement pointer-like data structures, I would prefer to use arrays rather than smart pointers.`,yk=`---
  cover: /xline-home/blog/Asynchronous-runtime-IO-problem-analysis/cover.png
  author:
    name: Zhenghao Yin
    url: https://github.com/bsbds
    img_url: https://avatars.githubusercontent.com/u/69835502?v=4
  read_time: 10
---
In the performance testing of Xline, I ran into some issues with the asynchronous runtime. I found that using asynchronous file reads and writes in the WAL (Write-Ahead-Log) implementation produces high latency, which is unacceptable since WAL writes are on the critical path. How can this be optimized?
---

## Table of Contents
1. Xline Runtime Performance Issues
2. Asynchronous Runtime and Blocking Operations
3. Runtime Scheduling Issues
4. Performance Testing
   - Analyzing Test Results
5. How to implement correctly?
6. When can you block on the Runtime?
7. Summary

Programming in an asynchronous runtime is often difficult. In this article, we will discuss the IO issues in Rust's asynchronous runtime and how to use Tokio runtime correctly in code implementations for optimal performance, mainly through a few examples from Xline development. I'll be using Tokio runtime for the examples in this article. All examples in this article run on
\`\`\`
AMD EPYC 7543 32-Core Processor
Samsung 980 pro NVME SSD
Ubuntu 22.04.3 LTS, GNU/Linux 6.5.0-21-generic
rustc 1.79.0 (129f3b996 2024-06-10)
tokio 1.38.0
\`\`\`
## Xline runtime performance issues
In the performance testing of Xline, I ran into some issues with the asynchronous runtime. I found that using asynchronous file reads and writes in the WAL (Write-Ahead-Log) implementation produces high latency, which is unacceptable since WAL writes are on the critical path. How can this be optimized?
## Asynchronous Runtime and Blocking Operations
Let's start with a brief review of the asynchronous runtime mechanism in Rust. Rust's async mechanism achieves concurrency through collaborative scheduling. The runtime maintains a pool of threads (called worker threads in Tokio). The number of the threads is usually equal to the number of the CPU threads on the host. For each thread in the pool, the runtime will allocate an executor. The runtime distributes the tasks to each executor through a scheduler.
In Rust async code, tasks collaborate by switching at the .await point. When .await is called, control is handed back to the scheduler, allowing other tasks to run. Here's an example of an asynchronous pattern:
\`\`\`
#[tokio::main(flavor = "current_thread")]
async fn main() {
    let task = tokio::spawn(async {
        println!("Hello");
    });
    tokio::time::sleep(Duration::from_secs(1)).await;
    println!("World!");
    task.await.unwrap();
}
\`\`\`
If we set tokio to use current_thread, then there will be only one thread running in tokio runtime. In the code above, there are two tasks: the main task and another task spawned by tokio::spawn. When we call the asynchronous tokio::time::sleep from the main task, it hangs up with .await and switches to the other task. This way, no time is wasted waiting for the file to be read.
Here's another example describing a blocking operation:
\`\`\`
use tokio::time::Duration;

#[tokio::main(flavor = "current_thread")]
async fn main() {
    let task = tokio::spawn(async {
        println!("World!");
    });
    std::thread::sleep(Duration::from_secs(1));
    println!("Hello");
    task.await.unwrap();
}
\`\`\`
std::thread::sleep is a blocking operation, unlike tokio::time::sleep. It is a direct system call that puts the entire thread to sleep. When we use std::thread::sleep, it prevents the scheduler from switching to another task, and our spawned task cannot make any progress, thus wasting CPU resources.
If we avoid blocking operations, Rust's asynchronous runtime efficiently uses CPU time, providing zero-cost abstraction. Still, we need to think about how to use asynchronous runtime effectively in practice.
## Runtime Scheduling Issues
To address our previous question about the performance of Write-Ahead Logging (WAL), let's begin by examining the following simplified code.
\`\`\`
#[tonic::async_trait]
impl Protocol for Server {
    async fn propose(
        &self,
        request: Request<ProposeRequest>,
    ) -> Result<Response<ProposeResponse>, Status> {
        let req = request.into_inner();
        let (tx, rx) = oneshot::channel();
        self.send_to_persistent((req, tx));
        Ok(Response::new(rx.recv().await))
    }
}

impl Server {
    async fn persistent_task(&self) {
        loop {
            let (reqs, txs) = self.recv_batch().await {
                self.log_file.write_all(reqs.encode()).await;
                self.log_file.fdatasync().await;
                for tx in txs {
                    tx.send(ProposeResponse {});
                }
            }
        }
    }
}
\`\`\`
The gRPC server in Xline in the above code accepts ProposeRequests from clients. For each ProposeRequest, Xline writes it to a WAL file and synchronizes it to the storage device. To reduce the write latency, we use a dispatch pattern in persistence: each request will be sent to persistent_task through a channel, then the persistent_task fetches one batch request at a time and writes it to the file.
The writing and synchronization of the log_file are done using Tokio's asynchronous filesystem operations, allowing us to continue processing commands from other clients during the writing process. On the surface, this seems efficient. However, during performance testing, we found that under high load, write_all and fdatasync operations can take several milliseconds to complete.
This example demonstrates an anti-pattern in using asynchronous runtimes for file operations. When the Xline server is under heavy load, the runtime is stacked with tasks. If persistent_task yields to the runtime in the middle of an asynchronous write, it takes significantly longer to be rescheduled. Even though the write operation may have completed in the kernel, persistent_task cannot make progress. Under high load, the runtime may prioritize gRPC requests, causing the first request received by the server to be deprioritized. This conflict between request prioritization and runtime scheduling results in performance degradation.
## Performance Test
We can substantiate the above claims by writing a simple performance test to demonstrate the issues of using asynchronous I/O in a heavily loaded runtime. In this test, we will generate CPU-intensive tasks to increase the runtime load and simultaneously perform a performance test of file I/O.
Complete test code:https://github.com/bsbds/bench_tokio_fs
Test results:https://bsbds.github.io/bench_tokio_fs/report/
Name used in tests.
- fswrite: File write in Tokio runtime, using synchronous file IO
- fs_write_async: File write in Tokio runtime, using asynchronous file IO
- fs_write_thread: File write in Tokio runtime, using synchronous file IO with a separate thread
- noload: No workload on Tokio runtime at this time
- stress: Large workload on Tokio runtime at this time
### Analysis of test results
Below is a violin plot of the test results.
![image](/xline-home/blog/Asynchronous-runtime-IO-problem-analysis/image1.png)
From the figure, we can see that using file I/O on the Tokio runtime, whether synchronous or asynchronous, results in increased latency to varying degrees. Specifically, for purely asynchronous file I/O, there is a substantial increase in average latency and a relative increase in the variance of write latency, which further increases the uncertainty of write latency. This aligns with our expectations.
## How to implement it correctly?
The core issue is that Tokio does not support task prioritization. Due to the uncertain execution time of individual tasks, we cannot accurately predict when each task will be rescheduled under high load.
To implement task prioritization in Tokio, we might use a priority queue to maintain task priorities. However, since Tokio may need to handle hundreds of thousands or even millions of tasks simultaneously, and most tasks are short-lived, using a priority queue would result in significant overhead. Additionally, maintaining global task priorities would lead to strong competition between worker threads, conflicting with Tokio's work-stealing mechanism.
If scheduling priority is needed, it should be implemented with a small number of tasks and without a large number of short tasks. Prioritization can only be implemented in the local work queue of worker threads to avoid competition.
Given the difficulty of implementing a low-overhead prioritization mechanism in existing runtimes, the correct approach when using Tokio runtime with high-priority tasks is to run them in a separate thread pool to avoid starvation. This can be achieved by running multiple Tokio runtimes simultaneously or manually building a custom thread pool.
When writing code on top of the Tokio runtime, it is crucial to prioritize tasks. In our use case, the Tonic gRPC server consumes significant CPU time, potentially starving other tasks in the same runtime under high load. Therefore, we should consider splitting CPU-bound and I/O-bound tasks into two thread pools. The persistent_task is on the critical path and therefore should have the highest priority. A more appropriate approach would be to isolate the persistent_task from the runtime by spawning a dedicated system thread.
## When you can block on Runtime
In the performance test example above, we observe that file IO (fs_write) performance remains relatively good even when synchronized directly on the runtime. You may have heard the advice to never block in an asynchronous runtime. For instance, the Future trait documentation states:
An implementation of poll should strive to return quickly, and should not block.
However, this guideline is not universally applicable. Blindly implementing theoretically non-blocking I/O can sometimes negatively impact system performance.
For example, in Xline, we use RocksDB as the underlying key-value storage engine. Since the rocksdb crate is a wrapper around a C++ library and does not inherently support asynchronous interfaces, we may worry that using a synchronous interface will block the runtime. Consequently, we might attempt to use RocksDB in a non-blocking manner.
\`\`\`
{
    tokio::task::spawn_blocking(move || {
        db.put("foo", "bar").unwrap();
    })
    .await;
}
\`\`\`
The effect of tokio::task::spawn_blocking is to offload blocking tasks to the runtime's dedicated blocking threads. These blocking threads are part of a separate thread pool, ensuring they do not block the executor's main thread pool.
Those unfamiliar with RocksDB might assume that db.put involves file operations and is therefore blocking. This is not entirely accurate. To illustrate this, we can build a simple benchmark.
The following benchmark writes a batch of 100 keys to the database, with each key being 256 bytes and each value being 1024 bytes.

Complete test code: https://github.com/bsbds/bench_rocksdb
Test results:https://bsbds.github.io/bench_rocksdb/report/
\`\`\`
fn rocksdb_benchmark(c: &mut Criterion) {
    let mut group = c.benchmark_group("rocksdb_benchmarks");
    let rt = build_runtime();
    let db = Arc::new(DB::open_default(BENCH_PATH).unwrap());

    group.bench_function("rocksdb_write_sync", |b| {
        b.to_async(&rt).iter(|| async {
            db_write(&db);
        })
    });
    group.bench_function("rocksdb_write_async", |b| {
        b.to_async(&rt).iter(|| {
            let db_c = Arc::clone(&db);
            tokio::task::spawn_blocking(move || db_write(&db_c))
        })
    });
    group.finish();

    clean_up();
}
\`\`\`
In rocksdb_write_sync, the database is written to directly and synchronously. In contrast, rocksdb_write_async uses spawn_blocking to convert the synchronous operation into an asynchronous write to the database. The results are as follows:
![image](/xline-home/blog/Asynchronous-runtime-IO-problem-analysis/image.png)
It shows that the asynchronous version is 46% slower than the synchronous version. In this example, we are actually better off using rocksDB's synchronous api, as the transformed asynchronous version resulted in greater overhead.
One reason for this is that when we run a task using spawn_blocking, resulting in a switch from Tokio's worker thread to the blocking thread. This involves synchronizing data between the two threads and invalidating the CPU cache, making the operation relatively expensive.
Another reason to use the synchronous version is that our write operation only takes a few hundred microseconds, which is not truly a blocking operation. RocksDB writes the operation to the MemTable first and then asynchronously flushes it to disk via a background task, so the time taken is very short. For such short tasks, yielding to the runtime can cause two issues:
- The runtime can't effectively save CPU time even if it switches to another task in the meantime.
- Under high load, the runtime can experience increased latency and synchronization costs when tasks are sent to other worker threads.
You may wonder if using the synchronized version in this way creates a problem, since RocksDB suffers from write stalls and does not guarantee a stable latency for every write. Generally speaking, occasional blocking of the runtime does not significantly impact overall performance. For example, Tokio implements a work-stealing mechanism: if a worker thread is blocked, other worker threads can steal tasks from its work queue for execution. This alleviates blocking to some extent, especially for CPUs with more cores. Another example is async-std. It will generate a new thread for tasks that have been blocked for a longer period, which also mitigates the problem of occasional blocking in the runtime.
Calling RocksDB's synchronous API is only has some possibility of blocking, and the likelihood of this depends on the actual workload. When deciding whether to use synchronous blocking in the runtime, you should first evaluate the probability of blocking in your system. For example, in Xline, our main goal is to run on machines with modern SSDs, and Xline's design throughput is relatively low compare to RocksDB's maximum throughput. Therefore, RocksDB will almost never experience write stalls, and we could achieve the best average performance by calling the API synchronously in the runtime.
## Summary
Unfortunately, asynchronous runtime is not a silver bullet for all our IO problems. There's still much complexity in an asynchronous system. Better understanding the underlying mechanism can provide more tailored solutions.`,j1=Symbol.for("yaml.alias"),qp=Symbol.for("yaml.document"),Na=Symbol.for("yaml.map"),bk=Symbol.for("yaml.pair"),di=Symbol.for("yaml.scalar"),Zo=Symbol.for("yaml.seq"),Tr=Symbol.for("yaml.node.type"),Ds=e=>!!e&&typeof e=="object"&&e[Tr]===j1,Ls=e=>!!e&&typeof e=="object"&&e[Tr]===qp,Jo=e=>!!e&&typeof e=="object"&&e[Tr]===Na,jt=e=>!!e&&typeof e=="object"&&e[Tr]===bk,Et=e=>!!e&&typeof e=="object"&&e[Tr]===di,el=e=>!!e&&typeof e=="object"&&e[Tr]===Zo;function Vt(e){if(e&&typeof e=="object")switch(e[Tr]){case Na:case Zo:return!0}return!1}function Gt(e){if(e&&typeof e=="object")switch(e[Tr]){case j1:case Na:case di:case Zo:return!0}return!1}const RF=e=>(Et(e)||Vt(e))&&!!e.anchor,Hn=Symbol("break visit"),wk=Symbol("skip children"),li=Symbol("remove node");function La(e,t){const n=vk(t);Ls(e)?fo(null,e.contents,n,Object.freeze([e]))===li&&(e.contents=null):fo(null,e,n,Object.freeze([]))}La.BREAK=Hn;La.SKIP=wk;La.REMOVE=li;function fo(e,t,n,r){const i=xk(e,t,n,r);if(Gt(i)||jt(i))return kk(e,r,i),fo(e,i,n,r);if(typeof i!="symbol"){if(Vt(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){const s=fo(a,t.items[a],n,r);if(typeof s=="number")a=s-1;else{if(s===Hn)return Hn;s===li&&(t.items.splice(a,1),a-=1)}}}else if(jt(t)){r=Object.freeze(r.concat(t));const a=fo("key",t.key,n,r);if(a===Hn)return Hn;a===li&&(t.key=null);const s=fo("value",t.value,n,r);if(s===Hn)return Hn;s===li&&(t.value=null)}}return i}async function S0(e,t){const n=vk(t);Ls(e)?await mo(null,e.contents,n,Object.freeze([e]))===li&&(e.contents=null):await mo(null,e,n,Object.freeze([]))}S0.BREAK=Hn;S0.SKIP=wk;S0.REMOVE=li;async function mo(e,t,n,r){const i=await xk(e,t,n,r);if(Gt(i)||jt(i))return kk(e,r,i),mo(e,i,n,r);if(typeof i!="symbol"){if(Vt(t)){r=Object.freeze(r.concat(t));for(let a=0;a<t.items.length;++a){const s=await mo(a,t.items[a],n,r);if(typeof s=="number")a=s-1;else{if(s===Hn)return Hn;s===li&&(t.items.splice(a,1),a-=1)}}}else if(jt(t)){r=Object.freeze(r.concat(t));const a=await mo("key",t.key,n,r);if(a===Hn)return Hn;a===li&&(t.key=null);const s=await mo("value",t.value,n,r);if(s===Hn)return Hn;s===li&&(t.value=null)}}return i}function vk(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function xk(e,t,n,r){var i,a,s,o,l;if(typeof n=="function")return n(e,t,r);if(Jo(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(el(t))return(a=n.Seq)==null?void 0:a.call(n,e,t,r);if(jt(t))return(s=n.Pair)==null?void 0:s.call(n,e,t,r);if(Et(t))return(o=n.Scalar)==null?void 0:o.call(n,e,t,r);if(Ds(t))return(l=n.Alias)==null?void 0:l.call(n,e,t,r)}function kk(e,t,n){const r=t[t.length-1];if(Vt(r))r.items[e]=n;else if(jt(r))e==="key"?r.key=n:r.value=n;else if(Ls(r))r.contents=n;else{const i=Ds(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const IF={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},NF=e=>e.replace(/[!,[\]{}]/g,t=>IF[t]);class In{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},In.defaultYaml,t),this.tags=Object.assign({},In.defaultTags,n)}clone(){const t=new In(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new In(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:In.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},In.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:In.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},In.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[a,s]=r;return this.tags[a]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[a]=r;if(a==="1.1"||a==="1.2")return this.yaml.version=a,!0;{const s=/^\d+\.\d+$/.test(a);return n(6,`Unsupported YAML version ${a}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const a=this.tags[r];if(a)try{return a+decodeURIComponent(i)}catch(s){return n(String(s)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+NF(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Gt(t.contents)){const a={};La(t.contents,(s,o)=>{Gt(o)&&o.tag&&(a[o.tag]=!0)}),i=Object.keys(a)}else i=[];for(const[a,s]of r)a==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(o=>o.startsWith(s)))&&n.push(`%TAG ${a} ${s}`);return n.join(`
`)}}In.defaultYaml={explicit:!1,version:"1.2"};In.defaultTags={"!!":"tag:yaml.org,2002:"};function Sk(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function _k(e){const t=new Set;return La(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function Ek(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function MF(e,t){const n=[],r=new Map;let i=null;return{onAnchor:a=>{n.push(a),i||(i=_k(e));const s=Ek(t,i);return i.add(s),s},setAnchors:()=>{for(const a of n){const s=r.get(a);if(typeof s=="object"&&s.anchor&&(Et(s.node)||Vt(s.node)))s.node.anchor=s.anchor;else{const o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=a,o}}},sourceObjects:r}}function po(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,a=r.length;i<a;++i){const s=r[i],o=po(e,r,String(i),s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const a=r.get(i),s=po(e,r,i,a);s===void 0?r.delete(i):s!==a&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const a=po(e,r,i,i);a===void 0?r.delete(i):a!==i&&(r.delete(i),r.add(a))}else for(const[i,a]of Object.entries(r)){const s=po(e,r,i,a);s===void 0?delete r[i]:s!==a&&(r[i]=s)}return e.call(t,n,r)}function kr(e,t,n){if(Array.isArray(e))return e.map((r,i)=>kr(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!RF(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=a=>{r.res=a,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class q1{constructor(t){Object.defineProperty(this,Tr,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:a}={}){if(!Ls(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},o=kr(this,"",s);if(typeof i=="function")for(const{count:l,res:c}of s.anchors.values())i(c,l);return typeof a=="function"?po(a,{"":o},"",o):o}}class _0 extends q1{constructor(t){super(j1),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return La(t,{Node:(r,i)=>{if(i===this)return La.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:a}=n,s=this.resolve(i);if(!s){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let o=r.get(s);if(o||(kr(s,null,n),o=r.get(s)),!o||o.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(a>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=Td(i,s,r)),o.count*o.aliasCount>a)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return o.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(Sk(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const a=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(a)}if(t.implicitKey)return`${i} `}return i}}function Td(e,t,n){if(Ds(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Vt(t)){let r=0;for(const i of t.items){const a=Td(e,i,n);a>r&&(r=a)}return r}else if(jt(t)){const r=Td(e,t.key,n),i=Td(e,t.value,n);return Math.max(r,i)}return 1}const Tk=e=>!e||typeof e!="function"&&typeof e!="object";class He extends q1{constructor(t){super(di),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:kr(this.value,t,n)}toString(){return String(this.value)}}He.BLOCK_FOLDED="BLOCK_FOLDED";He.BLOCK_LITERAL="BLOCK_LITERAL";He.PLAIN="PLAIN";He.QUOTE_DOUBLE="QUOTE_DOUBLE";He.QUOTE_SINGLE="QUOTE_SINGLE";const OF="tag:yaml.org,2002:";function DF(e,t,n){if(t){const r=n.filter(a=>a.tag===t),i=r.find(a=>!a.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function xc(e,t,n){var d,f,h;if(Ls(e)&&(e=e.contents),Gt(e))return e;if(jt(e)){const g=(f=(d=n.schema[Na]).createNode)==null?void 0:f.call(d,n.schema,null,n);return g.items.push(e),g}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:a,schema:s,sourceObjects:o}=n;let l;if(r&&e&&typeof e=="object"){if(l=o.get(e),l)return l.anchor||(l.anchor=i(e)),new _0(l.anchor);l={anchor:null,node:null},o.set(e,l)}t!=null&&t.startsWith("!!")&&(t=OF+t.slice(2));let c=DF(e,t,s.tags);if(!c){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const g=new He(e);return l&&(l.node=g),g}c=e instanceof Map?s[Na]:Symbol.iterator in Object(e)?s[Zo]:s[Na]}a&&(a(c),delete n.onTagObj);const u=c!=null&&c.createNode?c.createNode(n.schema,e,n):typeof((h=c==null?void 0:c.nodeClass)==null?void 0:h.from)=="function"?c.nodeClass.from(n.schema,e,n):new He(e);return t?u.tag=t:c.default||(u.tag=c.tag),l&&(l.node=u),u}function bh(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const a=t[i];if(typeof a=="number"&&Number.isInteger(a)&&a>=0){const s=[];s[a]=r,r=s}else r=new Map([[a,r]])}return xc(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Ml=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class Ck extends q1{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Gt(r)||jt(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Ml(t))this.add(n);else{const[r,...i]=t,a=this.get(r,!0);if(Vt(a))a.addIn(i,n);else if(a===void 0&&this.schema)this.set(r,bh(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Vt(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,a=this.get(r,!0);return i.length===0?!n&&Et(a)?a.value:a:Vt(a)?a.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!jt(n))return!1;const r=n.value;return r==null||t&&Et(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Vt(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const a=this.get(r,!0);if(Vt(a))a.setIn(i,n);else if(a===void 0&&this.schema)this.set(r,bh(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const LF=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Ni(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const cs=(e,t,n)=>e.endsWith(`
`)?Ni(n,t):n.includes(`
`)?`
`+Ni(n,t):(e.endsWith(" ")?"":" ")+n,Ak="flow",Hp="block",Cd="quoted";function E0(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:a=20,onFold:s,onOverflow:o}={}){if(!i||i<0)return e;i<a&&(a=0);const l=Math.max(1+a,1+i-t.length);if(e.length<=l)return e;const c=[],u={};let d=i-t.length;typeof r=="number"&&(r>i-Math.max(2,a)?c.push(0):d=i-r);let f,h,g=!1,p=-1,v=-1,b=-1;n===Hp&&(p=l4(e,p,t.length),p!==-1&&(d=p+l));for(let k;k=e[p+=1];){if(n===Cd&&k==="\\"){switch(v=p,e[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}b=p}if(k===`
`)n===Hp&&(p=l4(e,p,t.length)),d=p+t.length+l,f=void 0;else{if(k===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const T=e[p+1];T&&T!==" "&&T!==`
`&&T!=="	"&&(f=p)}if(p>=d)if(f)c.push(f),d=f+l,f=void 0;else if(n===Cd){for(;h===" "||h==="	";)h=k,k=e[p+=1],g=!0;const T=p>b+1?p-2:v-1;if(u[T])return e;c.push(T),u[T]=!0,d=T+l,f=void 0}else g=!0}h=k}if(g&&o&&o(),c.length===0)return e;s&&s();let w=e.slice(0,c[0]);for(let k=0;k<c.length;++k){const T=c[k],R=c[k+1]||e.length;T===0?w=`
${t}${e.slice(0,R)}`:(n===Cd&&u[T]&&(w+=`${e[T]}\\`),w+=`
${t}${e.slice(T+1,R)}`)}return w}function l4(e,t,n){let r=t,i=t+1,a=e[i];for(;a===" "||a==="	";)if(t<i+n)a=e[++t];else{do a=e[++t];while(a&&a!==`
`);r=t,i=t+1,a=e[i]}return r}const T0=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),C0=e=>/^(%|---|\.\.\.)/m.test(e);function PF(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let a=0,s=0;a<i;++a)if(e[a]===`
`){if(a-s>r)return!0;if(s=a+1,i-s<=r)return!1}return!0}function Vl(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,a=t.indent||(C0(e)?"  ":"");let s="",o=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(s+=n.slice(o,l)+"\\ ",l+=1,o=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{s+=n.slice(o,l);const u=n.substr(l+2,4);switch(u){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:u.substr(0,2)==="00"?s+="\\x"+u.substr(2):s+=n.substr(l,6)}l+=5,o=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(s+=n.slice(o,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)s+=`
`,l+=2;s+=a,n[l+2]===" "&&(s+="\\"),l+=1,o=l+1}break;default:l+=1}return s=o?s+n.slice(o):n,r?s:E0(s,a,Cd,T0(t,!1))}function Wp(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return Vl(e,t);const n=t.indent||(C0(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:E0(r,n,Ak,T0(t,!1))}function go(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=Vl;else{const i=e.includes('"'),a=e.includes("'");i&&!a?r=Wp:a&&!i?r=Vl:r=n?Wp:Vl}return r(e,t)}let Xp;try{Xp=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Xp=/\n+(?!\n|$)/g}function Ad({comment:e,type:t,value:n},r,i,a){const{blockQuote:s,commentString:o,lineWidth:l}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return go(n,r);const c=r.indent||(r.forceBlockIndent||C0(n)?"  ":""),u=s==="literal"?!0:s==="folded"||t===He.BLOCK_FOLDED?!1:t===He.BLOCK_LITERAL?!0:!PF(n,l,c.length);if(!n)return u?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const x=n[f-1];if(x!==`
`&&x!=="	"&&x!==" ")break}let h=n.substring(f);const g=h.indexOf(`
`);g===-1?d="-":n===h||g!==h.length-1?(d="+",a&&a()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(Xp,`$&${c}`));let p=!1,v,b=-1;for(v=0;v<n.length;++v){const x=n[v];if(x===" ")p=!0;else if(x===`
`)b=v;else break}let w=n.substring(0,b<v?b+1:v);w&&(n=n.substring(w.length),w=w.replace(/\n+/g,`$&${c}`));let T=(u?"|":">")+(p?c?"2":"1":"")+d;if(e&&(T+=" "+o(e.replace(/ ?[\r\n]+/g," ")),i&&i()),u)return n=n.replace(/\n+/g,`$&${c}`),`${T}
${c}${w}${n}${h}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);const R=E0(`${w}${n}${h}`,c,Hp,T0(r,!0));return`${T}
${c}${R}`}function zF(e,t,n,r){const{type:i,value:a}=e,{actualString:s,implicitKey:o,indent:l,indentStep:c,inFlow:u}=t;if(o&&a.includes(`
`)||u&&/[[\]{},]/.test(a))return go(a,t);if(!a||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(a))return o||u||!a.includes(`
`)?go(a,t):Ad(e,t,n,r);if(!o&&!u&&i!==He.PLAIN&&a.includes(`
`))return Ad(e,t,n,r);if(C0(a)){if(l==="")return t.forceBlockIndent=!0,Ad(e,t,n,r);if(o&&l===c)return go(a,t)}const d=a.replace(/\n+/g,`$&
${l}`);if(s){const f=p=>{var v;return p.default&&p.tag!=="tag:yaml.org,2002:str"&&((v=p.test)==null?void 0:v.test(d))},{compat:h,tags:g}=t.doc.schema;if(g.some(f)||h!=null&&h.some(f))return go(a,t)}return o?d:E0(d,l,Ak,T0(t,!1))}function Yc(e,t,n,r){const{implicitKey:i,inFlow:a}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:o}=e;o!==He.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(o=He.QUOTE_DOUBLE);const l=u=>{switch(u){case He.BLOCK_FOLDED:case He.BLOCK_LITERAL:return i||a?go(s.value,t):Ad(s,t,n,r);case He.QUOTE_DOUBLE:return Vl(s.value,t);case He.QUOTE_SINGLE:return Wp(s.value,t);case He.PLAIN:return zF(s,t,n,r);default:return null}};let c=l(o);if(c===null){const{defaultKeyType:u,defaultStringType:d}=t.options,f=i&&u||d;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function Rk(e,t){const n=Object.assign({blockQuote:!0,commentString:LF,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function FF(e,t){var i;if(t.tag){const a=e.filter(s=>s.tag===t.tag);if(a.length>0)return a.find(s=>s.format===t.format)??a[0]}let n,r;if(Et(t)){r=t.value;let a=e.filter(s=>{var o;return(o=s.identify)==null?void 0:o.call(s,r)});if(a.length>1){const s=a.filter(o=>o.test);s.length>0&&(a=s)}n=a.find(s=>s.format===t.format)??a.find(s=>!s.format)}else r=t,n=e.find(a=>a.nodeClass&&r instanceof a.nodeClass);if(!n){const a=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${a} value`)}return n}function BF(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],a=(Et(e)||Vt(e))&&e.anchor;a&&Sk(a)&&(n.add(a),i.push(`&${a}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&i.push(r.directives.tagString(s)),i.join(" ")}function Uo(e,t,n,r){var l;if(jt(e))return e.toString(t,n,r);if(Ds(e)){if(t.doc.directives)return e.toString(t);if((l=t.resolvedAliases)!=null&&l.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const a=Gt(e)?e:t.doc.createNode(e,{onTagObj:c=>i=c});i||(i=FF(t.doc.schema.tags,a));const s=BF(a,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const o=typeof i.stringify=="function"?i.stringify(a,t,n,r):Et(a)?Yc(a,t,n,r):a.toString(t,n,r);return s?Et(a)||o[0]==="{"||o[0]==="["?`${s} ${o}`:`${s}
${t.indent}${o}`:o}function $F({key:e,value:t},n,r,i){const{allNullValues:a,doc:s,indent:o,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let f=Gt(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Vt(e)||!Gt(e)&&typeof e=="object"){const M="With simple keys, collection cannot be used as a key value";throw new Error(M)}}let h=!d&&(!e||f&&t==null&&!n.inFlow||Vt(e)||(Et(e)?e.type===He.BLOCK_FOLDED||e.type===He.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!a),indent:o+l});let g=!1,p=!1,v=Uo(e,n,()=>g=!0,()=>p=!0);if(!h&&!n.inFlow&&v.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(a||t==null)return g&&r&&r(),v===""?"?":h?`? ${v}`:v}else if(a&&!d||t==null&&h)return v=`? ${v}`,f&&!g?v+=cs(v,n.indent,c(f)):p&&i&&i(),v;g&&(f=null),h?(f&&(v+=cs(v,n.indent,c(f))),v=`? ${v}
${o}:`):(v=`${v}:`,f&&(v+=cs(v,n.indent,c(f))));let b,w,k;Gt(t)?(b=!!t.spaceBefore,w=t.commentBefore,k=t.comment):(b=!1,w=null,k=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!h&&!f&&Et(t)&&(n.indentAtStart=v.length+1),p=!1,!u&&l.length>=2&&!n.inFlow&&!h&&el(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let T=!1;const R=Uo(t,n,()=>T=!0,()=>p=!0);let x=" ";if(f||b||w){if(x=b?`
`:"",w){const M=c(w);x+=`
${Ni(M,n.indent)}`}R===""&&!n.inFlow?x===`
`&&(x=`

`):x+=`
${n.indent}`}else if(!h&&Vt(t)){const M=R[0],I=R.indexOf(`
`),B=I!==-1,D=n.inFlow??t.flow??t.items.length===0;if(B||!D){let Y=!1;if(B&&(M==="&"||M==="!")){let X=R.indexOf(" ");M==="&"&&X!==-1&&X<I&&R[X+1]==="!"&&(X=R.indexOf(" ",X+1)),(X===-1||I<X)&&(Y=!0)}Y||(x=`
${n.indent}`)}}else(R===""||R[0]===`
`)&&(x="");return v+=x+R,n.inFlow?T&&r&&r():k&&!T?v+=cs(v,n.indent,c(k)):p&&i&&i(),v}function Ik(e,t){(e==="debug"||e==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}const Vu="<<",Pi={identify:e=>e===Vu||typeof e=="symbol"&&e.description===Vu,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new He(Symbol(Vu)),{addToJSMap:Nk}),stringify:()=>Vu},UF=(e,t)=>(Pi.identify(t)||Et(t)&&(!t.type||t.type===He.PLAIN)&&Pi.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(n=>n.tag===Pi.tag&&n.default));function Nk(e,t,n){if(n=e&&Ds(n)?n.resolve(e.doc):n,el(n))for(const r of n.items)rm(e,t,r);else if(Array.isArray(n))for(const r of n)rm(e,t,r);else rm(e,t,n)}function rm(e,t,n){const r=e&&Ds(n)?n.resolve(e.doc):n;if(!Jo(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[a,s]of i)t instanceof Map?t.has(a)||t.set(a,s):t instanceof Set?t.add(a):Object.prototype.hasOwnProperty.call(t,a)||Object.defineProperty(t,a,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function Mk(e,t,{key:n,value:r}){if(Gt(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(UF(e,n))Nk(e,t,r);else{const i=kr(n,"",e);if(t instanceof Map)t.set(i,kr(r,i,e));else if(t instanceof Set)t.add(i);else{const a=jF(n,i,e),s=kr(r,a,e);a in t?Object.defineProperty(t,a,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[a]=s}}return t}function jF(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Gt(e)&&(n!=null&&n.doc)){const r=Rk(n.doc,{});r.anchors=new Set;for(const a of n.anchors.keys())r.anchors.add(a.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let a=JSON.stringify(i);a.length>40&&(a=a.substring(0,36)+'..."'),Ik(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${a}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function H1(e,t,n){const r=xc(e,void 0,n),i=xc(t,void 0,n);return new En(r,i)}class En{constructor(t,n=null){Object.defineProperty(this,Tr,{value:bk}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Gt(n)&&(n=n.clone(t)),Gt(r)&&(r=r.clone(t)),new En(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return Mk(n,r,this)}toString(t,n,r){return t!=null&&t.doc?$F(this,t,n,r):JSON.stringify(this)}}function Ok(e,t,n){return(t.inFlow??e.flow?HF:qF)(e,t,n)}function qF({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:a,onChompKeep:s,onComment:o}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:a,type:null});let d=!1;const f=[];for(let g=0;g<t.length;++g){const p=t[g];let v=null;if(Gt(p))!d&&p.spaceBefore&&f.push(""),wh(n,f,p.commentBefore,d),p.comment&&(v=p.comment);else if(jt(p)){const w=Gt(p.key)?p.key:null;w&&(!d&&w.spaceBefore&&f.push(""),wh(n,f,w.commentBefore,d))}d=!1;let b=Uo(p,u,()=>v=null,()=>d=!0);v&&(b+=cs(b,a,c(v))),d&&v&&(d=!1),f.push(r+b)}let h;if(f.length===0)h=i.start+i.end;else{h=f[0];for(let g=1;g<f.length;++g){const p=f[g];h+=p?`
${l}${p}`:`
`}}return e?(h+=`
`+Ni(c(e),l),o&&o()):d&&s&&s(),h}function HF({items:e},t,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:a,flowCollectionPadding:s,options:{commentString:o}}=t;r+=a;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let c=!1,u=0;const d=[];for(let g=0;g<e.length;++g){const p=e[g];let v=null;if(Gt(p))p.spaceBefore&&d.push(""),wh(t,d,p.commentBefore,!1),p.comment&&(v=p.comment);else if(jt(p)){const w=Gt(p.key)?p.key:null;w&&(w.spaceBefore&&d.push(""),wh(t,d,w.commentBefore,!1),w.comment&&(c=!0));const k=Gt(p.value)?p.value:null;k?(k.comment&&(v=k.comment),k.commentBefore&&(c=!0)):p.value==null&&(w!=null&&w.comment)&&(v=w.comment)}v&&(c=!0);let b=Uo(p,l,()=>v=null);g<e.length-1&&(b+=","),v&&(b+=cs(b,r,o(v))),!c&&(d.length>u||b.includes(`
`))&&(c=!0),d.push(b),u=d.length}const{start:f,end:h}=n;if(d.length===0)return f+h;if(!c){const g=d.reduce((p,v)=>p+v.length+2,2);c=t.options.lineWidth>0&&g>t.options.lineWidth}if(c){let g=f;for(const p of d)g+=p?`
${a}${i}${p}`:`
`;return`${g}
${i}${h}`}else return`${f}${s}${d.join(" ")}${s}${h}`}function wh({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const a=Ni(t(r),e);n.push(a.trimStart())}}function us(e,t){const n=Et(t)?t.value:t;for(const r of e)if(jt(r)&&(r.key===t||r.key===n||Et(r.key)&&r.key.value===n))return r}class rr extends Ck{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Na,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:a}=r,s=new this(t),o=(l,c)=>{if(typeof a=="function")c=a.call(n,l,c);else if(Array.isArray(a)&&!a.includes(l))return;(c!==void 0||i)&&s.items.push(H1(l,c,r))};if(n instanceof Map)for(const[l,c]of n)o(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))o(l,n[l]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,n){var s;let r;jt(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new En(t,t==null?void 0:t.value):r=new En(t.key,t.value);const i=us(this.items,r.key),a=(s=this.schema)==null?void 0:s.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Et(i.value)&&Tk(r.value)?i.value.value=r.value:i.value=r.value}else if(a){const o=this.items.findIndex(l=>a(r,l)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(t){const n=us(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=us(this.items,t),i=r==null?void 0:r.value;return(!n&&Et(i)?i.value:i)??void 0}has(t){return!!us(this.items,t)}set(t,n){this.add(new En(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const a of this.items)Mk(n,i,a);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!jt(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Ok(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const tl={collection:"map",default:!0,nodeClass:rr,tag:"tag:yaml.org,2002:map",resolve(e,t){return Jo(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>rr.from(e,t,n)};class Pa extends Ck{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Zo,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=Yu(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=Yu(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Et(i)?i.value:i}has(t){const n=Yu(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=Yu(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Et(i)&&Tk(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const a of this.items)r.push(kr(a,String(i++),n));return r}toString(t,n,r){return t?Ok(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,a=new this(t);if(n&&Symbol.iterator in Object(n)){let s=0;for(let o of n){if(typeof i=="function"){const l=n instanceof Set?o:String(s++);o=i.call(n,l,o)}a.items.push(xc(o,void 0,r))}}return a}}function Yu(e){let t=Et(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const nl={collection:"seq",default:!0,nodeClass:Pa,tag:"tag:yaml.org,2002:seq",resolve(e,t){return el(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>Pa.from(e,t,n)},A0={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),Yc(e,t,n,r)}},R0={identify:e=>e==null,createNode:()=>new He(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new He(null),stringify:({source:e},t)=>typeof e=="string"&&R0.test.test(e)?e:t.options.nullStr},W1={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new He(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&W1.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Kr({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let a=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(a)){let s=a.indexOf(".");s<0&&(s=a.length,a+=".");let o=t-(a.length-s-1);for(;o-- >0;)a+="0"}return a}const Dk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Kr},Lk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Kr(e)}},Pk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new He(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Kr},I0=e=>typeof e=="bigint"||Number.isInteger(e),X1=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function zk(e,t,n){const{value:r}=e;return I0(r)&&r>=0?n+r.toString(t):Kr(e)}const Fk={identify:e=>I0(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>X1(e,2,8,n),stringify:e=>zk(e,8,"0o")},Bk={identify:I0,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>X1(e,0,10,n),stringify:Kr},$k={identify:e=>I0(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>X1(e,2,16,n),stringify:e=>zk(e,16,"0x")},WF=[tl,nl,A0,R0,W1,Fk,Bk,$k,Dk,Lk,Pk];function c4(e){return typeof e=="bigint"||Number.isInteger(e)}const Gu=({value:e})=>JSON.stringify(e),XF=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Gu},{identify:e=>e==null,createNode:()=>new He(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Gu},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Gu},{identify:c4,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>c4(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Gu}],VF={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},YF=[tl,nl].concat(XF,VF),V1={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Buffer=="function")return Buffer.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,a){const s=n;let o;if(typeof Buffer=="function")o=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);o=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=He.BLOCK_LITERAL),t!==He.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),c=Math.ceil(o.length/l),u=new Array(c);for(let d=0,f=0;d<c;++d,f+=l)u[d]=o.substr(f,l);o=u.join(t===He.BLOCK_LITERAL?`
`:" ")}return Yc({comment:e,type:t,value:o},r,i,a)}};function Uk(e,t){if(el(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!jt(r)){if(Jo(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new En(new He(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const a=i.value??i.key;a.comment=a.comment?`${r.comment}
${a.comment}`:r.comment}r=i}e.items[n]=jt(r)?r:new En(r)}}else t("Expected a sequence for this tag");return e}function jk(e,t,n){const{replacer:r}=n,i=new Pa(e);i.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(a++),s));let o,l;if(Array.isArray(s))if(s.length===2)o=s[0],l=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const c=Object.keys(s);if(c.length===1)o=c[0],l=s[o];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else o=s;i.items.push(H1(o,l,n))}return i}const Y1={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Uk,createNode:jk};class Eo extends Pa{constructor(){super(),this.add=rr.prototype.add.bind(this),this.delete=rr.prototype.delete.bind(this),this.get=rr.prototype.get.bind(this),this.has=rr.prototype.has.bind(this),this.set=rr.prototype.set.bind(this),this.tag=Eo.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let a,s;if(jt(i)?(a=kr(i.key,"",n),s=kr(i.value,a,n)):a=kr(i,"",n),r.has(a))throw new Error("Ordered maps must not include duplicate keys");r.set(a,s)}return r}static from(t,n,r){const i=jk(t,n,r),a=new this;return a.items=i.items,a}}Eo.tag="tag:yaml.org,2002:omap";const G1={collection:"seq",identify:e=>e instanceof Map,nodeClass:Eo,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Uk(e,t),r=[];for(const{key:i}of n.items)Et(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Eo,n)},createNode:(e,t,n)=>Eo.from(e,t,n)};function qk({value:e,source:t},n){return t&&(e?Hk:Wk).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Hk={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new He(!0),stringify:qk},Wk={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new He(!1),stringify:qk},GF={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Kr},KF={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Kr(e)}},QF={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new He(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Kr},Gc=e=>typeof e=="bigint"||Number.isInteger(e);function N0(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const a=parseInt(e,n);return i==="-"?-1*a:a}function K1(e,t,n){const{value:r}=e;if(Gc(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Kr(e)}const ZF={identify:Gc,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>N0(e,2,2,n),stringify:e=>K1(e,2,"0b")},JF={identify:Gc,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>N0(e,1,8,n),stringify:e=>K1(e,8,"0")},eB={identify:Gc,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>N0(e,0,10,n),stringify:Kr},tB={identify:Gc,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>N0(e,2,16,n),stringify:e=>K1(e,16,"0x")};class To extends rr{constructor(t){super(t),this.tag=To.tag}add(t){let n;jt(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new En(t.key,null):n=new En(t,null),us(this.items,n.key)||this.items.push(n)}get(t,n){const r=us(this.items,t);return!n&&jt(r)?Et(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=us(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new En(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,a=new this(t);if(n&&Symbol.iterator in Object(n))for(let s of n)typeof i=="function"&&(s=i.call(n,s,s)),a.items.push(H1(s,null,r));return a}}To.tag="tag:yaml.org,2002:set";const Q1={collection:"map",identify:e=>e instanceof Set,nodeClass:To,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>To.from(e,t,n),resolve(e,t){if(Jo(e)){if(e.hasAllNullValues(!0))return Object.assign(new To,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Z1(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),a=r.replace(/_/g,"").split(":").reduce((s,o)=>s*i(60)+i(o),i(0));return n==="-"?i(-1)*a:a}function Xk(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return Kr(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),a=[t%i];return t<60?a.unshift(0):(t=(t-a[0])/i,a.unshift(t%i),t>=60&&(t=(t-a[0])/i,a.unshift(t))),r+a.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Vk={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Z1(e,n),stringify:Xk},Yk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Z1(e,!1),stringify:Xk},M0={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(M0.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,a,s,o]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let c=Date.UTC(n,r-1,i,a||0,s||0,o||0,l);const u=t[8];if(u&&u!=="Z"){let d=Z1(u,!1);Math.abs(d)<30&&(d*=60),c-=6e4*d}return new Date(c)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},u4=[tl,nl,A0,R0,Hk,Wk,ZF,JF,eB,tB,GF,KF,QF,V1,Pi,G1,Y1,Q1,Vk,Yk,M0],d4=new Map([["core",WF],["failsafe",[tl,nl,A0]],["json",YF],["yaml11",u4],["yaml-1.1",u4]]),h4={binary:V1,bool:W1,float:Pk,floatExp:Lk,floatNaN:Dk,floatTime:Yk,int:Bk,intHex:$k,intOct:Fk,intTime:Vk,map:tl,merge:Pi,null:R0,omap:G1,pairs:Y1,seq:nl,set:Q1,timestamp:M0},nB={"tag:yaml.org,2002:binary":V1,"tag:yaml.org,2002:merge":Pi,"tag:yaml.org,2002:omap":G1,"tag:yaml.org,2002:pairs":Y1,"tag:yaml.org,2002:set":Q1,"tag:yaml.org,2002:timestamp":M0};function im(e,t,n){const r=d4.get(t);if(r&&!e)return n&&!r.includes(Pi)?r.concat(Pi):r.slice();let i=r;if(!i)if(Array.isArray(e))i=[];else{const a=Array.from(d4.keys()).filter(s=>s!=="yaml11").map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${a} or define customTags array`)}if(Array.isArray(e))for(const a of e)i=i.concat(a);else typeof e=="function"&&(i=e(i.slice()));return n&&(i=i.concat(Pi)),i.reduce((a,s)=>{const o=typeof s=="string"?h4[s]:s;if(!o){const l=JSON.stringify(s),c=Object.keys(h4).map(u=>JSON.stringify(u)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${c}`)}return a.includes(o)||a.push(o),a},[])}const rB=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class O0{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:a,sortMapEntries:s,toStringDefaults:o}){this.compat=Array.isArray(t)?im(t,"compat"):t?im(null,t):null,this.name=typeof a=="string"&&a||"core",this.knownTags=i?nB:{},this.tags=im(n,this.name,r),this.toStringOptions=o??null,Object.defineProperty(this,Na,{value:tl}),Object.defineProperty(this,di,{value:A0}),Object.defineProperty(this,Zo,{value:nl}),this.sortMapEntries=typeof s=="function"?s:s===!0?rB:null}clone(){const t=Object.create(O0.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function iB(e,t){var l;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const c=e.directives.toString(e);c?(n.push(c),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=Rk(e,t),{commentString:a}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const c=a(e.commentBefore);n.unshift(Ni(c,""))}let s=!1,o=null;if(e.contents){if(Gt(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const d=a(e.contents.commentBefore);n.push(Ni(d,""))}i.forceBlockIndent=!!e.comment,o=e.contents.comment}const c=o?void 0:()=>s=!0;let u=Uo(e.contents,i,()=>o=null,c);o&&(u+=cs(u,"",a(o))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(Uo(e.contents,i));if((l=e.directives)!=null&&l.docEnd)if(e.comment){const c=a(e.comment);c.includes(`
`)?(n.push("..."),n.push(Ni(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=e.comment;c&&s&&(c=c.replace(/^\n+/,"")),c&&((!s||o)&&n[n.length-1]!==""&&n.push(""),n.push(Ni(a(c),"")))}return n.join(`
`)+`
`}class rl{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Tr,{value:qp});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const a=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=a;let{version:s}=a;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new In({version:s}),this.setSchema(s,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(rl.prototype,{[Tr]:{value:qp}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Gt(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Ws(this.contents)&&this.contents.add(t)}addIn(t,n){Ws(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=_k(this);t.anchor=!n||r.has(n)?Ek(n||"a",r):n}return new _0(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const v=w=>typeof w=="number"||w instanceof String||w instanceof Number,b=n.filter(v).map(String);b.length>0&&(n=n.concat(b)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:a,anchorPrefix:s,flow:o,keepUndefined:l,onTagObj:c,tag:u}=r??{},{onAnchor:d,setAnchors:f,sourceObjects:h}=MF(this,s||"a"),g={aliasDuplicateObjects:a??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:h},p=xc(t,u,g);return o&&Vt(p)&&(p.flow=!0),f(),p}createPair(t,n,r={}){const i=this.createNode(t,null,r),a=this.createNode(n,null,r);return new En(i,a)}delete(t){return Ws(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Ml(t)?this.contents==null?!1:(this.contents=null,!0):Ws(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Vt(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Ml(t)?!n&&Et(this.contents)?this.contents.value:this.contents:Vt(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Vt(this.contents)?this.contents.has(t):!1}hasIn(t){return Ml(t)?this.contents!==void 0:Vt(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=bh(this.schema,[t],n):Ws(this.contents)&&this.contents.set(t,n)}setIn(t,n){Ml(t)?this.contents=n:this.contents==null?this.contents=bh(this.schema,Array.from(t),n):Ws(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new In({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new In({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new O0(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:a,reviver:s}={}){const o={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=kr(this.contents,n??"",o);if(typeof a=="function")for(const{count:c,res:u}of o.anchors.values())a(u,c);return typeof s=="function"?po(s,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return iB(this,t)}}function Ws(e){if(Vt(e))return!0;throw new Error("Expected a YAML collection as document contents")}class J1 extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class ds extends J1{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class Gk extends J1{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const vh=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(o=>t.linePos(o));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let a=i-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(a>=60&&s.length>80){const o=Math.min(a-39,s.length-79);s=""+s.substring(o),a-=o-1}if(s.length>80&&(s=s.substring(0,79)+""),r>1&&/^ *$/.test(s.substring(0,a))){let o=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);o.length>80&&(o=o.substring(0,79)+`
`),s=o+s}if(/[^ ]/.test(s)){let o=1;const l=n.linePos[1];l&&l.line===r&&l.col>i&&(o=Math.max(1,Math.min(l.col-i,80-a)));const c=" ".repeat(a)+"^".repeat(o);n.message+=`:

${s}
${c}
`}};function jo(e,{flow:t,indicator:n,next:r,offset:i,onError:a,parentIndent:s,startOnNewline:o}){let l=!1,c=o,u=o,d="",f="",h=!1,g=!1,p=null,v=null,b=null,w=null,k=null,T=null,R=null;for(const I of e)switch(g&&(I.type!=="space"&&I.type!=="newline"&&I.type!=="comma"&&a(I.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g=!1),p&&(c&&I.type!=="comment"&&I.type!=="newline"&&a(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),p=null),I.type){case"space":!t&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&I.source.includes("	")&&(p=I),u=!0;break;case"comment":{u||a(I,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const B=I.source.substring(1)||" ";d?d+=f+B:d=B,f="",c=!1;break}case"newline":c?d?d+=I.source:l=!0:f+=I.source,c=!0,h=!0,(v||b)&&(w=I),u=!0;break;case"anchor":v&&a(I,"MULTIPLE_ANCHORS","A node can have at most one anchor"),I.source.endsWith(":")&&a(I.offset+I.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),v=I,R===null&&(R=I.offset),c=!1,u=!1,g=!0;break;case"tag":{b&&a(I,"MULTIPLE_TAGS","A node can have at most one tag"),b=I,R===null&&(R=I.offset),c=!1,u=!1,g=!0;break}case n:(v||b)&&a(I,"BAD_PROP_ORDER",`Anchors and tags must be after the ${I.source} indicator`),T&&a(I,"UNEXPECTED_TOKEN",`Unexpected ${I.source} in ${t??"collection"}`),T=I,c=n==="seq-item-ind"||n==="explicit-key-ind",u=!1;break;case"comma":if(t){k&&a(I,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),k=I,c=!1,u=!1;break}default:a(I,"UNEXPECTED_TOKEN",`Unexpected ${I.type} token`),c=!1,u=!1}const x=e[e.length-1],M=x?x.offset+x.source.length:i;return g&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&a(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p&&(c&&p.indent<=s||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&a(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:k,found:T,spaceBefore:l,comment:d,hasNewline:h,anchor:v,tag:b,newlineAfterProp:w,end:M,start:R??M}}function kc(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(kc(t.key)||kc(t.value))return!0}return!1;default:return!0}}function Vp(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&kc(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Kk(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(a,s)=>a===s||Et(a)&&Et(s)&&a.value===s.value;return t.some(a=>i(a.key,n))}const f4="All mapping items must start at the same column";function aB({composeNode:e,composeEmptyNode:t},n,r,i,a){var u;const s=(a==null?void 0:a.nodeClass)??rr,o=new s(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,c=null;for(const d of r.items){const{start:f,key:h,sep:g,value:p}=d,v=jo(f,{indicator:"explicit-key-ind",next:h??(g==null?void 0:g[0]),offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0}),b=!v.found;if(b){if(h&&(h.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==r.indent&&i(l,"BAD_INDENT",f4)),!v.anchor&&!v.tag&&!g){c=v.end,v.comment&&(o.comment?o.comment+=`
`+v.comment:o.comment=v.comment);continue}(v.newlineAfterProp||kc(h))&&i(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((u=v.found)==null?void 0:u.indent)!==r.indent&&i(l,"BAD_INDENT",f4);n.atKey=!0;const w=v.end,k=h?e(n,h,v,i):t(n,w,f,null,v,i);n.schema.compat&&Vp(r.indent,h,i),n.atKey=!1,Kk(n,o.items,k)&&i(w,"DUPLICATE_KEY","Map keys must be unique");const T=jo(g??[],{indicator:"map-value-ind",next:p,offset:k.range[2],onError:i,parentIndent:r.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=T.end,T.found){b&&((p==null?void 0:p.type)==="block-map"&&!T.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&v.start<T.found.offset-1024&&i(k.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const R=p?e(n,p,T,i):t(n,l,g,null,T,i);n.schema.compat&&Vp(r.indent,p,i),l=R.range[2];const x=new En(k,R);n.options.keepSourceTokens&&(x.srcToken=d),o.items.push(x)}else{b&&i(k.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),T.comment&&(k.comment?k.comment+=`
`+T.comment:k.comment=T.comment);const R=new En(k);n.options.keepSourceTokens&&(R.srcToken=d),o.items.push(R)}}return c&&c<l&&i(c,"IMPOSSIBLE","Map comment with trailing content"),o.range=[r.offset,l,c??l],o}function sB({composeNode:e,composeEmptyNode:t},n,r,i,a){const s=(a==null?void 0:a.nodeClass)??Pa,o=new s(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,c=null;for(const{start:u,value:d}of r.items){const f=jo(u,{indicator:"seq-item-ind",next:d,offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||d)d&&d.type==="block-seq"?i(f.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{c=f.end,f.comment&&(o.comment=f.comment);continue}const h=d?e(n,d,f,i):t(n,f.end,u,null,f,i);n.schema.compat&&Vp(r.indent,d,i),l=h.range[2],o.items.push(h)}return o.range=[r.offset,l,c??l],o}function Kc(e,t,n,r){let i="";if(e){let a=!1,s="";for(const o of e){const{source:l,type:c}=o;switch(c){case"space":a=!0;break;case"comment":{n&&!a&&r(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const u=l.substring(1)||" ";i?i+=s+u:i=u,s="";break}case"newline":i&&(s+=l),a=!0;break;default:r(o,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=l.length}}return{comment:i,offset:t}}const am="Block collections are not allowed within flow collections",sm=e=>e&&(e.type==="block-map"||e.type==="block-seq");function oB({composeNode:e,composeEmptyNode:t},n,r,i,a){const s=r.start.source==="{",o=s?"flow map":"flow sequence",l=(a==null?void 0:a.nodeClass)??(s?rr:Pa),c=new l(n.schema);c.flow=!0;const u=n.atRoot;u&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=r.offset+r.start.source.length;for(let v=0;v<r.items.length;++v){const b=r.items[v],{start:w,key:k,sep:T,value:R}=b,x=jo(w,{flow:o,indicator:"explicit-key-ind",next:k??(T==null?void 0:T[0]),offset:d,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!x.found){if(!x.anchor&&!x.tag&&!T&&!R){v===0&&x.comma?i(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):v<r.items.length-1&&i(x.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),x.comment&&(c.comment?c.comment+=`
`+x.comment:c.comment=x.comment),d=x.end;continue}!s&&n.options.strict&&kc(k)&&i(k,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(v===0)x.comma&&i(x.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(x.comma||i(x.start,"MISSING_CHAR",`Missing , between ${o} items`),x.comment){let M="";e:for(const I of w)switch(I.type){case"comma":case"space":break;case"comment":M=I.source.substring(1);break e;default:break e}if(M){let I=c.items[c.items.length-1];jt(I)&&(I=I.value??I.key),I.comment?I.comment+=`
`+M:I.comment=M,x.comment=x.comment.substring(M.length+1)}}if(!s&&!T&&!x.found){const M=R?e(n,R,x,i):t(n,x.end,T,null,x,i);c.items.push(M),d=M.range[2],sm(R)&&i(M.range,"BLOCK_IN_FLOW",am)}else{n.atKey=!0;const M=x.end,I=k?e(n,k,x,i):t(n,M,w,null,x,i);sm(k)&&i(I.range,"BLOCK_IN_FLOW",am),n.atKey=!1;const B=jo(T??[],{flow:o,indicator:"map-value-ind",next:R,offset:I.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(B.found){if(!s&&!x.found&&n.options.strict){if(T)for(const X of T){if(X===B.found)break;if(X.type==="newline"){i(X,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}x.start<B.found.offset-1024&&i(B.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else R&&("source"in R&&R.source&&R.source[0]===":"?i(R,"MISSING_CHAR",`Missing space after : in ${o}`):i(B.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const D=R?e(n,R,B,i):B.found?t(n,B.end,T,null,B,i):null;D?sm(R)&&i(D.range,"BLOCK_IN_FLOW",am):B.comment&&(I.comment?I.comment+=`
`+B.comment:I.comment=B.comment);const Y=new En(I,D);if(n.options.keepSourceTokens&&(Y.srcToken=b),s){const X=c;Kk(n,X.items,I)&&i(M,"DUPLICATE_KEY","Map keys must be unique"),X.items.push(Y)}else{const X=new rr(n.schema);X.flow=!0,X.items.push(Y);const ce=(D??I).range;X.range=[I.range[0],ce[1],ce[2]],c.items.push(X)}d=D?D.range[2]:B.end}}const f=s?"}":"]",[h,...g]=r.end;let p=d;if(h&&h.source===f)p=h.offset+h.source.length;else{const v=o[0].toUpperCase()+o.substring(1),b=u?`${v} must end with a ${f}`:`${v} in block collection must be sufficiently indented and end with a ${f}`;i(d,u?"MISSING_CHAR":"BAD_INDENT",b),h&&h.source.length!==1&&g.unshift(h)}if(g.length>0){const v=Kc(g,p,n.options.strict,i);v.comment&&(c.comment?c.comment+=`
`+v.comment:c.comment=v.comment),c.range=[r.offset,p,v.offset]}else c.range=[r.offset,p,p];return c}function om(e,t,n,r,i,a){const s=n.type==="block-map"?aB(e,t,n,r,a):n.type==="block-seq"?sB(e,t,n,r,a):oB(e,t,n,r,a),o=s.constructor;return i==="!"||i===o.tagName?(s.tag=o.tagName,s):(i&&(s.tag=i),s)}function lB(e,t,n,r,i){var f;const a=r.tag,s=a?t.directives.tagName(a.source,h=>i(a,"TAG_RESOLVE_FAILED",h)):null;if(n.type==="block-seq"){const{anchor:h,newlineAfterProp:g}=r,p=h&&a?h.offset>a.offset?h:a:h??a;p&&(!g||g.offset<p.offset)&&i(p,"MISSING_CHAR","Missing newline after block sequence props")}const o=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!a||!s||s==="!"||s===rr.tagName&&o==="map"||s===Pa.tagName&&o==="seq")return om(e,t,n,i,s);let l=t.schema.tags.find(h=>h.tag===s&&h.collection===o);if(!l){const h=t.schema.knownTags[s];if(h&&h.collection===o)t.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h!=null&&h.collection?i(a,"BAD_COLLECTION_TYPE",`${h.tag} used for ${o} collection, but expects ${h.collection}`,!0):i(a,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),om(e,t,n,i,s)}const c=om(e,t,n,i,s,l),u=((f=l.resolve)==null?void 0:f.call(l,c,h=>i(a,"TAG_RESOLVE_FAILED",h),t.options))??c,d=Gt(u)?u:new He(u);return d.range=c.range,d.tag=s,l!=null&&l.format&&(d.format=l.format),d}function Qk(e,t,n){const r=t.offset,i=cB(t,e.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const a=i.mode===">"?He.BLOCK_FOLDED:He.BLOCK_LITERAL,s=t.source?uB(t.source):[];let o=s.length;for(let p=s.length-1;p>=0;--p){const v=s[p][1];if(v===""||v==="\r")o=p;else break}if(o===0){const p=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let v=r+i.length;return t.source&&(v+=t.source.length),{value:p,type:a,comment:i.comment,range:[r,v,v]}}let l=t.indent+i.indent,c=t.offset+i.length,u=0;for(let p=0;p<o;++p){const[v,b]=s[p];if(b===""||b==="\r")i.indent===0&&v.length>l&&(l=v.length);else{if(v.length<l){const w="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(c+v.length,"MISSING_CHAR",w)}i.indent===0&&(l=v.length),u=p,l===0&&!e.atRoot&&n(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=v.length+b.length+1}for(let p=s.length-1;p>=o;--p)s[p][0].length>l&&(o=p+1);let d="",f="",h=!1;for(let p=0;p<u;++p)d+=s[p][0].slice(l)+`
`;for(let p=u;p<o;++p){let[v,b]=s[p];c+=v.length+b.length+1;const w=b[b.length-1]==="\r";if(w&&(b=b.slice(0,-1)),b&&v.length<l){const T=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(c-b.length-(w?2:1),"BAD_INDENT",T),v=""}a===He.BLOCK_LITERAL?(d+=f+v.slice(l)+b,f=`
`):v.length>l||b[0]==="	"?(f===" "?f=`
`:!h&&f===`
`&&(f=`

`),d+=f+v.slice(l)+b,f=`
`,h=!0):b===""?f===`
`?d+=`
`:f=`
`:(d+=f+b,f=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let p=o;p<s.length;++p)d+=`
`+s[p][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const g=r+i.length+t.source.length;return{value:d,type:a,comment:i.comment,range:[r,g,g]}}function cB({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],a=i[0];let s=0,o="",l=-1;for(let f=1;f<i.length;++f){const h=i[f];if(!o&&(h==="-"||h==="+"))o=h;else{const g=Number(h);!s&&g?s=g:l===-1&&(l=e+f)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let c=!1,u="",d=i.length;for(let f=1;f<t.length;++f){const h=t[f];switch(h.type){case"space":c=!0;case"newline":d+=h.source.length;break;case"comment":n&&!c&&r(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=h.source.length,u=h.source.substring(1);break;case"error":r(h,"UNEXPECTED_TOKEN",h.message),d+=h.source.length;break;default:{const g=`Unexpected token in block scalar header: ${h.type}`;r(h,"UNEXPECTED_TOKEN",g);const p=h.source;p&&typeof p=="string"&&(d+=p.length)}}}return{mode:a,indent:s,chomp:o,comment:u,length:d}}function uB(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),a=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let s=1;s<t.length;s+=2)a.push([t[s],t[s+1]]);return a}function Zk(e,t,n){const{offset:r,type:i,source:a,end:s}=e;let o,l;const c=(f,h,g)=>n(r+f,h,g);switch(i){case"scalar":o=He.PLAIN,l=dB(a,c);break;case"single-quoted-scalar":o=He.QUOTE_SINGLE,l=hB(a,c);break;case"double-quoted-scalar":o=He.QUOTE_DOUBLE,l=fB(a,c);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+a.length,r+a.length]}}const u=r+a.length,d=Kc(s,u,t,n);return{value:l,type:o,comment:d.comment,range:[r,u,d.offset]}}function dB(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Jk(e)}function hB(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Jk(e.slice(1,-1)).replace(/''/g,"'")}function Jk(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],a=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)r[1]===""?a===`
`?i+=a:a=`
`:(i+=a+r[1],a=" "),s=n.lastIndex;const o=/[ \t]*(.*)/sy;return o.lastIndex=s,r=o.exec(e),i+a+((r==null?void 0:r[1])??"")}function fB(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:a,offset:s}=mB(e,r);n+=a,r=s}else if(i==="\\"){let a=e[++r];const s=pB[a];if(s)n+=s;else if(a===`
`)for(a=e[r+1];a===" "||a==="	";)a=e[++r+1];else if(a==="\r"&&e[r+1]===`
`)for(a=e[++r+1];a===" "||a==="	";)a=e[++r+1];else if(a==="x"||a==="u"||a==="U"){const o={x:2,u:4,U:8}[a];n+=gB(e,r+1,o,t),r+=o}else{const o=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),n+=o}}else if(i===" "||i==="	"){const a=r;let s=e[r+1];for(;s===" "||s==="	";)s=e[++r+1];s!==`
`&&!(s==="\r"&&e[r+2]===`
`)&&(n+=r>a?e.slice(a,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function mB(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const pB={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function gB(e,t,n,r){const i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const o=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(s)}function e7(e,t,n,r){const{value:i,type:a,comment:s,range:o}=t.type==="block-scalar"?Qk(e,t,r):Zk(t,e.options.strict,r),l=n?e.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null;let c;e.options.stringKeys&&e.atKey?c=e.schema[di]:l?c=yB(e.schema,i,l,n,r):t.type==="scalar"?c=bB(e,i,t,r):c=e.schema[di];let u;try{const d=c.resolve(i,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);u=Et(d)?d:new He(d)}catch(d){const f=d instanceof Error?d.message:String(d);r(n??t,"TAG_RESOLVE_FAILED",f),u=new He(i)}return u.range=o,u.source=i,a&&(u.type=a),l&&(u.tag=l),c.format&&(u.format=c.format),s&&(u.comment=s),u}function yB(e,t,n,r,i){var o;if(n==="!")return e[di];const a=[];for(const l of e.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)a.push(l);else return l;for(const l of a)if((o=l.test)!=null&&o.test(t))return l;const s=e.knownTags[n];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[di])}function bB({atKey:e,directives:t,schema:n},r,i,a){const s=n.tags.find(o=>{var l;return(o.default===!0||e&&o.default==="key")&&((l=o.test)==null?void 0:l.test(r))})||n[di];if(n.compat){const o=n.compat.find(l=>{var c;return l.default&&((c=l.test)==null?void 0:c.test(r))})??n[di];if(s.tag!==o.tag){const l=t.tagString(s.tag),c=t.tagString(o.tag),u=`Value may be parsed as either ${l} or ${c}`;a(i,"TAG_RESOLVE_FAILED",u,!0)}}return s}function wB(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const vB={composeNode:t7,composeEmptyNode:ey};function t7(e,t,n,r){const i=e.atKey,{spaceBefore:a,comment:s,anchor:o,tag:l}=n;let c,u=!0;switch(t.type){case"alias":c=xB(e,t,r),(o||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=e7(e,t,l,r),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=lB(vB,e,t,n,r),o&&(c.anchor=o.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),c=ey(e,t.offset,void 0,null,n,r),u=!1}}return o&&c.anchor===""&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!Et(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),a&&(c.spaceBefore=!0),s&&(t.type==="scalar"&&t.source===""?c.comment=s:c.commentBefore=s),e.options.keepSourceTokens&&u&&(c.srcToken=t),c}function ey(e,t,n,r,{spaceBefore:i,comment:a,anchor:s,tag:o,end:l},c){const u={type:"scalar",offset:wB(t,n,r),indent:-1,source:""},d=e7(e,u,o,c);return s&&(d.anchor=s.source.substring(1),d.anchor===""&&c(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(d.spaceBefore=!0),a&&(d.comment=a,d.range[2]=l),d}function xB({options:e},{offset:t,source:n,end:r},i){const a=new _0(n.substring(1));a.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,o=Kc(r,s,e.strict,i);return a.range=[t,s,o.offset],o.comment&&(a.comment=o.comment),a}function kB(e,t,{offset:n,start:r,value:i,end:a},s){const o=Object.assign({_directives:t},e),l=new rl(void 0,o),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=jo(r,{indicator:"doc-start",next:i??(a==null?void 0:a[0]),offset:n,onError:s,parentIndent:0,startOnNewline:!0});u.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!u.hasNewline&&s(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?t7(c,i,u,s):ey(c,u.end,r,null,u,s);const d=l.contents.range[2],f=Kc(a,d,!1,s);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function _l(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function m4(e){var i;let t="",n=!1,r=!1;for(let a=0;a<e.length;++a){const s=e[a];switch(s[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[a+1])==null?void 0:i[0])!=="#"&&(a+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class ty{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,a)=>{const s=_l(n);a?this.warnings.push(new Gk(s,r,i)):this.errors.push(new ds(s,r,i))},this.directives=new In({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=m4(this.prelude);if(r){const a=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!a)t.commentBefore=r;else if(Vt(a)&&!a.flow&&a.items.length>0){let s=a.items[0];jt(s)&&(s=s.key);const o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}else{const s=a.commentBefore;a.commentBefore=s?`${r}
${s}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:m4(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const a=_l(t);a[0]+=n,this.onError(a,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=kB(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new ds(_l(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new ds(_l(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Kc(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new ds(_l(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new rl(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function SB(e,t=!0,n){if(e){const r=(i,a,s)=>{const o=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(o,a,s);else throw new ds([o,o+1],a,s)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Zk(e,t,r);case"block-scalar":return Qk({options:{strict:t}},e,r)}}return null}function _B(e,t){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:a=-1,type:s="PLAIN"}=t,o=Yc({type:s,value:e},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=t.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(o[0]){case"|":case">":{const c=o.indexOf(`
`),u=o.substring(0,c),d=o.substring(c+1)+`
`,f=[{type:"block-scalar-header",offset:a,indent:r,source:u}];return n7(f,l)||f.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:a,indent:r,props:f,source:d}}case'"':return{type:"double-quoted-scalar",offset:a,indent:r,source:o,end:l};case"'":return{type:"single-quoted-scalar",offset:a,indent:r,source:o,end:l};default:return{type:"scalar",offset:a,indent:r,source:o,end:l}}}function EB(e,t,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:a=!1,type:s}=n,o="indent"in e?e.indent:null;if(r&&typeof o=="number"&&(o+=2),!s)switch(e.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const c=e.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const l=Yc({type:s,value:t},{implicitKey:i||o===null,indent:o!==null&&o>0?" ".repeat(o):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":TB(e,l);break;case'"':lm(e,l,"double-quoted-scalar");break;case"'":lm(e,l,"single-quoted-scalar");break;default:lm(e,l,"scalar")}}function TB(e,t){const n=t.indexOf(`
`),r=t.substring(0,n),i=t.substring(n+1)+`
`;if(e.type==="block-scalar"){const a=e.props[0];if(a.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a.source=r,e.source=i}else{const{offset:a}=e,s="indent"in e?e.indent:-1,o=[{type:"block-scalar-header",offset:a,indent:s,source:r}];n7(o,"end"in e?e.end:void 0)||o.push({type:"newline",offset:-1,indent:s,source:`
`});for(const l of Object.keys(e))l!=="type"&&l!=="offset"&&delete e[l];Object.assign(e,{type:"block-scalar",indent:s,props:o,source:i})}}function n7(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function lm(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const r=e.props.slice(1);let i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(const a of r)a.offset+=i;delete e.props,Object.assign(e,{type:n,source:t,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:`
`};delete e.items,Object.assign(e,{type:n,source:t,end:[i]});break}default:{const r="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(a=>a.type==="space"||a.type==="comment"||a.type==="newline"):[];for(const a of Object.keys(e))a!=="type"&&a!=="offset"&&delete e[a];Object.assign(e,{type:n,indent:r,source:t,end:i})}}}const CB=e=>"type"in e?xh(e):Rd(e);function xh(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=xh(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=Rd(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=Rd(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=Rd(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function Rd({start:e,key:t,sep:n,value:r}){let i="";for(const a of e)i+=a.source;if(t&&(i+=xh(t)),n)for(const a of n)i+=a.source;return r&&(i+=xh(r)),i}const Yp=Symbol("break visit"),AB=Symbol("skip children"),r7=Symbol("remove item");function Cs(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),i7(Object.freeze([]),e,t)}Cs.BREAK=Yp;Cs.SKIP=AB;Cs.REMOVE=r7;Cs.itemAtPath=(e,t)=>{let n=e;for(const[r,i]of t){const a=n==null?void 0:n[r];if(a&&"items"in a)n=a.items[i];else return}return n};Cs.parentCollection=(e,t)=>{const n=Cs.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function i7(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const a=t[i];if(a&&"items"in a){for(let s=0;s<a.items.length;++s){const o=i7(Object.freeze(e.concat([[i,s]])),a.items[s],n);if(typeof o=="number")s=o-1;else{if(o===Yp)return Yp;o===r7&&(a.items.splice(s,1),s-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const D0="\uFEFF",L0="",P0="",Sc="",RB=e=>!!e&&"items"in e,IB=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function NB(e){switch(e){case D0:return"<BOM>";case L0:return"<DOC>";case P0:return"<FLOW_END>";case Sc:return"<SCALAR>";default:return JSON.stringify(e)}}function a7(e){switch(e){case D0:return"byte-order-mark";case L0:return"doc-mode";case P0:return"flow-error-end";case Sc:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const MB=Object.freeze(Object.defineProperty({__proto__:null,BOM:D0,DOCUMENT:L0,FLOW_END:P0,SCALAR:Sc,createScalarToken:_B,isCollection:RB,isScalar:IB,prettyToken:NB,resolveAsScalar:SB,setScalarValue:EB,stringify:CB,tokenType:a7,visit:Cs},Symbol.toStringTag,{value:"Module"}));function Lr(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const p4=new Set("0123456789ABCDEFabcdef"),OB=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Ku=new Set(",[]{}"),DB=new Set(` ,[]{}
\r	`),cm=e=>!e||DB.has(e);let s7=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&Lr(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===D0&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const a=t[r-1];if(a===" "||a==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const a=t[n-1];if(a===" "||a==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield L0,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Lr(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Lr(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&Lr(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(cm),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Lr(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield P0,yield*this.parseLineStart();let a=0;for(;i[a]===",";)a+=yield*this.pushCount(1),a+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(a+=yield*this.pushIndicators(),i[a]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-a),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(cm),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||Lr(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let a=0;for(;this.buffer[n-1-a]==="\\";)a+=1;if(a%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const a=this.continueScalar(i+1);if(a===-1)break;i=r.indexOf(`
`,a)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Lr(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let a=this.pos;r=this.buffer[a];++a)switch(r){case" ":n+=1;break;case`
`:t=a,n=0;break;case"\r":{const s=this.buffer[a+1];if(!s&&!this.atEnd)return this.setNext("block-scalar");if(s===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const a=this.continueScalar(t+1);if(a===-1)break;t=this.buffer.indexOf(`
`,a)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let a=t-1,s=this.buffer[a];s==="\r"&&(s=this.buffer[--a]);const o=a;for(;s===" ";)s=this.buffer[--a];if(s===`
`&&a>=this.pos&&a+1+n>o)t=a;else break}while(!0);return yield Sc,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const a=this.buffer[r+1];if(Lr(a)||t&&Ku.has(a))break;n=r}else if(Lr(i)){let a=this.buffer[r+1];if(i==="\r"&&(a===`
`?(r+=1,i=`
`,a=this.buffer[r+1]):n=r),a==="#"||t&&Ku.has(a))break;if(i===`
`){const s=this.continueScalar(r+1);if(s===-1)break;r=Math.max(r,s-2)}}else{if(t&&Ku.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Sc,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(cm))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(Lr(n)||t&&Ku.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!Lr(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(OB.has(n))n=this.buffer[++t];else if(n==="%"&&p4.has(this.buffer[t+1])&&p4.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}};class o7{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const a=n+r>>1;this.lineStarts[a]<t?n=a+1:r=a}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function is(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function g4(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function l7(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Qu(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Xs(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function y4(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!is(t.start,"explicit-key-ind")&&!is(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,l7(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}let ny=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new s7,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=a7(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&y4(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&g4(i.start)===-1&&(n.indent===0||i.start.every(a=>a.type!=="comment"||a.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}else{const r="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:r}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{g4(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Qu(this.peek(2)),r=Xs(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,a=Array.isArray(i)?i[i.length-1]:void 0;(a==null?void 0:a.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],a=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent,a=i&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let s=[];if(a&&n.sep&&!n.value){const o=[];for(let l=0;l<n.sep.length;++l){const c=n.sep[l];switch(c.type){case"newline":o.push(l);break;case"space":break;case"comment":c.indent>t.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":a||n.value?(s.push(this.sourceToken),t.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):a||n.value?(s.push(this.sourceToken),t.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(is(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(l7(n.key)&&!is(n.sep,"newline")){const o=Xs(n.start),l=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:l,sep:c}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(is(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=Xs(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||a?t.items.push({start:s,key:null,sep:[this.sourceToken]}):is(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);a||n.value?(t.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(t);if(o){i&&o.type!=="block-seq"&&t.items.push({start:s}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,a=Array.isArray(i)?i[i.length-1]:void 0;(a==null?void 0:a.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],a=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(a)){Array.prototype.push.apply(a,n.start),a.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||is(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=Qu(r),a=Xs(i);y4(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:a,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Qu(t),r=Xs(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Qu(t),r=Xs(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};function c7(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new o7||null,prettyErrors:t}}function LB(e,t={}){const{lineCounter:n,prettyErrors:r}=c7(t),i=new ny(n==null?void 0:n.addNewLine),a=new ty(t),s=Array.from(a.compose(i.parse(e)));if(r&&n)for(const o of s)o.errors.forEach(vh(e,n)),o.warnings.forEach(vh(e,n));return s.length>0?s:Object.assign([],{empty:!0},a.streamInfo())}function u7(e,t={}){const{lineCounter:n,prettyErrors:r}=c7(t),i=new ny(n==null?void 0:n.addNewLine),a=new ty(t);let s=null;for(const o of a.compose(i.parse(e),!0,e.length))if(!s)s=o;else if(s.options.logLevel!=="silent"){s.errors.push(new ds(o.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(s.errors.forEach(vh(e,n)),s.warnings.forEach(vh(e,n))),s}function PB(e,t,n){let r;typeof t=="function"?r=t:n===void 0&&t&&typeof t=="object"&&(n=t);const i=u7(e,n);if(!i)return null;if(i.warnings.forEach(a=>Ik(i.options.logLevel,a)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function zB(e,t,n){let r=null;if(typeof t=="function"||Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return Ls(e)&&!r?e.toString(n):new rl(e,r,n).toString(n)}const Gp=Object.freeze(Object.defineProperty({__proto__:null,Alias:_0,CST:MB,Composer:ty,Document:rl,Lexer:s7,LineCounter:o7,Pair:En,Parser:ny,Scalar:He,Schema:O0,YAMLError:J1,YAMLMap:rr,YAMLParseError:ds,YAMLSeq:Pa,YAMLWarning:Gk,isAlias:Ds,isCollection:Vt,isDocument:Ls,isMap:Jo,isNode:Gt,isPair:jt,isScalar:Et,isSeq:el,parse:PB,parseAllDocuments:LB,parseDocument:u7,stringify:zB,visit:La,visitAsync:S0},Symbol.toStringTag,{value:"Module"})),FB=L.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: calc(86px + 416px);
  padding-top: 86px;
  background: #0a0c28;
  @media screen and (max-width: 1024px) {
    padding-top: 69px;
    height: calc(312px + 69px);
  }
  @media screen and (max-width: 1024px) {
    padding-top: 53px;
    height: calc(208px + 53px);
  }
`,BB=L.h1`
  position: relative;
  display: inline-block;
  padding-inline: 32px;
  color: white;
  font-weight: 700;
  font-size: 72px;
  line-height: 1.5;
  text-transform: capitalize;
  transform: translateY(-10%);
  @media screen and (max-width: 1024px) {
    padding-inline: 24px;
    font-size: 54px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 16px;
    font-size: 36px;
  }
`,$B=L.img`
  z-index: -1;
  position: absolute;
  left: 50%;
  bottom: -17px;
  transform: translateX(-45%);
  width: 295.01px;
  height: 35.35px;
  @media screen and (max-width: 1024px) {
    bottom: -12%;
    width: 221px;
    height: 27px;
  }
  @media screen and (max-width: 768px) {
    bottom: -8%;
    width: 148px;
    height: 18px;
  }
`,UB=L.main`
  display: flex;
  margin-inline: auto;
  padding-block: ${e=>e.theme.scale.scale06};
  padding-inline: ${e=>e.theme.scale.scale07};
  max-width: ${e=>e.theme.scale.scale12};
  // - - -
  /* height: 200px;
  background-color: lightcoral; */
  @media screen and (max-width: 1024px) {
    padding-block: 60px;
    padding-inline: 96px;
  }
  @media screen and (max-width: 768px) {
    padding-block: 40px;
    padding-inline: 64px;
  }
`,jB=L.div`
  flex-shrink: 0;
  width: ${e=>e.theme.scale.scale08};
  margin-right: ${e=>e.theme.scale.scale06};
  padding-block: ${e=>e.theme.scale.scale07};
  // - - -
  /* height: 100px;
  background-color: lightblue; */
  @media screen and (max-width: 1440px) {
    display: none;
  }
`,qB=L.p`
  margin-bottom: ${e=>e.theme.scale.scale04};
  color: #a6a6a6;
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize4};
  line-height: ${e=>e.theme.font.lineHeight4};
`,HB=L(qa)`
  display: block;
  margin-bottom: ${e=>e.theme.scale.scale03};
  padding: ${e=>e.theme.scale.scale03};
  color: #454545;
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize3};
  line-height: ${e=>e.theme.font.lineHeight3};
  border: 1px solid #dfdfdf;
  border-radius: ${e=>e.theme.scale.scale01};
  box-shadow: 5px 5px 15px -5px ${e=>e.theme.color.neutral.gray06};
`,WB=L.div`
  display: flex;
  flex-flow: wrap;
  justify-content: space-between;
  /* flex: 1; */
  /* padding-inline: ${e=>e.theme.scale.scale05}; */
  // - - -
  /* min-height: 100px;
  background-color: lightcyan; */
  @media screen and (max-width: 1024px) {
    flex-direction: column;
  }
`,XB=L.div`
  width: 48%;
  margin-bottom: ${e=>e.theme.scale.scale04};
  border: 1px solid #dfdfdf;
  border-radius: ${e=>e.theme.scale.scale03};
  box-shadow: 5px 5px 15px -5px ${e=>e.theme.color.neutral.gray06};
  overflow: hidden;
  // - - -
  /* height: 400px; */
  /* background: lightpink; */
  @media screen and (max-width: 1024px) {
    width: 100%;
  }
`,VB=L.img`
  width: 100%;
  /* height: ${e=>e.theme.scale.scale08}; */
`,YB=L.div`
  padding: ${e=>e.theme.scale.scale03};
  // - - -
  /* height: 100px; */
  @media screen and (max-width: 1024px) {
    padding: 15px;
  }
  @media screen and (max-width: 768px) {
    padding: 10px;
  }
`,GB=L.h1`
  margin-bottom: ${e=>e.theme.scale.scale03};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize4};
  /* line-height: ${e=>e.theme.font.lineHeight4}; */
  line-height: 1.5;
  /* white-space: nowrap; */
  overflow: hidden;
  text-overflow: ellipsis;
  /* text-transform: capitalize; */
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 15px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 10px;
    font-size: 10px;
  }
`,KB=L.p`
  display: -webkit-box;
  margin-bottom: ${e=>e.theme.scale.scale03};
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize3};
  /* line-height: ${e=>e.theme.font.lineHeight3}; */
  line-height: 1.5;
  /* word-break: break-all; */
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
  overflow: hidden;
  text-overflow: ellipsis;
  word-wrap: nowrap;
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 12px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 10px;
    font-size: 8px;
  }
`,QB=L(qa)`
  display: inline-block;
  margin-bottom: ${e=>e.theme.scale.scale01};
  padding-block: ${e=>e.theme.scale.scale01};
  padding-inline: ${e=>e.theme.scale.scale04};
  color: ${e=>e.theme.color.neutral.gray01};
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize2};
  /* line-height: ${e=>e.theme.font.lineHeight2}; */
  line-height: 1.5;
  background: linear-gradient(90deg, #767ee5, #9966cc);
  border-radius: 20px;
  @media screen and (max-width: 1024px) {
    margin-bottom: 6px;
    padding-block: 6px;
    padding-inline: 24px;
    font-size: 10.5px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 4px;
    padding-block: 4px;
    padding-inline: 16px;
    font-size: 7px;
  }
`,um=Object.assign({"/src/blog/2023-01-07-Curp_-Revisit-the-Consensus-Protocol.md":nk,"/src/blog/2023-02-19-Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness.md":rk,"/src/blog/2023-03-10-How-to-Elegantly-Organize-Async-Rust-Code.md":ik,"/src/blog/2023-04-19-Database-Isolation-Levels-and-MVCC.md":ak,"/src/blog/2023-05-21-The-design-and-Implementation-of-the-Xline-Persistent-Storage-Layer.md":sk,"/src/blog/2023-08-18-Introduction-to-CURP-Protocol.md":ok,"/src/blog/2023-09-23-Mechanism-and-Implementation-of-Lease.md":lk,"/src/blog/2023-11-01-Implementation-of-CURP-Server.md":ck,"/src/blog/2023-12-13-CURP-State-Machine-Engine.md":uk,"/src/blog/2024-01-04-Xline-Command-Deduplication-Mechanism-(Part-One)Introduction-to-RIFL.md":dk,"/src/blog/2024-02-06-Analysis-of-Xline-Jepsen-Tests.md":hk,"/src/blog/2024-03-13-Membership-Change-Source-Code-Interpretation.md":fk,"/src/blog/2024-03-22-Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada.md":mk,"/src/blog/2024-05-23-Xline-command-Deduplication-Mechanism-(II)-RIFL-Implementation.md":pk,"/src/blog/2024-08-15-Interval-Tree -Implementation-in-Xline.md":gk,"/src/blog/2024-09-21-Asynchronous-runtime-IO-problem-analysis.md":yk}),ZB=()=>(Q.useEffect(()=>{window.scrollTo(0,0)},[]),S.jsxs(S.Fragment,{children:[S.jsx(FB,{children:S.jsxs(BB,{children:["blog",S.jsx($B,{src:Zi,alt:"underline"})]})}),S.jsxs(UB,{children:[S.jsxs(jB,{children:[S.jsx(qB,{children:"Blog"}),Object.keys(um).reverse().map(e=>{const t=e.split(/[/,.]/),[n,r,i,...a]=t[3].split("-"),s=a.join(" "),o=t[3];return S.jsx(HB,{to:o,children:s},s)})]}),S.jsx(WB,{children:Object.keys(um).reverse().map((e,t)=>{const n=e.split(/[/,.]/),r=n[3],[i,a,s,...o]=n[3].split("-"),l=o.join(" ");console.log(l);const[c,u,d,f]=um[e].split(`---
`),h=Gp.parse(u);return S.jsxs(XB,{children:[S.jsx(VB,{src:h.cover,alt:"cover"}),S.jsxs(YB,{children:[S.jsx(GB,{children:l}),S.jsx(KB,{children:d}),S.jsx(QB,{to:r,children:"Read more"})]})]},t)})})]})]}));//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var d7;function me(){return d7.apply(null,arguments)}function JB(e){d7=e}function Yr(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function gs(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ry(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ut(e,t))return!1;return!0}function Bn(e){return e===void 0}function Wi(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Qc(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function h7(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function wa(e,t){for(var n in t)ut(t,n)&&(e[n]=t[n]);return ut(t,"toString")&&(e.toString=t.toString),ut(t,"valueOf")&&(e.valueOf=t.valueOf),e}function gi(e,t,n,r){return L7(e,t,n,r,!0).utc()}function e$(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ve(e){return e._pf==null&&(e._pf=e$()),e._pf}var Kp;Array.prototype.some?Kp=Array.prototype.some:Kp=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function iy(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=Ve(e),n=Kp.call(t.parsedDateParts,function(i){return i!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function z0(e){var t=gi(NaN);return e!=null?wa(Ve(t),e):Ve(t).userInvalidated=!0,t}var b4=me.momentProperties=[],dm=!1;function ay(e,t){var n,r,i,a=b4.length;if(Bn(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Bn(t._i)||(e._i=t._i),Bn(t._f)||(e._f=t._f),Bn(t._l)||(e._l=t._l),Bn(t._strict)||(e._strict=t._strict),Bn(t._tzm)||(e._tzm=t._tzm),Bn(t._isUTC)||(e._isUTC=t._isUTC),Bn(t._offset)||(e._offset=t._offset),Bn(t._pf)||(e._pf=Ve(t)),Bn(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)r=b4[n],i=t[r],Bn(i)||(e[r]=i);return e}function Zc(e){ay(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),dm===!1&&(dm=!0,me.updateOffset(this),dm=!1)}function Gr(e){return e instanceof Zc||e!=null&&e._isAMomentObject!=null}function f7(e){me.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Mr(e,t){var n=!0;return wa(function(){if(me.deprecationHandler!=null&&me.deprecationHandler(null,e),n){var r=[],i,a,s,o=arguments.length;for(a=0;a<o;a++){if(i="",typeof arguments[a]=="object"){i+=`
[`+a+"] ";for(s in arguments[0])ut(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];r.push(i)}f7(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var w4={};function m7(e,t){me.deprecationHandler!=null&&me.deprecationHandler(e,t),w4[e]||(f7(t),w4[e]=!0)}me.suppressDeprecationWarnings=!1;me.deprecationHandler=null;function yi(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function t$(e){var t,n;for(n in e)ut(e,n)&&(t=e[n],yi(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Qp(e,t){var n=wa({},e),r;for(r in t)ut(t,r)&&(gs(e[r])&&gs(t[r])?(n[r]={},wa(n[r],e[r]),wa(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ut(e,r)&&!ut(t,r)&&gs(e[r])&&(n[r]=wa({},n[r]));return n}function sy(e){e!=null&&this.set(e)}var Zp;Object.keys?Zp=Object.keys:Zp=function(e){var t,n=[];for(t in e)ut(e,t)&&n.push(t);return n};var n$={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function r$(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return yi(r)?r.call(t,n):r}function hi(e,t,n){var r=""+Math.abs(e),i=t-r.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var oy=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Zu=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hm={},Co={};function Oe(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Co[e]=i),t&&(Co[t[0]]=function(){return hi(i.apply(this,arguments),t[1],t[2])}),n&&(Co[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function i$(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function a$(e){var t=e.match(oy),n,r;for(n=0,r=t.length;n<r;n++)Co[t[n]]?t[n]=Co[t[n]]:t[n]=i$(t[n]);return function(i){var a="",s;for(s=0;s<r;s++)a+=yi(t[s])?t[s].call(i,e):t[s];return a}}function Id(e,t){return e.isValid()?(t=p7(t,e.localeData()),hm[t]=hm[t]||a$(t),hm[t](e)):e.localeData().invalidDate()}function p7(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(Zu.lastIndex=0;n>=0&&Zu.test(e);)e=e.replace(Zu,r),Zu.lastIndex=0,n-=1;return e}var s$={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function o$(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(oy).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var l$="Invalid date";function c$(){return this._invalidDate}var u$="%d",d$=/\d{1,2}/;function h$(e){return this._ordinal.replace("%d",e)}var f$={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function m$(e,t,n,r){var i=this._relativeTime[n];return yi(i)?i(e,t,n,r):i.replace(/%d/i,e)}function p$(e,t){var n=this._relativeTime[e>0?"future":"past"];return yi(n)?n(t):n.replace(/%s/i,t)}var v4={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Or(e){return typeof e=="string"?v4[e]||v4[e.toLowerCase()]:void 0}function ly(e){var t={},n,r;for(r in e)ut(e,r)&&(n=Or(r),n&&(t[n]=e[r]));return t}var g$={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function y$(e){var t=[],n;for(n in e)ut(e,n)&&t.push({unit:n,priority:g$[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}var g7=/\d/,dr=/\d\d/,y7=/\d{3}/,cy=/\d{4}/,F0=/[+-]?\d{6}/,zt=/\d\d?/,b7=/\d\d\d\d?/,w7=/\d\d\d\d\d\d?/,B0=/\d{1,3}/,uy=/\d{1,4}/,$0=/[+-]?\d{1,6}/,il=/\d+/,U0=/[+-]?\d+/,b$=/Z|[+-]\d\d:?\d\d/gi,j0=/Z|[+-]\d\d(?::?\d\d)?/gi,w$=/[+-]?\d+(\.\d{1,3})?/,Jc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,al=/^[1-9]\d?/,dy=/^([1-9]\d|\d)/,kh;kh={};function ye(e,t,n){kh[e]=yi(t)?t:function(r,i){return r&&n?n:t}}function v$(e,t){return ut(kh,e)?kh[e](t._strict,t._locale):new RegExp(x$(e))}function x$(e){return zi(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,a){return n||r||i||a}))}function zi(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function yr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function tt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=yr(t)),n}var Jp={};function vt(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),Wi(t)&&(r=function(a,s){s[t]=tt(a)}),i=e.length,n=0;n<i;n++)Jp[e[n]]=r}function eu(e,t){vt(e,function(n,r,i,a){i._w=i._w||{},t(n,i._w,i,a)})}function k$(e,t,n){t!=null&&ut(Jp,e)&&Jp[e](t,n._a,n,e)}function q0(e){return e%4===0&&e%100!==0||e%400===0}var Tn=0,Mi=1,ii=2,hn=3,qr=4,Oi=5,hs=6,S$=7,_$=8;Oe("Y",0,0,function(){var e=this.year();return e<=9999?hi(e,4):"+"+e});Oe(0,["YY",2],0,function(){return this.year()%100});Oe(0,["YYYY",4],0,"year");Oe(0,["YYYYY",5],0,"year");Oe(0,["YYYYYY",6,!0],0,"year");ye("Y",U0);ye("YY",zt,dr);ye("YYYY",uy,cy);ye("YYYYY",$0,F0);ye("YYYYYY",$0,F0);vt(["YYYYY","YYYYYY"],Tn);vt("YYYY",function(e,t){t[Tn]=e.length===2?me.parseTwoDigitYear(e):tt(e)});vt("YY",function(e,t){t[Tn]=me.parseTwoDigitYear(e)});vt("Y",function(e,t){t[Tn]=parseInt(e,10)});function Yl(e){return q0(e)?366:365}me.parseTwoDigitYear=function(e){return tt(e)+(tt(e)>68?1900:2e3)};var v7=sl("FullYear",!0);function E$(){return q0(this.year())}function sl(e,t){return function(n){return n!=null?(x7(this,e,n),me.updateOffset(this,t),this):_c(this,e)}}function _c(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function x7(e,t,n){var r,i,a,s,o;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}a=n,s=e.month(),o=e.date(),o=o===29&&s===1&&!q0(a)?28:o,i?r.setUTCFullYear(a,s,o):r.setFullYear(a,s,o)}}function T$(e){return e=Or(e),yi(this[e])?this[e]():this}function C$(e,t){if(typeof e=="object"){e=ly(e);var n=y$(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=Or(e),yi(this[e]))return this[e](t);return this}function A$(e,t){return(e%t+t)%t}var nn;Array.prototype.indexOf?nn=Array.prototype.indexOf:nn=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function hy(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=A$(t,12);return e+=(t-n)/12,n===1?q0(e)?29:28:31-n%7%2}Oe("M",["MM",2],"Mo",function(){return this.month()+1});Oe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Oe("MMMM",0,0,function(e){return this.localeData().months(this,e)});ye("M",zt,al);ye("MM",zt,dr);ye("MMM",function(e,t){return t.monthsShortRegex(e)});ye("MMMM",function(e,t){return t.monthsRegex(e)});vt(["M","MM"],function(e,t){t[Mi]=tt(e)-1});vt(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Mi]=i:Ve(n).invalidMonth=e});var R$="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),k7="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),S7=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,I$=Jc,N$=Jc;function M$(e,t){return e?Yr(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||S7).test(t)?"format":"standalone"][e.month()]:Yr(this._months)?this._months:this._months.standalone}function O$(e,t){return e?Yr(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[S7.test(t)?"format":"standalone"][e.month()]:Yr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function D$(e,t,n){var r,i,a,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=gi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?t==="MMM"?(i=nn.call(this._shortMonthsParse,s),i!==-1?i:null):(i=nn.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=nn.call(this._shortMonthsParse,s),i!==-1?i:(i=nn.call(this._longMonthsParse,s),i!==-1?i:null)):(i=nn.call(this._longMonthsParse,s),i!==-1?i:(i=nn.call(this._shortMonthsParse,s),i!==-1?i:null))}function L$(e,t,n){var r,i,a;if(this._monthsParseExact)return D$.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=gi([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function _7(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=tt(t);else if(t=e.localeData().monthsParse(t),!Wi(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,hy(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function E7(e){return e!=null?(_7(this,e),me.updateOffset(this,!0),this):_c(this,"Month")}function P$(){return hy(this.year(),this.month())}function z$(e){return this._monthsParseExact?(ut(this,"_monthsRegex")||T7.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ut(this,"_monthsShortRegex")||(this._monthsShortRegex=I$),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function F$(e){return this._monthsParseExact?(ut(this,"_monthsRegex")||T7.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ut(this,"_monthsRegex")||(this._monthsRegex=N$),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function T7(){function e(l,c){return c.length-l.length}var t=[],n=[],r=[],i,a,s,o;for(i=0;i<12;i++)a=gi([2e3,i]),s=zi(this.monthsShort(a,"")),o=zi(this.months(a,"")),t.push(s),n.push(o),r.push(o),r.push(s);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function B$(e,t,n,r,i,a,s){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,i,a,s),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,i,a,s),o}function Ec(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Sh(e,t,n){var r=7+t-n,i=(7+Ec(e,0,r).getUTCDay()-t)%7;return-i+r-1}function C7(e,t,n,r,i){var a=(7+n-r)%7,s=Sh(e,r,i),o=1+7*(t-1)+a+s,l,c;return o<=0?(l=e-1,c=Yl(l)+o):o>Yl(e)?(l=e+1,c=o-Yl(e)):(l=e,c=o),{year:l,dayOfYear:c}}function Tc(e,t,n){var r=Sh(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,a,s;return i<1?(s=e.year()-1,a=i+Fi(s,t,n)):i>Fi(e.year(),t,n)?(a=i-Fi(e.year(),t,n),s=e.year()+1):(s=e.year(),a=i),{week:a,year:s}}function Fi(e,t,n){var r=Sh(e,t,n),i=Sh(e+1,t,n);return(Yl(e)-r+i)/7}Oe("w",["ww",2],"wo","week");Oe("W",["WW",2],"Wo","isoWeek");ye("w",zt,al);ye("ww",zt,dr);ye("W",zt,al);ye("WW",zt,dr);eu(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=tt(e)});function $$(e){return Tc(e,this._week.dow,this._week.doy).week}var U$={dow:0,doy:6};function j$(){return this._week.dow}function q$(){return this._week.doy}function H$(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function W$(e){var t=Tc(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Oe("d",0,"do","day");Oe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Oe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Oe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Oe("e",0,0,"weekday");Oe("E",0,0,"isoWeekday");ye("d",zt);ye("e",zt);ye("E",zt);ye("dd",function(e,t){return t.weekdaysMinRegex(e)});ye("ddd",function(e,t){return t.weekdaysShortRegex(e)});ye("dddd",function(e,t){return t.weekdaysRegex(e)});eu(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:Ve(n).invalidWeekday=e});eu(["d","e","E"],function(e,t,n,r){t[r]=tt(e)});function X$(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function V$(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function fy(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Y$="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),A7="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),G$="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),K$=Jc,Q$=Jc,Z$=Jc;function J$(e,t){var n=Yr(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?fy(n,this._week.dow):e?n[e.day()]:n}function eU(e){return e===!0?fy(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function tU(e){return e===!0?fy(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function nU(e,t,n){var r,i,a,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=gi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?t==="dddd"?(i=nn.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=nn.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=nn.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=nn.call(this._weekdaysParse,s),i!==-1||(i=nn.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=nn.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=nn.call(this._shortWeekdaysParse,s),i!==-1||(i=nn.call(this._weekdaysParse,s),i!==-1)?i:(i=nn.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=nn.call(this._minWeekdaysParse,s),i!==-1||(i=nn.call(this._weekdaysParse,s),i!==-1)?i:(i=nn.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function rU(e,t,n){var r,i,a;if(this._weekdaysParseExact)return nU.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=gi([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function iU(e){if(!this.isValid())return e!=null?this:NaN;var t=_c(this,"Day");return e!=null?(e=X$(e,this.localeData()),this.add(e-t,"d")):t}function aU(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function sU(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=V$(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function oU(e){return this._weekdaysParseExact?(ut(this,"_weekdaysRegex")||my.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ut(this,"_weekdaysRegex")||(this._weekdaysRegex=K$),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function lU(e){return this._weekdaysParseExact?(ut(this,"_weekdaysRegex")||my.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ut(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Q$),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function cU(e){return this._weekdaysParseExact?(ut(this,"_weekdaysRegex")||my.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ut(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Z$),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function my(){function e(u,d){return d.length-u.length}var t=[],n=[],r=[],i=[],a,s,o,l,c;for(a=0;a<7;a++)s=gi([2e3,1]).day(a),o=zi(this.weekdaysMin(s,"")),l=zi(this.weekdaysShort(s,"")),c=zi(this.weekdays(s,"")),t.push(o),n.push(l),r.push(c),i.push(o),i.push(l),i.push(c);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function py(){return this.hours()%12||12}function uU(){return this.hours()||24}Oe("H",["HH",2],0,"hour");Oe("h",["hh",2],0,py);Oe("k",["kk",2],0,uU);Oe("hmm",0,0,function(){return""+py.apply(this)+hi(this.minutes(),2)});Oe("hmmss",0,0,function(){return""+py.apply(this)+hi(this.minutes(),2)+hi(this.seconds(),2)});Oe("Hmm",0,0,function(){return""+this.hours()+hi(this.minutes(),2)});Oe("Hmmss",0,0,function(){return""+this.hours()+hi(this.minutes(),2)+hi(this.seconds(),2)});function R7(e,t){Oe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}R7("a",!0);R7("A",!1);function I7(e,t){return t._meridiemParse}ye("a",I7);ye("A",I7);ye("H",zt,dy);ye("h",zt,al);ye("k",zt,al);ye("HH",zt,dr);ye("hh",zt,dr);ye("kk",zt,dr);ye("hmm",b7);ye("hmmss",w7);ye("Hmm",b7);ye("Hmmss",w7);vt(["H","HH"],hn);vt(["k","kk"],function(e,t,n){var r=tt(e);t[hn]=r===24?0:r});vt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});vt(["h","hh"],function(e,t,n){t[hn]=tt(e),Ve(n).bigHour=!0});vt("hmm",function(e,t,n){var r=e.length-2;t[hn]=tt(e.substr(0,r)),t[qr]=tt(e.substr(r)),Ve(n).bigHour=!0});vt("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[hn]=tt(e.substr(0,r)),t[qr]=tt(e.substr(r,2)),t[Oi]=tt(e.substr(i)),Ve(n).bigHour=!0});vt("Hmm",function(e,t,n){var r=e.length-2;t[hn]=tt(e.substr(0,r)),t[qr]=tt(e.substr(r))});vt("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[hn]=tt(e.substr(0,r)),t[qr]=tt(e.substr(r,2)),t[Oi]=tt(e.substr(i))});function dU(e){return(e+"").toLowerCase().charAt(0)==="p"}var hU=/[ap]\.?m?\.?/i,fU=sl("Hours",!0);function mU(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var N7={calendar:n$,longDateFormat:s$,invalidDate:l$,ordinal:u$,dayOfMonthOrdinalParse:d$,relativeTime:f$,months:R$,monthsShort:k7,week:U$,weekdays:Y$,weekdaysMin:G$,weekdaysShort:A7,meridiemParse:hU},Bt={},El={},Cc;function pU(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function x4(e){return e&&e.toLowerCase().replace("_","-")}function gU(e){for(var t=0,n,r,i,a;t<e.length;){for(a=x4(e[t]).split("-"),n=a.length,r=x4(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=H0(a.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&pU(a,r)>=n-1)break;n--}t++}return Cc}function yU(e){return!!(e&&e.match("^[^/\\\\]*$"))}function H0(e){var t=null,n;if(Bt[e]===void 0&&typeof Ld<"u"&&Ld&&Ld.exports&&yU(e))try{t=Cc._abbr,n=require,n("./locale/"+e),Ma(t)}catch{Bt[e]=null}return Bt[e]}function Ma(e,t){var n;return e&&(Bn(t)?n=ea(e):n=gy(e,t),n?Cc=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Cc._abbr}function gy(e,t){if(t!==null){var n,r=N7;if(t.abbr=e,Bt[e]!=null)m7("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Bt[e]._config;else if(t.parentLocale!=null)if(Bt[t.parentLocale]!=null)r=Bt[t.parentLocale]._config;else if(n=H0(t.parentLocale),n!=null)r=n._config;else return El[t.parentLocale]||(El[t.parentLocale]=[]),El[t.parentLocale].push({name:e,config:t}),null;return Bt[e]=new sy(Qp(r,t)),El[e]&&El[e].forEach(function(i){gy(i.name,i.config)}),Ma(e),Bt[e]}else return delete Bt[e],null}function bU(e,t){if(t!=null){var n,r,i=N7;Bt[e]!=null&&Bt[e].parentLocale!=null?Bt[e].set(Qp(Bt[e]._config,t)):(r=H0(e),r!=null&&(i=r._config),t=Qp(i,t),r==null&&(t.abbr=e),n=new sy(t),n.parentLocale=Bt[e],Bt[e]=n),Ma(e)}else Bt[e]!=null&&(Bt[e].parentLocale!=null?(Bt[e]=Bt[e].parentLocale,e===Ma()&&Ma(e)):Bt[e]!=null&&delete Bt[e]);return Bt[e]}function ea(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Cc;if(!Yr(e)){if(t=H0(e),t)return t;e=[e]}return gU(e)}function wU(){return Zp(Bt)}function yy(e){var t,n=e._a;return n&&Ve(e).overflow===-2&&(t=n[Mi]<0||n[Mi]>11?Mi:n[ii]<1||n[ii]>hy(n[Tn],n[Mi])?ii:n[hn]<0||n[hn]>24||n[hn]===24&&(n[qr]!==0||n[Oi]!==0||n[hs]!==0)?hn:n[qr]<0||n[qr]>59?qr:n[Oi]<0||n[Oi]>59?Oi:n[hs]<0||n[hs]>999?hs:-1,Ve(e)._overflowDayOfYear&&(t<Tn||t>ii)&&(t=ii),Ve(e)._overflowWeeks&&t===-1&&(t=S$),Ve(e)._overflowWeekday&&t===-1&&(t=_$),Ve(e).overflow=t),e}var vU=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xU=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kU=/Z|[+-]\d\d(?::?\d\d)?/,Ju=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],fm=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],SU=/^\/?Date\((-?\d+)/i,_U=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,EU={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function M7(e){var t,n,r=e._i,i=vU.exec(r)||xU.exec(r),a,s,o,l,c=Ju.length,u=fm.length;if(i){for(Ve(e).iso=!0,t=0,n=c;t<n;t++)if(Ju[t][1].exec(i[1])){s=Ju[t][0],a=Ju[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,n=u;t<n;t++)if(fm[t][1].exec(i[3])){o=(i[2]||" ")+fm[t][0];break}if(o==null){e._isValid=!1;return}}if(!a&&o!=null){e._isValid=!1;return}if(i[4])if(kU.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=s+(o||"")+(l||""),wy(e)}else e._isValid=!1}function TU(e,t,n,r,i,a){var s=[CU(e),k7.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&s.push(parseInt(a,10)),s}function CU(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function AU(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function RU(e,t,n){if(e){var r=A7.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return Ve(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function IU(e,t,n){if(e)return EU[e];if(t)return 0;var r=parseInt(n,10),i=r%100,a=(r-i)/100;return a*60+i}function O7(e){var t=_U.exec(AU(e._i)),n;if(t){if(n=TU(t[4],t[3],t[2],t[5],t[6],t[7]),!RU(t[1],n,e))return;e._a=n,e._tzm=IU(t[8],t[9],t[10]),e._d=Ec.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Ve(e).rfc2822=!0}else e._isValid=!1}function NU(e){var t=SU.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(M7(e),e._isValid===!1)delete e._isValid;else return;if(O7(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:me.createFromInputFallback(e)}me.createFromInputFallback=Mr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Zs(e,t,n){return e??t??n}function MU(e){var t=new Date(me.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function by(e){var t,n,r=[],i,a,s;if(!e._d){for(i=MU(e),e._w&&e._a[ii]==null&&e._a[Mi]==null&&OU(e),e._dayOfYear!=null&&(s=Zs(e._a[Tn],i[Tn]),(e._dayOfYear>Yl(s)||e._dayOfYear===0)&&(Ve(e)._overflowDayOfYear=!0),n=Ec(s,0,e._dayOfYear),e._a[Mi]=n.getUTCMonth(),e._a[ii]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[hn]===24&&e._a[qr]===0&&e._a[Oi]===0&&e._a[hs]===0&&(e._nextDay=!0,e._a[hn]=0),e._d=(e._useUTC?Ec:B$).apply(null,r),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[hn]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(Ve(e).weekdayMismatch=!0)}}function OU(e){var t,n,r,i,a,s,o,l,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,s=4,n=Zs(t.GG,e._a[Tn],Tc(Pt(),1,4).year),r=Zs(t.W,1),i=Zs(t.E,1),(i<1||i>7)&&(l=!0)):(a=e._locale._week.dow,s=e._locale._week.doy,c=Tc(Pt(),a,s),n=Zs(t.gg,e._a[Tn],c.year),r=Zs(t.w,c.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+a,(t.e<0||t.e>6)&&(l=!0)):i=a),r<1||r>Fi(n,a,s)?Ve(e)._overflowWeeks=!0:l!=null?Ve(e)._overflowWeekday=!0:(o=C7(n,r,i,a,s),e._a[Tn]=o.year,e._dayOfYear=o.dayOfYear)}me.ISO_8601=function(){};me.RFC_2822=function(){};function wy(e){if(e._f===me.ISO_8601){M7(e);return}if(e._f===me.RFC_2822){O7(e);return}e._a=[],Ve(e).empty=!0;var t=""+e._i,n,r,i,a,s,o=t.length,l=0,c,u;for(i=p7(e._f,e._locale).match(oy)||[],u=i.length,n=0;n<u;n++)a=i[n],r=(t.match(v$(a,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&Ve(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),l+=r.length),Co[a]?(r?Ve(e).empty=!1:Ve(e).unusedTokens.push(a),k$(a,r,e)):e._strict&&!r&&Ve(e).unusedTokens.push(a);Ve(e).charsLeftOver=o-l,t.length>0&&Ve(e).unusedInput.push(t),e._a[hn]<=12&&Ve(e).bigHour===!0&&e._a[hn]>0&&(Ve(e).bigHour=void 0),Ve(e).parsedDateParts=e._a.slice(0),Ve(e).meridiem=e._meridiem,e._a[hn]=DU(e._locale,e._a[hn],e._meridiem),c=Ve(e).era,c!==null&&(e._a[Tn]=e._locale.erasConvertYear(c,e._a[Tn])),by(e),yy(e)}function DU(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function LU(e){var t,n,r,i,a,s,o=!1,l=e._f.length;if(l===0){Ve(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)a=0,s=!1,t=ay({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],wy(t),iy(t)&&(s=!0),a+=Ve(t).charsLeftOver,a+=Ve(t).unusedTokens.length*10,Ve(t).score=a,o?a<r&&(r=a,n=t):(r==null||a<r||s)&&(r=a,n=t,s&&(o=!0));wa(e,n||t)}function PU(e){if(!e._d){var t=ly(e._i),n=t.day===void 0?t.date:t.day;e._a=h7([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),by(e)}}function zU(e){var t=new Zc(yy(D7(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function D7(e){var t=e._i,n=e._f;return e._locale=e._locale||ea(e._l),t===null||n===void 0&&t===""?z0({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Gr(t)?new Zc(yy(t)):(Qc(t)?e._d=t:Yr(n)?LU(e):n?wy(e):FU(e),iy(e)||(e._d=null),e))}function FU(e){var t=e._i;Bn(t)?e._d=new Date(me.now()):Qc(t)?e._d=new Date(t.valueOf()):typeof t=="string"?NU(e):Yr(t)?(e._a=h7(t.slice(0),function(n){return parseInt(n,10)}),by(e)):gs(t)?PU(e):Wi(t)?e._d=new Date(t):me.createFromInputFallback(e)}function L7(e,t,n,r,i){var a={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(gs(e)&&ry(e)||Yr(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,zU(a)}function Pt(e,t,n,r){return L7(e,t,n,r,!1)}var BU=Mr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:z0()}),$U=Mr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:z0()});function P7(e,t){var n,r;if(t.length===1&&Yr(t[0])&&(t=t[0]),!t.length)return Pt();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function UU(){var e=[].slice.call(arguments,0);return P7("isBefore",e)}function jU(){var e=[].slice.call(arguments,0);return P7("isAfter",e)}var qU=function(){return Date.now?Date.now():+new Date},Tl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function HU(e){var t,n=!1,r,i=Tl.length;for(t in e)if(ut(e,t)&&!(nn.call(Tl,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Tl[r]]){if(n)return!1;parseFloat(e[Tl[r]])!==tt(e[Tl[r]])&&(n=!0)}return!0}function WU(){return this._isValid}function XU(){return Qr(NaN)}function W0(e){var t=ly(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=HU(t),this._milliseconds=+u+c*1e3+l*6e4+o*1e3*60*60,this._days=+s+a*7,this._months=+i+r*3+n*12,this._data={},this._locale=ea(),this._bubble()}function Nd(e){return e instanceof W0}function eg(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function VU(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&tt(e[s])!==tt(t[s]))&&a++;return a+i}function z7(e,t){Oe(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+hi(~~(n/60),2)+t+hi(~~n%60,2)})}z7("Z",":");z7("ZZ","");ye("Z",j0);ye("ZZ",j0);vt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=vy(j0,e)});var YU=/([\+\-]|\d\d)/gi;function vy(e,t){var n=(t||"").match(e),r,i,a;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(YU)||["-",0,0],a=+(i[1]*60)+tt(i[2]),a===0?0:i[0]==="+"?a:-a)}function xy(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Gr(e)||Qc(e)?e.valueOf():Pt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),me.updateOffset(n,!1),n):Pt(e).local()}function tg(e){return-Math.round(e._d.getTimezoneOffset())}me.updateOffset=function(){};function GU(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=vy(j0,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=tg(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?$7(this,Qr(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,me.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:tg(this)}function KU(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function QU(e){return this.utcOffset(0,e)}function ZU(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(tg(this),"m")),this}function JU(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=vy(b$,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ej(e){return this.isValid()?(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function tj(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function nj(){if(!Bn(this._isDSTShifted))return this._isDSTShifted;var e={},t;return ay(e,this),e=D7(e),e._a?(t=e._isUTC?gi(e._a):Pt(e._a),this._isDSTShifted=this.isValid()&&VU(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function rj(){return this.isValid()?!this._isUTC:!1}function ij(){return this.isValid()?this._isUTC:!1}function F7(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aj=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,sj=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Qr(e,t){var n=e,r=null,i,a,s;return Nd(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Wi(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=aj.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:tt(r[ii])*i,h:tt(r[hn])*i,m:tt(r[qr])*i,s:tt(r[Oi])*i,ms:tt(eg(r[hs]*1e3))*i}):(r=sj.exec(e))?(i=r[1]==="-"?-1:1,n={y:Ka(r[2],i),M:Ka(r[3],i),w:Ka(r[4],i),d:Ka(r[5],i),h:Ka(r[6],i),m:Ka(r[7],i),s:Ka(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=oj(Pt(n.from),Pt(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),a=new W0(n),Nd(e)&&ut(e,"_locale")&&(a._locale=e._locale),Nd(e)&&ut(e,"_isValid")&&(a._isValid=e._isValid),a}Qr.fn=W0.prototype;Qr.invalid=XU;function Ka(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function k4(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function oj(e,t){var n;return e.isValid()&&t.isValid()?(t=xy(t,e),e.isBefore(t)?n=k4(e,t):(n=k4(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function B7(e,t){return function(n,r){var i,a;return r!==null&&!isNaN(+r)&&(m7(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),i=Qr(n,r),$7(this,i,e),this}}function $7(e,t,n,r){var i=t._milliseconds,a=eg(t._days),s=eg(t._months);e.isValid()&&(r=r??!0,s&&_7(e,_c(e,"Month")+s*n),a&&x7(e,"Date",_c(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&me.updateOffset(e,a||s))}var lj=B7(1,"add"),cj=B7(-1,"subtract");function U7(e){return typeof e=="string"||e instanceof String}function uj(e){return Gr(e)||Qc(e)||U7(e)||Wi(e)||hj(e)||dj(e)||e===null||e===void 0}function dj(e){var t=gs(e)&&!ry(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,s=r.length;for(i=0;i<s;i+=1)a=r[i],n=n||ut(e,a);return t&&n}function hj(e){var t=Yr(e),n=!1;return t&&(n=e.filter(function(r){return!Wi(r)&&U7(e)}).length===0),t&&n}function fj(e){var t=gs(e)&&!ry(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<r.length;i+=1)a=r[i],n=n||ut(e,a);return t&&n}function mj(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function pj(e,t){arguments.length===1&&(arguments[0]?uj(arguments[0])?(e=arguments[0],t=void 0):fj(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Pt(),r=xy(n,this).startOf("day"),i=me.calendarFormat(this,r)||"sameElse",a=t&&(yi(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Pt(n)))}function gj(){return new Zc(this)}function yj(e,t){var n=Gr(e)?e:Pt(e);return this.isValid()&&n.isValid()?(t=Or(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function bj(e,t){var n=Gr(e)?e:Pt(e);return this.isValid()&&n.isValid()?(t=Or(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function wj(e,t,n,r){var i=Gr(e)?e:Pt(e),a=Gr(t)?t:Pt(t);return this.isValid()&&i.isValid()&&a.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(a,n):!this.isAfter(a,n))):!1}function vj(e,t){var n=Gr(e)?e:Pt(e),r;return this.isValid()&&n.isValid()?(t=Or(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function xj(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function kj(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Sj(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(r=xy(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=Or(t),t){case"year":a=Md(this,r)/12;break;case"month":a=Md(this,r);break;case"quarter":a=Md(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:yr(a)}function Md(e,t){if(e.date()<t.date())return-Md(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,a;return t-r<0?(i=e.clone().add(n-1,"months"),a=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),a=(t-r)/(i-r)),-(n+a)||0}me.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";me.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _j(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ej(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Id(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):yi(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Id(n,"Z")):Id(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Tj(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(n+r+i+a)}function Cj(e){e||(e=this.isUtc()?me.defaultFormatUtc:me.defaultFormat);var t=Id(this,e);return this.localeData().postformat(t)}function Aj(e,t){return this.isValid()&&(Gr(e)&&e.isValid()||Pt(e).isValid())?Qr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Rj(e){return this.from(Pt(),e)}function Ij(e,t){return this.isValid()&&(Gr(e)&&e.isValid()||Pt(e).isValid())?Qr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Nj(e){return this.to(Pt(),e)}function j7(e){var t;return e===void 0?this._locale._abbr:(t=ea(e),t!=null&&(this._locale=t),this)}var q7=Mr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function H7(){return this._locale}var _h=1e3,Ao=60*_h,Eh=60*Ao,W7=(365*400+97)*24*Eh;function Ro(e,t){return(e%t+t)%t}function X7(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-W7:new Date(e,t,n).valueOf()}function V7(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-W7:Date.UTC(e,t,n)}function Mj(e){var t,n;if(e=Or(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?V7:X7,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ro(t+(this._isUTC?0:this.utcOffset()*Ao),Eh);break;case"minute":t=this._d.valueOf(),t-=Ro(t,Ao);break;case"second":t=this._d.valueOf(),t-=Ro(t,_h);break}return this._d.setTime(t),me.updateOffset(this,!0),this}function Oj(e){var t,n;if(e=Or(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?V7:X7,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Eh-Ro(t+(this._isUTC?0:this.utcOffset()*Ao),Eh)-1;break;case"minute":t=this._d.valueOf(),t+=Ao-Ro(t,Ao)-1;break;case"second":t=this._d.valueOf(),t+=_h-Ro(t,_h)-1;break}return this._d.setTime(t),me.updateOffset(this,!0),this}function Dj(){return this._d.valueOf()-(this._offset||0)*6e4}function Lj(){return Math.floor(this.valueOf()/1e3)}function Pj(){return new Date(this.valueOf())}function zj(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Fj(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Bj(){return this.isValid()?this.toISOString():null}function $j(){return iy(this)}function Uj(){return wa({},Ve(this))}function jj(){return Ve(this).overflow}function qj(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Oe("N",0,0,"eraAbbr");Oe("NN",0,0,"eraAbbr");Oe("NNN",0,0,"eraAbbr");Oe("NNNN",0,0,"eraName");Oe("NNNNN",0,0,"eraNarrow");Oe("y",["y",1],"yo","eraYear");Oe("y",["yy",2],0,"eraYear");Oe("y",["yyy",3],0,"eraYear");Oe("y",["yyyy",4],0,"eraYear");ye("N",ky);ye("NN",ky);ye("NNN",ky);ye("NNNN",eq);ye("NNNNN",tq);vt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?Ve(n).era=i:Ve(n).invalidEra=e});ye("y",il);ye("yy",il);ye("yyy",il);ye("yyyy",il);ye("yo",nq);vt(["y","yy","yyy","yyyy"],Tn);vt(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Tn]=n._locale.eraYearOrdinalParse(e,i):t[Tn]=parseInt(e,10)});function Hj(e,t){var n,r,i,a=this._eras||ea("en")._eras;for(n=0,r=a.length;n<r;++n){switch(typeof a[n].since){case"string":i=me(a[n].since).startOf("day"),a[n].since=i.valueOf();break}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=me(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf();break}}return a}function Wj(e,t,n){var r,i,a=this.eras(),s,o,l;for(e=e.toUpperCase(),r=0,i=a.length;r<i;++r)if(s=a[r].name.toUpperCase(),o=a[r].abbr.toUpperCase(),l=a[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return a[r];break;case"NNNN":if(s===e)return a[r];break;case"NNNNN":if(l===e)return a[r];break}else if([s,o,l].indexOf(e)>=0)return a[r]}function Xj(e,t){var n=e.since<=e.until?1:-1;return t===void 0?me(e.since).year():me(e.since).year()+(t-e.offset)*n}function Vj(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function Yj(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function Gj(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function Kj(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-me(i[e].since).year())*n+i[e].offset;return this.year()}function Qj(e){return ut(this,"_erasNameRegex")||Sy.call(this),e?this._erasNameRegex:this._erasRegex}function Zj(e){return ut(this,"_erasAbbrRegex")||Sy.call(this),e?this._erasAbbrRegex:this._erasRegex}function Jj(e){return ut(this,"_erasNarrowRegex")||Sy.call(this),e?this._erasNarrowRegex:this._erasRegex}function ky(e,t){return t.erasAbbrRegex(e)}function eq(e,t){return t.erasNameRegex(e)}function tq(e,t){return t.erasNarrowRegex(e)}function nq(e,t){return t._eraYearOrdinalRegex||il}function Sy(){var e=[],t=[],n=[],r=[],i,a,s,o,l,c=this.eras();for(i=0,a=c.length;i<a;++i)s=zi(c[i].name),o=zi(c[i].abbr),l=zi(c[i].narrow),t.push(s),e.push(o),n.push(l),r.push(s),r.push(o),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Oe(0,["gg",2],0,function(){return this.weekYear()%100});Oe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function X0(e,t){Oe(0,[e,e.length],0,t)}X0("gggg","weekYear");X0("ggggg","weekYear");X0("GGGG","isoWeekYear");X0("GGGGG","isoWeekYear");ye("G",U0);ye("g",U0);ye("GG",zt,dr);ye("gg",zt,dr);ye("GGGG",uy,cy);ye("gggg",uy,cy);ye("GGGGG",$0,F0);ye("ggggg",$0,F0);eu(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=tt(e)});eu(["gg","GG"],function(e,t,n,r){t[r]=me.parseTwoDigitYear(e)});function rq(e){return Y7.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function iq(e){return Y7.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function aq(){return Fi(this.year(),1,4)}function sq(){return Fi(this.isoWeekYear(),1,4)}function oq(){var e=this.localeData()._week;return Fi(this.year(),e.dow,e.doy)}function lq(){var e=this.localeData()._week;return Fi(this.weekYear(),e.dow,e.doy)}function Y7(e,t,n,r,i){var a;return e==null?Tc(this,r,i).year:(a=Fi(e,r,i),t>a&&(t=a),cq.call(this,e,t,n,r,i))}function cq(e,t,n,r,i){var a=C7(e,t,n,r,i),s=Ec(a.year,0,a.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Oe("Q",0,"Qo","quarter");ye("Q",g7);vt("Q",function(e,t){t[Mi]=(tt(e)-1)*3});function uq(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Oe("D",["DD",2],"Do","date");ye("D",zt,al);ye("DD",zt,dr);ye("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});vt(["D","DD"],ii);vt("Do",function(e,t){t[ii]=tt(e.match(zt)[0])});var G7=sl("Date",!0);Oe("DDD",["DDDD",3],"DDDo","dayOfYear");ye("DDD",B0);ye("DDDD",y7);vt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=tt(e)});function dq(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Oe("m",["mm",2],0,"minute");ye("m",zt,dy);ye("mm",zt,dr);vt(["m","mm"],qr);var hq=sl("Minutes",!1);Oe("s",["ss",2],0,"second");ye("s",zt,dy);ye("ss",zt,dr);vt(["s","ss"],Oi);var fq=sl("Seconds",!1);Oe("S",0,0,function(){return~~(this.millisecond()/100)});Oe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Oe(0,["SSS",3],0,"millisecond");Oe(0,["SSSS",4],0,function(){return this.millisecond()*10});Oe(0,["SSSSS",5],0,function(){return this.millisecond()*100});Oe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Oe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Oe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Oe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ye("S",B0,g7);ye("SS",B0,dr);ye("SSS",B0,y7);var va,K7;for(va="SSSS";va.length<=9;va+="S")ye(va,il);function mq(e,t){t[hs]=tt(("0."+e)*1e3)}for(va="S";va.length<=9;va+="S")vt(va,mq);K7=sl("Milliseconds",!1);Oe("z",0,0,"zoneAbbr");Oe("zz",0,0,"zoneName");function pq(){return this._isUTC?"UTC":""}function gq(){return this._isUTC?"Coordinated Universal Time":""}var ae=Zc.prototype;ae.add=lj;ae.calendar=pj;ae.clone=gj;ae.diff=Sj;ae.endOf=Oj;ae.format=Cj;ae.from=Aj;ae.fromNow=Rj;ae.to=Ij;ae.toNow=Nj;ae.get=T$;ae.invalidAt=jj;ae.isAfter=yj;ae.isBefore=bj;ae.isBetween=wj;ae.isSame=vj;ae.isSameOrAfter=xj;ae.isSameOrBefore=kj;ae.isValid=$j;ae.lang=q7;ae.locale=j7;ae.localeData=H7;ae.max=$U;ae.min=BU;ae.parsingFlags=Uj;ae.set=C$;ae.startOf=Mj;ae.subtract=cj;ae.toArray=zj;ae.toObject=Fj;ae.toDate=Pj;ae.toISOString=Ej;ae.inspect=Tj;typeof Symbol<"u"&&Symbol.for!=null&&(ae[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ae.toJSON=Bj;ae.toString=_j;ae.unix=Lj;ae.valueOf=Dj;ae.creationData=qj;ae.eraName=Vj;ae.eraNarrow=Yj;ae.eraAbbr=Gj;ae.eraYear=Kj;ae.year=v7;ae.isLeapYear=E$;ae.weekYear=rq;ae.isoWeekYear=iq;ae.quarter=ae.quarters=uq;ae.month=E7;ae.daysInMonth=P$;ae.week=ae.weeks=H$;ae.isoWeek=ae.isoWeeks=W$;ae.weeksInYear=oq;ae.weeksInWeekYear=lq;ae.isoWeeksInYear=aq;ae.isoWeeksInISOWeekYear=sq;ae.date=G7;ae.day=ae.days=iU;ae.weekday=aU;ae.isoWeekday=sU;ae.dayOfYear=dq;ae.hour=ae.hours=fU;ae.minute=ae.minutes=hq;ae.second=ae.seconds=fq;ae.millisecond=ae.milliseconds=K7;ae.utcOffset=GU;ae.utc=QU;ae.local=ZU;ae.parseZone=JU;ae.hasAlignedHourOffset=ej;ae.isDST=tj;ae.isLocal=rj;ae.isUtcOffset=ij;ae.isUtc=F7;ae.isUTC=F7;ae.zoneAbbr=pq;ae.zoneName=gq;ae.dates=Mr("dates accessor is deprecated. Use date instead.",G7);ae.months=Mr("months accessor is deprecated. Use month instead",E7);ae.years=Mr("years accessor is deprecated. Use year instead",v7);ae.zone=Mr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",KU);ae.isDSTShifted=Mr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",nj);function yq(e){return Pt(e*1e3)}function bq(){return Pt.apply(null,arguments).parseZone()}function Q7(e){return e}var dt=sy.prototype;dt.calendar=r$;dt.longDateFormat=o$;dt.invalidDate=c$;dt.ordinal=h$;dt.preparse=Q7;dt.postformat=Q7;dt.relativeTime=m$;dt.pastFuture=p$;dt.set=t$;dt.eras=Hj;dt.erasParse=Wj;dt.erasConvertYear=Xj;dt.erasAbbrRegex=Zj;dt.erasNameRegex=Qj;dt.erasNarrowRegex=Jj;dt.months=M$;dt.monthsShort=O$;dt.monthsParse=L$;dt.monthsRegex=F$;dt.monthsShortRegex=z$;dt.week=$$;dt.firstDayOfYear=q$;dt.firstDayOfWeek=j$;dt.weekdays=J$;dt.weekdaysMin=tU;dt.weekdaysShort=eU;dt.weekdaysParse=rU;dt.weekdaysRegex=oU;dt.weekdaysShortRegex=lU;dt.weekdaysMinRegex=cU;dt.isPM=dU;dt.meridiem=mU;function Th(e,t,n,r){var i=ea(),a=gi().set(r,t);return i[n](a,e)}function Z7(e,t,n){if(Wi(e)&&(t=e,e=void 0),e=e||"",t!=null)return Th(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Th(e,r,n,"month");return i}function _y(e,t,n,r){typeof e=="boolean"?(Wi(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Wi(t)&&(n=t,t=void 0),t=t||"");var i=ea(),a=e?i._week.dow:0,s,o=[];if(n!=null)return Th(t,(n+a)%7,r,"day");for(s=0;s<7;s++)o[s]=Th(t,(s+a)%7,r,"day");return o}function wq(e,t){return Z7(e,t,"months")}function vq(e,t){return Z7(e,t,"monthsShort")}function xq(e,t,n){return _y(e,t,n,"weekdays")}function kq(e,t,n){return _y(e,t,n,"weekdaysShort")}function Sq(e,t,n){return _y(e,t,n,"weekdaysMin")}Ma("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=tt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});me.lang=Mr("moment.lang is deprecated. Use moment.locale instead.",Ma);me.langData=Mr("moment.langData is deprecated. Use moment.localeData instead.",ea);var ki=Math.abs;function _q(){var e=this._data;return this._milliseconds=ki(this._milliseconds),this._days=ki(this._days),this._months=ki(this._months),e.milliseconds=ki(e.milliseconds),e.seconds=ki(e.seconds),e.minutes=ki(e.minutes),e.hours=ki(e.hours),e.months=ki(e.months),e.years=ki(e.years),this}function J7(e,t,n,r){var i=Qr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Eq(e,t){return J7(this,e,t,1)}function Tq(e,t){return J7(this,e,t,-1)}function S4(e){return e<0?Math.floor(e):Math.ceil(e)}function Cq(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,a,s,o,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=S4(ng(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=yr(e/1e3),r.seconds=i%60,a=yr(i/60),r.minutes=a%60,s=yr(a/60),r.hours=s%24,t+=yr(s/24),l=yr(e8(t)),n+=l,t-=S4(ng(l)),o=yr(n/12),n%=12,r.days=t,r.months=n,r.years=o,this}function e8(e){return e*4800/146097}function ng(e){return e*146097/4800}function Aq(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Or(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+e8(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ng(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function ta(e){return function(){return this.as(e)}}var t8=ta("ms"),Rq=ta("s"),Iq=ta("m"),Nq=ta("h"),Mq=ta("d"),Oq=ta("w"),Dq=ta("M"),Lq=ta("Q"),Pq=ta("y"),zq=t8;function Fq(){return Qr(this)}function Bq(e){return e=Or(e),this.isValid()?this[e+"s"]():NaN}function Ps(e){return function(){return this.isValid()?this._data[e]:NaN}}var $q=Ps("milliseconds"),Uq=Ps("seconds"),jq=Ps("minutes"),qq=Ps("hours"),Hq=Ps("days"),Wq=Ps("months"),Xq=Ps("years");function Vq(){return yr(this.days()/7)}var Ti=Math.round,yo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Yq(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Gq(e,t,n,r){var i=Qr(e).abs(),a=Ti(i.as("s")),s=Ti(i.as("m")),o=Ti(i.as("h")),l=Ti(i.as("d")),c=Ti(i.as("M")),u=Ti(i.as("w")),d=Ti(i.as("y")),f=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||s<=1&&["m"]||s<n.m&&["mm",s]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d],f[2]=t,f[3]=+e>0,f[4]=r,Yq.apply(null,f)}function Kq(e){return e===void 0?Ti:typeof e=="function"?(Ti=e,!0):!1}function Qq(e,t){return yo[e]===void 0?!1:t===void 0?yo[e]:(yo[e]=t,e==="s"&&(yo.ss=t-1),!0)}function Zq(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=yo,i,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},yo,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),a=Gq(this,!n,r,i),n&&(a=i.pastFuture(+this,a)),i.postformat(a)}var mm=Math.abs;function Vs(e){return(e>0)-(e<0)||+e}function V0(){if(!this.isValid())return this.localeData().invalidDate();var e=mm(this._milliseconds)/1e3,t=mm(this._days),n=mm(this._months),r,i,a,s,o=this.asSeconds(),l,c,u,d;return o?(r=yr(e/60),i=yr(r/60),e%=60,r%=60,a=yr(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",c=Vs(this._months)!==Vs(o)?"-":"",u=Vs(this._days)!==Vs(o)?"-":"",d=Vs(this._milliseconds)!==Vs(o)?"-":"",l+"P"+(a?c+a+"Y":"")+(n?c+n+"M":"")+(t?u+t+"D":"")+(i||r||e?"T":"")+(i?d+i+"H":"")+(r?d+r+"M":"")+(e?d+s+"S":"")):"P0D"}var it=W0.prototype;it.isValid=WU;it.abs=_q;it.add=Eq;it.subtract=Tq;it.as=Aq;it.asMilliseconds=t8;it.asSeconds=Rq;it.asMinutes=Iq;it.asHours=Nq;it.asDays=Mq;it.asWeeks=Oq;it.asMonths=Dq;it.asQuarters=Lq;it.asYears=Pq;it.valueOf=zq;it._bubble=Cq;it.clone=Fq;it.get=Bq;it.milliseconds=$q;it.seconds=Uq;it.minutes=jq;it.hours=qq;it.days=Hq;it.weeks=Vq;it.months=Wq;it.years=Xq;it.humanize=Zq;it.toISOString=V0;it.toString=V0;it.toJSON=V0;it.locale=j7;it.localeData=H7;it.toIsoString=Mr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",V0);it.lang=q7;Oe("X",0,0,"unix");Oe("x",0,0,"valueOf");ye("x",U0);ye("X",w$);vt("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});vt("x",function(e,t,n){n._d=new Date(tt(e))});//! moment.js
me.version="2.30.1";JB(Pt);me.fn=ae;me.min=UU;me.max=jU;me.now=qU;me.utc=gi;me.unix=yq;me.months=wq;me.isDate=Qc;me.locale=Ma;me.invalid=z0;me.duration=Qr;me.isMoment=Gr;me.weekdays=xq;me.parseZone=bq;me.localeData=ea;me.isDuration=Nd;me.monthsShort=vq;me.weekdaysMin=Sq;me.defineLocale=gy;me.updateLocale=bU;me.locales=wU;me.weekdaysShort=kq;me.normalizeUnits=Or;me.relativeTimeRounding=Kq;me.relativeTimeThreshold=Qq;me.calendarFormat=mj;me.prototype=ae;me.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Jq={tokenize:eH,concrete:!0},_4={tokenize:tH,partial:!0};function eH(e,t,n){const r=this,i=r.events[r.events.length-1],a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let s=0;return o;function o(w){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),l(w)}function l(w){return w===36?(e.consume(w),s++,l):s<2?n(w):(e.exit("mathFlowFenceSequence"),Ke(e,c,"whitespace")(w))}function c(w){return w===null||Ce(w)?d(w):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),u(w))}function u(w){return w===null||Ce(w)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),d(w)):w===36?n(w):(e.consume(w),u)}function d(w){return e.exit("mathFlowFence"),r.interrupt?t(w):e.attempt(_4,f,v)(w)}function f(w){return e.attempt({tokenize:b,partial:!0},v,h)(w)}function h(w){return(a?Ke(e,g,"linePrefix",a+1):g)(w)}function g(w){return w===null?v(w):Ce(w)?e.attempt(_4,f,v)(w):(e.enter("mathFlowValue"),p(w))}function p(w){return w===null||Ce(w)?(e.exit("mathFlowValue"),g(w)):(e.consume(w),p)}function v(w){return e.exit("mathFlow"),t(w)}function b(w,k,T){let R=0;return Ke(w,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function x(B){return w.enter("mathFlowFence"),w.enter("mathFlowFenceSequence"),M(B)}function M(B){return B===36?(R++,w.consume(B),M):R<s?T(B):(w.exit("mathFlowFenceSequence"),Ke(w,I,"whitespace")(B))}function I(B){return B===null||Ce(B)?(w.exit("mathFlowFence"),k(B)):T(B)}}}function tH(e,t,n){const r=this;return i;function i(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function nH(e){let n=(e||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:rH,previous:iH};function r(i,a,s){let o=0,l,c;return u;function u(p){return i.enter("mathText"),i.enter("mathTextSequence"),d(p)}function d(p){return p===36?(i.consume(p),o++,d):o<2&&!n?s(p):(i.exit("mathTextSequence"),f(p))}function f(p){return p===null?s(p):p===36?(c=i.enter("mathTextSequence"),l=0,g(p)):p===32?(i.enter("space"),i.consume(p),i.exit("space"),f):Ce(p)?(i.enter("lineEnding"),i.consume(p),i.exit("lineEnding"),f):(i.enter("mathTextData"),h(p))}function h(p){return p===null||p===32||p===36||Ce(p)?(i.exit("mathTextData"),f(p)):(i.consume(p),h)}function g(p){return p===36?(i.consume(p),l++,g):l===o?(i.exit("mathTextSequence"),i.exit("mathText"),a(p)):(c.type="mathTextData",h(p))}}}function rH(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[n][1].type="mathTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="mathTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function iH(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function aH(e){return{flow:{36:Jq},text:{36:nH(e)}}}class nr{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new nr(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class Sr{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new Sr(n,nr.range(this,t))}}class ie{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,i,a,s=n&&n.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&"),c;i>15?c=""+o.slice(i-15,i):c=o.slice(0,i);var u;a+15<o.length?u=o.slice(a,a+15)+"":u=o.slice(a),r+=c+l+u}var d=new Error(r);return d.name="ParseError",d.__proto__=ie.prototype,d.position=i,i!=null&&a!=null&&(d.length=a-i),d.rawMessage=t,d}}ie.prototype.__proto__=Error.prototype;var sH=function(t,n){return t.indexOf(n)!==-1},oH=function(t,n){return t===void 0?n:t},lH=/([A-Z])/g,cH=function(t){return t.replace(lH,"-$1").toLowerCase()},uH={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},dH=/[&><"']/g;function hH(e){return String(e).replace(dH,t=>uH[t])}var n8=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},fH=function(t){var n=n8(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},mH=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},pH=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},De={contains:sH,deflt:oH,escape:hH,hyphenate:cH,getBaseElem:n8,isCharacterBox:fH,protocolFromUrl:pH},Od={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function gH(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Ey{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Od)if(Od.hasOwnProperty(n)){var r=Od[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:gH(r)}}reportNonstrict(t,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new ie("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var i=this.strict;if(typeof i=="function")try{i=i(t,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=De.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var r=typeof this.trust=="function"?this.trust(t):this.trust;return!!r}}class la{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return ni[yH[this.id]]}sub(){return ni[bH[this.id]]}fracNum(){return ni[wH[this.id]]}fracDen(){return ni[vH[this.id]]}cramp(){return ni[xH[this.id]]}text(){return ni[kH[this.id]]}isTight(){return this.size>=2}}var Ty=0,Ch=1,Io=2,Bi=3,Ac=4,vr=5,qo=6,Mn=7,ni=[new la(Ty,0,!1),new la(Ch,0,!0),new la(Io,1,!1),new la(Bi,1,!0),new la(Ac,2,!1),new la(vr,2,!0),new la(qo,3,!1),new la(Mn,3,!0)],yH=[Ac,vr,Ac,vr,qo,Mn,qo,Mn],bH=[vr,vr,vr,vr,Mn,Mn,Mn,Mn],wH=[Io,Bi,Ac,vr,qo,Mn,qo,Mn],vH=[Bi,Bi,vr,vr,Mn,Mn,Mn,Mn],xH=[Ch,Ch,Bi,Bi,vr,vr,Mn,Mn],kH=[Ty,Ch,Io,Bi,Io,Bi,Io,Bi],Pe={DISPLAY:ni[Ty],TEXT:ni[Io],SCRIPT:ni[Ac],SCRIPTSCRIPT:ni[qo]},rg=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function SH(e){for(var t=0;t<rg.length;t++)for(var n=rg[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}var Dd=[];rg.forEach(e=>e.blocks.forEach(t=>Dd.push(...t)));function r8(e){for(var t=0;t<Dd.length;t+=2)if(e>=Dd[t]&&e<=Dd[t+1])return!0;return!1}var Ys=80,_H=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},EH=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},TH=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},CH=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},AH=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},RH=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},IH=function(t,n,r){var i=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},NH=function(t,n,r){n=1e3*n;var i="";switch(t){case"sqrtMain":i=_H(n,Ys);break;case"sqrtSize1":i=EH(n,Ys);break;case"sqrtSize2":i=TH(n,Ys);break;case"sqrtSize3":i=CH(n,Ys);break;case"sqrtSize4":i=AH(n,Ys);break;case"sqrtTall":i=IH(n,Ys,r)}return i},MH=function(t,n){switch(t){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},E4={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},OH=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class tu{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return De.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var ai={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},ed={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},T4={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function DH(e,t){ai[e]=t}function Cy(e,t,n){if(!ai[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=ai[t][r];if(!i&&e[0]in T4&&(r=T4[e[0]].charCodeAt(0),i=ai[t][r]),!i&&n==="text"&&r8(r)&&(i=ai[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var pm={};function LH(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!pm[t]){var n=pm[t]={cssEmPerMu:ed.quad[t]/18};for(var r in ed)ed.hasOwnProperty(r)&&(n[r]=ed[r][t])}return pm[t]}var PH=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],C4=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],A4=function(t,n){return n.size<2?t:PH[t-1][n.size-1]};class Ai{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Ai.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=C4[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Ai(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:A4(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:C4[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=A4(Ai.BASESIZE,t);return this.size===n&&this.textSize===Ai.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ai.BASESIZE?["sizing","reset-size"+this.size,"size"+Ai.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=LH(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ai.BASESIZE=6;var ig={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},zH={ex:!0,em:!0,mu:!0},i8=function(t){return typeof t!="string"&&(t=t.unit),t in ig||t in zH||t==="ex"},Xt=function(t,n){var r;if(t.unit in ig)r=ig[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,t.unit==="ex")r=i.fontMetrics().xHeight;else if(t.unit==="em")r=i.fontMetrics().quad;else throw new ie("Invalid unit: '"+t.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},fe=function(t){return+t.toFixed(4)+"em"},za=function(t){return t.filter(n=>n).join(" ")},a8=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},s8=function(t){var n=document.createElement(t);n.className=za(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},o8=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+De.escape(za(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=De.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+De.escape(r)+'"');for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&(n+=" "+a+'="'+De.escape(this.attributes[a])+'"');n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+t+">",n};class nu{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,a8.call(this,t,r,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return De.contains(this.classes,t)}toNode(){return s8.call(this,"span")}toMarkup(){return o8.call(this,"span")}}class Ay{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,a8.call(this,n,i),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return De.contains(this.classes,t)}toNode(){return s8.call(this,"a")}toMarkup(){return o8.call(this,"a")}}class FH{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return De.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+De.escape(this.src)+'"'+(' alt="'+De.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=De.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+De.escape(n)+'"'),t+="'/>",t}}var BH={:"",:"",:"",:""};class Cr{constructor(t,n,r,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var c=SH(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=BH[this.text])}hasClass(t){return De.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=fe(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=za(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=De.escape(za(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=De.hyphenate(i)+":"+this.style[i]+";");r&&(t=!0,n+=' style="'+De.escape(r)+'"');var a=De.escape(this.text);return t?(n+=">",n+=a,n+="</span>",n):a}}class Xi{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+De.escape(this.attributes[n])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class Fa{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",E4[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+De.escape(this.alternate)+'"/>':'<path d="'+De.escape(E4[this.pathName])+'"/>'}}class ag{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+De.escape(this.attributes[n])+'"');return t+="/>",t}}function R4(e){if(e instanceof Cr)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function $H(e){if(e instanceof nu)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var UH={bin:1,close:1,inner:1,open:1,punct:1,rel:1},jH={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Mt={math:{},text:{}};function m(e,t,n,r,i,a){Mt[e][i]={font:t,group:n,replace:r},a&&r&&(Mt[e][r]=Mt[e][i])}var y="math",Z="text",_="main",N="ams",qt="accent-token",ge="bin",Pn="close",ol="inner",Le="mathord",cn="op-token",hr="open",Y0="punct",O="rel",na="spacing",F="textord";m(y,_,O,"","\\equiv",!0);m(y,_,O,"","\\prec",!0);m(y,_,O,"","\\succ",!0);m(y,_,O,"","\\sim",!0);m(y,_,O,"","\\perp");m(y,_,O,"","\\preceq",!0);m(y,_,O,"","\\succeq",!0);m(y,_,O,"","\\simeq",!0);m(y,_,O,"","\\mid",!0);m(y,_,O,"","\\ll",!0);m(y,_,O,"","\\gg",!0);m(y,_,O,"","\\asymp",!0);m(y,_,O,"","\\parallel");m(y,_,O,"","\\bowtie",!0);m(y,_,O,"","\\smile",!0);m(y,_,O,"","\\sqsubseteq",!0);m(y,_,O,"","\\sqsupseteq",!0);m(y,_,O,"","\\doteq",!0);m(y,_,O,"","\\frown",!0);m(y,_,O,"","\\ni",!0);m(y,_,O,"","\\propto",!0);m(y,_,O,"","\\vdash",!0);m(y,_,O,"","\\dashv",!0);m(y,_,O,"","\\owns");m(y,_,Y0,".","\\ldotp");m(y,_,Y0,"","\\cdotp");m(y,_,F,"#","\\#");m(Z,_,F,"#","\\#");m(y,_,F,"&","\\&");m(Z,_,F,"&","\\&");m(y,_,F,"","\\aleph",!0);m(y,_,F,"","\\forall",!0);m(y,_,F,"","\\hbar",!0);m(y,_,F,"","\\exists",!0);m(y,_,F,"","\\nabla",!0);m(y,_,F,"","\\flat",!0);m(y,_,F,"","\\ell",!0);m(y,_,F,"","\\natural",!0);m(y,_,F,"","\\clubsuit",!0);m(y,_,F,"","\\wp",!0);m(y,_,F,"","\\sharp",!0);m(y,_,F,"","\\diamondsuit",!0);m(y,_,F,"","\\Re",!0);m(y,_,F,"","\\heartsuit",!0);m(y,_,F,"","\\Im",!0);m(y,_,F,"","\\spadesuit",!0);m(y,_,F,"","\\S",!0);m(Z,_,F,"","\\S");m(y,_,F,"","\\P",!0);m(Z,_,F,"","\\P");m(y,_,F,"","\\dag");m(Z,_,F,"","\\dag");m(Z,_,F,"","\\textdagger");m(y,_,F,"","\\ddag");m(Z,_,F,"","\\ddag");m(Z,_,F,"","\\textdaggerdbl");m(y,_,Pn,"","\\rmoustache",!0);m(y,_,hr,"","\\lmoustache",!0);m(y,_,Pn,"","\\rgroup",!0);m(y,_,hr,"","\\lgroup",!0);m(y,_,ge,"","\\mp",!0);m(y,_,ge,"","\\ominus",!0);m(y,_,ge,"","\\uplus",!0);m(y,_,ge,"","\\sqcap",!0);m(y,_,ge,"","\\ast");m(y,_,ge,"","\\sqcup",!0);m(y,_,ge,"","\\bigcirc",!0);m(y,_,ge,"","\\bullet",!0);m(y,_,ge,"","\\ddagger");m(y,_,ge,"","\\wr",!0);m(y,_,ge,"","\\amalg");m(y,_,ge,"&","\\And");m(y,_,O,"","\\longleftarrow",!0);m(y,_,O,"","\\Leftarrow",!0);m(y,_,O,"","\\Longleftarrow",!0);m(y,_,O,"","\\longrightarrow",!0);m(y,_,O,"","\\Rightarrow",!0);m(y,_,O,"","\\Longrightarrow",!0);m(y,_,O,"","\\leftrightarrow",!0);m(y,_,O,"","\\longleftrightarrow",!0);m(y,_,O,"","\\Leftrightarrow",!0);m(y,_,O,"","\\Longleftrightarrow",!0);m(y,_,O,"","\\mapsto",!0);m(y,_,O,"","\\longmapsto",!0);m(y,_,O,"","\\nearrow",!0);m(y,_,O,"","\\hookleftarrow",!0);m(y,_,O,"","\\hookrightarrow",!0);m(y,_,O,"","\\searrow",!0);m(y,_,O,"","\\leftharpoonup",!0);m(y,_,O,"","\\rightharpoonup",!0);m(y,_,O,"","\\swarrow",!0);m(y,_,O,"","\\leftharpoondown",!0);m(y,_,O,"","\\rightharpoondown",!0);m(y,_,O,"","\\nwarrow",!0);m(y,_,O,"","\\rightleftharpoons",!0);m(y,N,O,"","\\nless",!0);m(y,N,O,"","\\@nleqslant");m(y,N,O,"","\\@nleqq");m(y,N,O,"","\\lneq",!0);m(y,N,O,"","\\lneqq",!0);m(y,N,O,"","\\@lvertneqq");m(y,N,O,"","\\lnsim",!0);m(y,N,O,"","\\lnapprox",!0);m(y,N,O,"","\\nprec",!0);m(y,N,O,"","\\npreceq",!0);m(y,N,O,"","\\precnsim",!0);m(y,N,O,"","\\precnapprox",!0);m(y,N,O,"","\\nsim",!0);m(y,N,O,"","\\@nshortmid");m(y,N,O,"","\\nmid",!0);m(y,N,O,"","\\nvdash",!0);m(y,N,O,"","\\nvDash",!0);m(y,N,O,"","\\ntriangleleft");m(y,N,O,"","\\ntrianglelefteq",!0);m(y,N,O,"","\\subsetneq",!0);m(y,N,O,"","\\@varsubsetneq");m(y,N,O,"","\\subsetneqq",!0);m(y,N,O,"","\\@varsubsetneqq");m(y,N,O,"","\\ngtr",!0);m(y,N,O,"","\\@ngeqslant");m(y,N,O,"","\\@ngeqq");m(y,N,O,"","\\gneq",!0);m(y,N,O,"","\\gneqq",!0);m(y,N,O,"","\\@gvertneqq");m(y,N,O,"","\\gnsim",!0);m(y,N,O,"","\\gnapprox",!0);m(y,N,O,"","\\nsucc",!0);m(y,N,O,"","\\nsucceq",!0);m(y,N,O,"","\\succnsim",!0);m(y,N,O,"","\\succnapprox",!0);m(y,N,O,"","\\ncong",!0);m(y,N,O,"","\\@nshortparallel");m(y,N,O,"","\\nparallel",!0);m(y,N,O,"","\\nVDash",!0);m(y,N,O,"","\\ntriangleright");m(y,N,O,"","\\ntrianglerighteq",!0);m(y,N,O,"","\\@nsupseteqq");m(y,N,O,"","\\supsetneq",!0);m(y,N,O,"","\\@varsupsetneq");m(y,N,O,"","\\supsetneqq",!0);m(y,N,O,"","\\@varsupsetneqq");m(y,N,O,"","\\nVdash",!0);m(y,N,O,"","\\precneqq",!0);m(y,N,O,"","\\succneqq",!0);m(y,N,O,"","\\@nsubseteqq");m(y,N,ge,"","\\unlhd");m(y,N,ge,"","\\unrhd");m(y,N,O,"","\\nleftarrow",!0);m(y,N,O,"","\\nrightarrow",!0);m(y,N,O,"","\\nLeftarrow",!0);m(y,N,O,"","\\nRightarrow",!0);m(y,N,O,"","\\nleftrightarrow",!0);m(y,N,O,"","\\nLeftrightarrow",!0);m(y,N,O,"","\\vartriangle");m(y,N,F,"","\\hslash");m(y,N,F,"","\\triangledown");m(y,N,F,"","\\lozenge");m(y,N,F,"","\\circledS");m(y,N,F,"","\\circledR");m(Z,N,F,"","\\circledR");m(y,N,F,"","\\measuredangle",!0);m(y,N,F,"","\\nexists");m(y,N,F,"","\\mho");m(y,N,F,"","\\Finv",!0);m(y,N,F,"","\\Game",!0);m(y,N,F,"","\\backprime");m(y,N,F,"","\\blacktriangle");m(y,N,F,"","\\blacktriangledown");m(y,N,F,"","\\blacksquare");m(y,N,F,"","\\blacklozenge");m(y,N,F,"","\\bigstar");m(y,N,F,"","\\sphericalangle",!0);m(y,N,F,"","\\complement",!0);m(y,N,F,"","\\eth",!0);m(Z,_,F,"","");m(y,N,F,"","\\diagup");m(y,N,F,"","\\diagdown");m(y,N,F,"","\\square");m(y,N,F,"","\\Box");m(y,N,F,"","\\Diamond");m(y,N,F,"","\\yen",!0);m(Z,N,F,"","\\yen",!0);m(y,N,F,"","\\checkmark",!0);m(Z,N,F,"","\\checkmark");m(y,N,F,"","\\beth",!0);m(y,N,F,"","\\daleth",!0);m(y,N,F,"","\\gimel",!0);m(y,N,F,"","\\digamma",!0);m(y,N,F,"","\\varkappa");m(y,N,hr,"","\\@ulcorner",!0);m(y,N,Pn,"","\\@urcorner",!0);m(y,N,hr,"","\\@llcorner",!0);m(y,N,Pn,"","\\@lrcorner",!0);m(y,N,O,"","\\leqq",!0);m(y,N,O,"","\\leqslant",!0);m(y,N,O,"","\\eqslantless",!0);m(y,N,O,"","\\lesssim",!0);m(y,N,O,"","\\lessapprox",!0);m(y,N,O,"","\\approxeq",!0);m(y,N,ge,"","\\lessdot");m(y,N,O,"","\\lll",!0);m(y,N,O,"","\\lessgtr",!0);m(y,N,O,"","\\lesseqgtr",!0);m(y,N,O,"","\\lesseqqgtr",!0);m(y,N,O,"","\\doteqdot");m(y,N,O,"","\\risingdotseq",!0);m(y,N,O,"","\\fallingdotseq",!0);m(y,N,O,"","\\backsim",!0);m(y,N,O,"","\\backsimeq",!0);m(y,N,O,"","\\subseteqq",!0);m(y,N,O,"","\\Subset",!0);m(y,N,O,"","\\sqsubset",!0);m(y,N,O,"","\\preccurlyeq",!0);m(y,N,O,"","\\curlyeqprec",!0);m(y,N,O,"","\\precsim",!0);m(y,N,O,"","\\precapprox",!0);m(y,N,O,"","\\vartriangleleft");m(y,N,O,"","\\trianglelefteq");m(y,N,O,"","\\vDash",!0);m(y,N,O,"","\\Vvdash",!0);m(y,N,O,"","\\smallsmile");m(y,N,O,"","\\smallfrown");m(y,N,O,"","\\bumpeq",!0);m(y,N,O,"","\\Bumpeq",!0);m(y,N,O,"","\\geqq",!0);m(y,N,O,"","\\geqslant",!0);m(y,N,O,"","\\eqslantgtr",!0);m(y,N,O,"","\\gtrsim",!0);m(y,N,O,"","\\gtrapprox",!0);m(y,N,ge,"","\\gtrdot");m(y,N,O,"","\\ggg",!0);m(y,N,O,"","\\gtrless",!0);m(y,N,O,"","\\gtreqless",!0);m(y,N,O,"","\\gtreqqless",!0);m(y,N,O,"","\\eqcirc",!0);m(y,N,O,"","\\circeq",!0);m(y,N,O,"","\\triangleq",!0);m(y,N,O,"","\\thicksim");m(y,N,O,"","\\thickapprox");m(y,N,O,"","\\supseteqq",!0);m(y,N,O,"","\\Supset",!0);m(y,N,O,"","\\sqsupset",!0);m(y,N,O,"","\\succcurlyeq",!0);m(y,N,O,"","\\curlyeqsucc",!0);m(y,N,O,"","\\succsim",!0);m(y,N,O,"","\\succapprox",!0);m(y,N,O,"","\\vartriangleright");m(y,N,O,"","\\trianglerighteq");m(y,N,O,"","\\Vdash",!0);m(y,N,O,"","\\shortmid");m(y,N,O,"","\\shortparallel");m(y,N,O,"","\\between",!0);m(y,N,O,"","\\pitchfork",!0);m(y,N,O,"","\\varpropto");m(y,N,O,"","\\blacktriangleleft");m(y,N,O,"","\\therefore",!0);m(y,N,O,"","\\backepsilon");m(y,N,O,"","\\blacktriangleright");m(y,N,O,"","\\because",!0);m(y,N,O,"","\\llless");m(y,N,O,"","\\gggtr");m(y,N,ge,"","\\lhd");m(y,N,ge,"","\\rhd");m(y,N,O,"","\\eqsim",!0);m(y,_,O,"","\\Join");m(y,N,O,"","\\Doteq",!0);m(y,N,ge,"","\\dotplus",!0);m(y,N,ge,"","\\smallsetminus");m(y,N,ge,"","\\Cap",!0);m(y,N,ge,"","\\Cup",!0);m(y,N,ge,"","\\doublebarwedge",!0);m(y,N,ge,"","\\boxminus",!0);m(y,N,ge,"","\\boxplus",!0);m(y,N,ge,"","\\divideontimes",!0);m(y,N,ge,"","\\ltimes",!0);m(y,N,ge,"","\\rtimes",!0);m(y,N,ge,"","\\leftthreetimes",!0);m(y,N,ge,"","\\rightthreetimes",!0);m(y,N,ge,"","\\curlywedge",!0);m(y,N,ge,"","\\curlyvee",!0);m(y,N,ge,"","\\circleddash",!0);m(y,N,ge,"","\\circledast",!0);m(y,N,ge,"","\\centerdot");m(y,N,ge,"","\\intercal",!0);m(y,N,ge,"","\\doublecap");m(y,N,ge,"","\\doublecup");m(y,N,ge,"","\\boxtimes",!0);m(y,N,O,"","\\dashrightarrow",!0);m(y,N,O,"","\\dashleftarrow",!0);m(y,N,O,"","\\leftleftarrows",!0);m(y,N,O,"","\\leftrightarrows",!0);m(y,N,O,"","\\Lleftarrow",!0);m(y,N,O,"","\\twoheadleftarrow",!0);m(y,N,O,"","\\leftarrowtail",!0);m(y,N,O,"","\\looparrowleft",!0);m(y,N,O,"","\\leftrightharpoons",!0);m(y,N,O,"","\\curvearrowleft",!0);m(y,N,O,"","\\circlearrowleft",!0);m(y,N,O,"","\\Lsh",!0);m(y,N,O,"","\\upuparrows",!0);m(y,N,O,"","\\upharpoonleft",!0);m(y,N,O,"","\\downharpoonleft",!0);m(y,_,O,"","\\origof",!0);m(y,_,O,"","\\imageof",!0);m(y,N,O,"","\\multimap",!0);m(y,N,O,"","\\leftrightsquigarrow",!0);m(y,N,O,"","\\rightrightarrows",!0);m(y,N,O,"","\\rightleftarrows",!0);m(y,N,O,"","\\twoheadrightarrow",!0);m(y,N,O,"","\\rightarrowtail",!0);m(y,N,O,"","\\looparrowright",!0);m(y,N,O,"","\\curvearrowright",!0);m(y,N,O,"","\\circlearrowright",!0);m(y,N,O,"","\\Rsh",!0);m(y,N,O,"","\\downdownarrows",!0);m(y,N,O,"","\\upharpoonright",!0);m(y,N,O,"","\\downharpoonright",!0);m(y,N,O,"","\\rightsquigarrow",!0);m(y,N,O,"","\\leadsto");m(y,N,O,"","\\Rrightarrow",!0);m(y,N,O,"","\\restriction");m(y,_,F,"","`");m(y,_,F,"$","\\$");m(Z,_,F,"$","\\$");m(Z,_,F,"$","\\textdollar");m(y,_,F,"%","\\%");m(Z,_,F,"%","\\%");m(y,_,F,"_","\\_");m(Z,_,F,"_","\\_");m(Z,_,F,"_","\\textunderscore");m(y,_,F,"","\\angle",!0);m(y,_,F,"","\\infty",!0);m(y,_,F,"","\\prime");m(y,_,F,"","\\triangle");m(y,_,F,"","\\Gamma",!0);m(y,_,F,"","\\Delta",!0);m(y,_,F,"","\\Theta",!0);m(y,_,F,"","\\Lambda",!0);m(y,_,F,"","\\Xi",!0);m(y,_,F,"","\\Pi",!0);m(y,_,F,"","\\Sigma",!0);m(y,_,F,"","\\Upsilon",!0);m(y,_,F,"","\\Phi",!0);m(y,_,F,"","\\Psi",!0);m(y,_,F,"","\\Omega",!0);m(y,_,F,"A","");m(y,_,F,"B","");m(y,_,F,"E","");m(y,_,F,"Z","");m(y,_,F,"H","");m(y,_,F,"I","");m(y,_,F,"K","");m(y,_,F,"M","");m(y,_,F,"N","");m(y,_,F,"O","");m(y,_,F,"P","");m(y,_,F,"T","");m(y,_,F,"X","");m(y,_,F,"","\\neg",!0);m(y,_,F,"","\\lnot");m(y,_,F,"","\\top");m(y,_,F,"","\\bot");m(y,_,F,"","\\emptyset");m(y,N,F,"","\\varnothing");m(y,_,Le,"","\\alpha",!0);m(y,_,Le,"","\\beta",!0);m(y,_,Le,"","\\gamma",!0);m(y,_,Le,"","\\delta",!0);m(y,_,Le,"","\\epsilon",!0);m(y,_,Le,"","\\zeta",!0);m(y,_,Le,"","\\eta",!0);m(y,_,Le,"","\\theta",!0);m(y,_,Le,"","\\iota",!0);m(y,_,Le,"","\\kappa",!0);m(y,_,Le,"","\\lambda",!0);m(y,_,Le,"","\\mu",!0);m(y,_,Le,"","\\nu",!0);m(y,_,Le,"","\\xi",!0);m(y,_,Le,"","\\omicron",!0);m(y,_,Le,"","\\pi",!0);m(y,_,Le,"","\\rho",!0);m(y,_,Le,"","\\sigma",!0);m(y,_,Le,"","\\tau",!0);m(y,_,Le,"","\\upsilon",!0);m(y,_,Le,"","\\phi",!0);m(y,_,Le,"","\\chi",!0);m(y,_,Le,"","\\psi",!0);m(y,_,Le,"","\\omega",!0);m(y,_,Le,"","\\varepsilon",!0);m(y,_,Le,"","\\vartheta",!0);m(y,_,Le,"","\\varpi",!0);m(y,_,Le,"","\\varrho",!0);m(y,_,Le,"","\\varsigma",!0);m(y,_,Le,"","\\varphi",!0);m(y,_,ge,"","*",!0);m(y,_,ge,"+","+");m(y,_,ge,"","-",!0);m(y,_,ge,"","\\cdot",!0);m(y,_,ge,"","\\circ",!0);m(y,_,ge,"","\\div",!0);m(y,_,ge,"","\\pm",!0);m(y,_,ge,"","\\times",!0);m(y,_,ge,"","\\cap",!0);m(y,_,ge,"","\\cup",!0);m(y,_,ge,"","\\setminus",!0);m(y,_,ge,"","\\land");m(y,_,ge,"","\\lor");m(y,_,ge,"","\\wedge",!0);m(y,_,ge,"","\\vee",!0);m(y,_,F,"","\\surd");m(y,_,hr,"","\\langle",!0);m(y,_,hr,"","\\lvert");m(y,_,hr,"","\\lVert");m(y,_,Pn,"?","?");m(y,_,Pn,"!","!");m(y,_,Pn,"","\\rangle",!0);m(y,_,Pn,"","\\rvert");m(y,_,Pn,"","\\rVert");m(y,_,O,"=","=");m(y,_,O,":",":");m(y,_,O,"","\\approx",!0);m(y,_,O,"","\\cong",!0);m(y,_,O,"","\\ge");m(y,_,O,"","\\geq",!0);m(y,_,O,"","\\gets");m(y,_,O,">","\\gt",!0);m(y,_,O,"","\\in",!0);m(y,_,O,"","\\@not");m(y,_,O,"","\\subset",!0);m(y,_,O,"","\\supset",!0);m(y,_,O,"","\\subseteq",!0);m(y,_,O,"","\\supseteq",!0);m(y,N,O,"","\\nsubseteq",!0);m(y,N,O,"","\\nsupseteq",!0);m(y,_,O,"","\\models");m(y,_,O,"","\\leftarrow",!0);m(y,_,O,"","\\le");m(y,_,O,"","\\leq",!0);m(y,_,O,"<","\\lt",!0);m(y,_,O,"","\\rightarrow",!0);m(y,_,O,"","\\to");m(y,N,O,"","\\ngeq",!0);m(y,N,O,"","\\nleq",!0);m(y,_,na,"","\\ ");m(y,_,na,"","\\space");m(y,_,na,"","\\nobreakspace");m(Z,_,na,"","\\ ");m(Z,_,na,""," ");m(Z,_,na,"","\\space");m(Z,_,na,"","\\nobreakspace");m(y,_,na,null,"\\nobreak");m(y,_,na,null,"\\allowbreak");m(y,_,Y0,",",",");m(y,_,Y0,";",";");m(y,N,ge,"","\\barwedge",!0);m(y,N,ge,"","\\veebar",!0);m(y,_,ge,"","\\odot",!0);m(y,_,ge,"","\\oplus",!0);m(y,_,ge,"","\\otimes",!0);m(y,_,F,"","\\partial",!0);m(y,_,ge,"","\\oslash",!0);m(y,N,ge,"","\\circledcirc",!0);m(y,N,ge,"","\\boxdot",!0);m(y,_,ge,"","\\bigtriangleup");m(y,_,ge,"","\\bigtriangledown");m(y,_,ge,"","\\dagger");m(y,_,ge,"","\\diamond");m(y,_,ge,"","\\star");m(y,_,ge,"","\\triangleleft");m(y,_,ge,"","\\triangleright");m(y,_,hr,"{","\\{");m(Z,_,F,"{","\\{");m(Z,_,F,"{","\\textbraceleft");m(y,_,Pn,"}","\\}");m(Z,_,F,"}","\\}");m(Z,_,F,"}","\\textbraceright");m(y,_,hr,"{","\\lbrace");m(y,_,Pn,"}","\\rbrace");m(y,_,hr,"[","\\lbrack",!0);m(Z,_,F,"[","\\lbrack",!0);m(y,_,Pn,"]","\\rbrack",!0);m(Z,_,F,"]","\\rbrack",!0);m(y,_,hr,"(","\\lparen",!0);m(y,_,Pn,")","\\rparen",!0);m(Z,_,F,"<","\\textless",!0);m(Z,_,F,">","\\textgreater",!0);m(y,_,hr,"","\\lfloor",!0);m(y,_,Pn,"","\\rfloor",!0);m(y,_,hr,"","\\lceil",!0);m(y,_,Pn,"","\\rceil",!0);m(y,_,F,"\\","\\backslash");m(y,_,F,"","|");m(y,_,F,"","\\vert");m(Z,_,F,"|","\\textbar",!0);m(y,_,F,"","\\|");m(y,_,F,"","\\Vert");m(Z,_,F,"","\\textbardbl");m(Z,_,F,"~","\\textasciitilde");m(Z,_,F,"\\","\\textbackslash");m(Z,_,F,"^","\\textasciicircum");m(y,_,O,"","\\uparrow",!0);m(y,_,O,"","\\Uparrow",!0);m(y,_,O,"","\\downarrow",!0);m(y,_,O,"","\\Downarrow",!0);m(y,_,O,"","\\updownarrow",!0);m(y,_,O,"","\\Updownarrow",!0);m(y,_,cn,"","\\coprod");m(y,_,cn,"","\\bigvee");m(y,_,cn,"","\\bigwedge");m(y,_,cn,"","\\biguplus");m(y,_,cn,"","\\bigcap");m(y,_,cn,"","\\bigcup");m(y,_,cn,"","\\int");m(y,_,cn,"","\\intop");m(y,_,cn,"","\\iint");m(y,_,cn,"","\\iiint");m(y,_,cn,"","\\prod");m(y,_,cn,"","\\sum");m(y,_,cn,"","\\bigotimes");m(y,_,cn,"","\\bigoplus");m(y,_,cn,"","\\bigodot");m(y,_,cn,"","\\oint");m(y,_,cn,"","\\oiint");m(y,_,cn,"","\\oiiint");m(y,_,cn,"","\\bigsqcup");m(y,_,cn,"","\\smallint");m(Z,_,ol,"","\\textellipsis");m(y,_,ol,"","\\mathellipsis");m(Z,_,ol,"","\\ldots",!0);m(y,_,ol,"","\\ldots",!0);m(y,_,ol,"","\\@cdots",!0);m(y,_,ol,"","\\ddots",!0);m(y,_,F,"","\\varvdots");m(y,_,qt,"","\\acute");m(y,_,qt,"","\\grave");m(y,_,qt,"","\\ddot");m(y,_,qt,"~","\\tilde");m(y,_,qt,"","\\bar");m(y,_,qt,"","\\breve");m(y,_,qt,"","\\check");m(y,_,qt,"^","\\hat");m(y,_,qt,"","\\vec");m(y,_,qt,"","\\dot");m(y,_,qt,"","\\mathring");m(y,_,Le,"","\\@imath");m(y,_,Le,"","\\@jmath");m(y,_,F,"","");m(y,_,F,"","");m(Z,_,F,"","\\i",!0);m(Z,_,F,"","\\j",!0);m(Z,_,F,"","\\ss",!0);m(Z,_,F,"","\\ae",!0);m(Z,_,F,"","\\oe",!0);m(Z,_,F,"","\\o",!0);m(Z,_,F,"","\\AE",!0);m(Z,_,F,"","\\OE",!0);m(Z,_,F,"","\\O",!0);m(Z,_,qt,"","\\'");m(Z,_,qt,"","\\`");m(Z,_,qt,"","\\^");m(Z,_,qt,"","\\~");m(Z,_,qt,"","\\=");m(Z,_,qt,"","\\u");m(Z,_,qt,"","\\.");m(Z,_,qt,"","\\c");m(Z,_,qt,"","\\r");m(Z,_,qt,"","\\v");m(Z,_,qt,"",'\\"');m(Z,_,qt,"","\\H");m(Z,_,qt,"","\\textcircled");var l8={"--":!0,"---":!0,"``":!0,"''":!0};m(Z,_,F,"","--",!0);m(Z,_,F,"","\\textendash");m(Z,_,F,"","---",!0);m(Z,_,F,"","\\textemdash");m(Z,_,F,"","`",!0);m(Z,_,F,"","\\textquoteleft");m(Z,_,F,"","'",!0);m(Z,_,F,"","\\textquoteright");m(Z,_,F,"","``",!0);m(Z,_,F,"","\\textquotedblleft");m(Z,_,F,"","''",!0);m(Z,_,F,"","\\textquotedblright");m(y,_,F,"","\\degree",!0);m(Z,_,F,"","\\degree");m(Z,_,F,"","\\textdegree",!0);m(y,_,F,"","\\pounds");m(y,_,F,"","\\mathsterling",!0);m(Z,_,F,"","\\pounds");m(Z,_,F,"","\\textsterling",!0);m(y,N,F,"","\\maltese");m(Z,N,F,"","\\maltese");var I4='0123456789/@."';for(var gm=0;gm<I4.length;gm++){var N4=I4.charAt(gm);m(y,_,F,N4,N4)}var M4='0123456789!@*()-=+";:?/.,';for(var ym=0;ym<M4.length;ym++){var O4=M4.charAt(ym);m(Z,_,F,O4,O4)}var Ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var bm=0;bm<Ah.length;bm++){var td=Ah.charAt(bm);m(y,_,Le,td,td),m(Z,_,F,td,td)}m(y,N,F,"C","");m(Z,N,F,"C","");m(y,N,F,"H","");m(Z,N,F,"H","");m(y,N,F,"N","");m(Z,N,F,"N","");m(y,N,F,"P","");m(Z,N,F,"P","");m(y,N,F,"Q","");m(Z,N,F,"Q","");m(y,N,F,"R","");m(Z,N,F,"R","");m(y,N,F,"Z","");m(Z,N,F,"Z","");m(y,_,Le,"h","");m(Z,_,Le,"h","");var $e="";for(var An=0;An<Ah.length;An++){var Jt=Ah.charAt(An);$e=String.fromCharCode(55349,56320+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e),$e=String.fromCharCode(55349,56372+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e),$e=String.fromCharCode(55349,56424+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e),$e=String.fromCharCode(55349,56580+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e),$e=String.fromCharCode(55349,56684+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e),$e=String.fromCharCode(55349,56736+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e),$e=String.fromCharCode(55349,56788+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e),$e=String.fromCharCode(55349,56840+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e),$e=String.fromCharCode(55349,56944+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e),An<26&&($e=String.fromCharCode(55349,56632+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e),$e=String.fromCharCode(55349,56476+An),m(y,_,Le,Jt,$e),m(Z,_,F,Jt,$e))}$e=String.fromCharCode(55349,56668);m(y,_,Le,"k",$e);m(Z,_,F,"k",$e);for(var Qa=0;Qa<10;Qa++){var ca=Qa.toString();$e=String.fromCharCode(55349,57294+Qa),m(y,_,Le,ca,$e),m(Z,_,F,ca,$e),$e=String.fromCharCode(55349,57314+Qa),m(y,_,Le,ca,$e),m(Z,_,F,ca,$e),$e=String.fromCharCode(55349,57324+Qa),m(y,_,Le,ca,$e),m(Z,_,F,ca,$e),$e=String.fromCharCode(55349,57334+Qa),m(y,_,Le,ca,$e),m(Z,_,F,ca,$e)}var sg="";for(var wm=0;wm<sg.length;wm++){var nd=sg.charAt(wm);m(y,_,Le,nd,nd),m(Z,_,F,nd,nd)}var rd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],D4=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],qH=function(t,n){var r=t.charCodeAt(0),i=t.charCodeAt(1),a=(r-55296)*1024+(i-56320)+65536,s=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[rd[o][2],rd[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[D4[l][2],D4[l][s]]}else{if(a===120485||a===120486)return[rd[0][2],rd[0][s]];if(120486<a&&a<120782)return["",""];throw new ie("Unsupported character: "+t)}},G0=function(t,n,r){return Mt[r][t]&&Mt[r][t].replace&&(t=Mt[r][t].replace),{value:t,metrics:Cy(t,n,r)}},Br=function(t,n,r,i,a){var s=G0(t,n,r),o=s.metrics;t=s.value;var l;if(o){var c=o.italic;(r==="text"||i&&i.font==="mathit")&&(c=0),l=new Cr(t,o.height,o.depth,c,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),l=new Cr(t,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var u=i.getColor();u&&(l.style.color=u)}return l},HH=function(t,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&G0(t,"Main-Bold",n).metrics?Br(t,"Main-Bold",n,r,i.concat(["mathbf"])):t==="\\"||Mt[n][t].font==="main"?Br(t,"Main-Regular",n,r,i):Br(t,"AMS-Regular",n,r,i.concat(["amsrm"]))},WH=function(t,n,r,i,a){return a!=="textord"&&G0(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},XH=function(t,n,r){var i=t.mode,a=t.text,s=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily,c="",u="";if(a.charCodeAt(0)===55349&&([c,u]=qH(a,i)),c.length>0)return Br(a,c,i,n,s.concat(u));if(l){var d,f;if(l==="boldsymbol"){var h=WH(a,i,n,s,r);d=h.fontName,f=[h.fontClass]}else o?(d=d8[l].fontName,f=[l]):(d=id(l,n.fontWeight,n.fontShape),f=[l,n.fontWeight,n.fontShape]);if(G0(a,d,i).metrics)return Br(a,d,i,n,s.concat(f));if(l8.hasOwnProperty(a)&&d.slice(0,10)==="Typewriter"){for(var g=[],p=0;p<a.length;p++)g.push(Br(a[p],d,i,n,s.concat(f)));return u8(g)}}if(r==="mathord")return Br(a,"Math-Italic",i,n,s.concat(["mathnormal"]));if(r==="textord"){var v=Mt[i][a]&&Mt[i][a].font;if(v==="ams"){var b=id("amsrm",n.fontWeight,n.fontShape);return Br(a,b,i,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(v==="main"||!v){var w=id("textrm",n.fontWeight,n.fontShape);return Br(a,w,i,n,s.concat(n.fontWeight,n.fontShape))}else{var k=id(v,n.fontWeight,n.fontShape);return Br(a,k,i,n,s.concat(k,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},VH=(e,t)=>{if(za(e.classes)!==za(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},YH=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Cr&&r instanceof Cr&&VH(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},Ry=function(t){for(var n=0,r=0,i=0,a=0;a<t.children.length;a++){var s=t.children[a];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=i},Un=function(t,n,r,i){var a=new nu(t,n,r,i);return Ry(a),a},c8=(e,t,n,r)=>new nu(e,t,n,r),GH=function(t,n,r){var i=Un([t],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=fe(i.height),i.maxFontSize=1,i},KH=function(t,n,r,i){var a=new Ay(t,n,r,i);return Ry(a),a},u8=function(t){var n=new tu(t);return Ry(n),n},QH=function(t,n){return t instanceof tu?Un([],[t],n):t},ZH=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,a=i,s=1;s<n.length;s++){var o=-n[s].shift-a-n[s].elem.depth,l=o-(n[s-1].elem.height+n[s-1].elem.depth);a=a+o,r.push({type:"kern",size:l}),r.push(n[s])}return{children:r,depth:i}}var c;if(t.positionType==="top"){for(var u=t.positionData,d=0;d<t.children.length;d++){var f=t.children[d];u-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}c=u}else if(t.positionType==="bottom")c=-t.positionData;else{var h=t.children[0];if(h.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")c=-h.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")c=-h.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:c}},JH=function(t,n){for(var{children:r,depth:i}=ZH(t),a=0,s=0;s<r.length;s++){var o=r[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var c=Un(["pstrut"],[]);c.style.height=fe(a);for(var u=[],d=i,f=i,h=i,g=0;g<r.length;g++){var p=r[g];if(p.type==="kern")h+=p.size;else{var v=p.elem,b=p.wrapperClasses||[],w=p.wrapperStyle||{},k=Un(b,[c,v],void 0,w);k.style.top=fe(-a-h-v.depth),p.marginLeft&&(k.style.marginLeft=p.marginLeft),p.marginRight&&(k.style.marginRight=p.marginRight),u.push(k),h+=v.height+v.depth}d=Math.min(d,h),f=Math.max(f,h)}var T=Un(["vlist"],u);T.style.height=fe(f);var R;if(d<0){var x=Un([],[]),M=Un(["vlist"],[x]);M.style.height=fe(-d);var I=Un(["vlist-s"],[new Cr("")]);R=[Un(["vlist-r"],[T,I]),Un(["vlist-r"],[M])]}else R=[Un(["vlist-r"],[T])];var B=Un(["vlist-t"],R);return R.length===2&&B.classes.push("vlist-t2"),B.height=f,B.depth=-d,B},eW=(e,t)=>{var n=Un(["mspace"],[],t),r=Xt(e,t);return n.style.marginRight=fe(r),n},id=function(t,n,r){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var a;return n==="textbf"&&r==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",i+"-"+a},d8={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},h8={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},tW=function(t,n){var[r,i,a]=h8[t],s=new Fa(r),o=new Xi([s],{width:fe(i),height:fe(a),style:"width:"+fe(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=c8(["overlay"],[o],n);return l.height=a,l.style.height=fe(a),l.style.width=fe(i),l},H={fontMap:d8,makeSymbol:Br,mathsym:HH,makeSpan:Un,makeSvgSpan:c8,makeLineSpan:GH,makeAnchor:KH,makeFragment:u8,wrapFragment:QH,makeVList:JH,makeOrd:XH,makeGlue:eW,staticSvg:tW,svgData:h8,tryCombineChars:YH},Ht={number:3,unit:"mu"},Za={number:4,unit:"mu"},Si={number:5,unit:"mu"},nW={mord:{mop:Ht,mbin:Za,mrel:Si,minner:Ht},mop:{mord:Ht,mop:Ht,mrel:Si,minner:Ht},mbin:{mord:Za,mop:Za,mopen:Za,minner:Za},mrel:{mord:Si,mop:Si,mopen:Si,minner:Si},mopen:{},mclose:{mop:Ht,mbin:Za,mrel:Si,minner:Ht},mpunct:{mord:Ht,mop:Ht,mrel:Si,mopen:Ht,mclose:Ht,mpunct:Ht,minner:Ht},minner:{mord:Ht,mop:Ht,mbin:Za,mrel:Si,mopen:Ht,mpunct:Ht,minner:Ht}},rW={mord:{mop:Ht},mop:{mord:Ht,mop:Ht},mbin:{},mrel:{},mopen:{},mclose:{mop:Ht},mpunct:{},minner:{mop:Ht}},f8={},Rh={},Ih={};function pe(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)f8[n[l]]=o;t&&(a&&(Rh[t]=a),s&&(Ih[t]=s))}function zs(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;pe({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Nh=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},an=function(t){return t.type==="ordgroup"?t.body:[t]},Vi=H.makeSpan,iW=["leftmost","mbin","mopen","mrel","mop","mpunct"],aW=["rightmost","mrel","mclose","mpunct"],sW={display:Pe.DISPLAY,text:Pe.TEXT,script:Pe.SCRIPT,scriptscript:Pe.SCRIPTSCRIPT},oW={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},fn=function(t,n,r,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<t.length;s++){var o=ot(t[s],n);if(o instanceof tu){var l=o.children;a.push(...l)}else a.push(o)}if(H.tryCombineChars(a),!r)return a;var c=n;if(t.length===1){var u=t[0];u.type==="sizing"?c=n.havingSize(u.size):u.type==="styling"&&(c=n.havingStyle(sW[u.style]))}var d=Vi([i[0]||"leftmost"],[],n),f=Vi([i[1]||"rightmost"],[],n),h=r==="root";return L4(a,(g,p)=>{var v=p.classes[0],b=g.classes[0];v==="mbin"&&De.contains(aW,b)?p.classes[0]="mord":b==="mbin"&&De.contains(iW,v)&&(g.classes[0]="mord")},{node:d},f,h),L4(a,(g,p)=>{var v=og(p),b=og(g),w=v&&b?g.hasClass("mtight")?rW[v][b]:nW[v][b]:null;if(w)return H.makeGlue(w,c)},{node:d},f,h),a},L4=function e(t,n,r,i,a){i&&t.push(i);for(var s=0;s<t.length;s++){var o=t[s],l=m8(o);if(l){e(l.children,n,r,null,a);continue}var c=!o.hasClass("mspace");if(c){var u=n(o,r.node);u&&(r.insertAfter?r.insertAfter(u):(t.unshift(u),s++))}c?r.node=o:a&&o.hasClass("newline")&&(r.node=Vi(["leftmost"])),r.insertAfter=(d=>f=>{t.splice(d+1,0,f),s++})(s)}i&&t.pop()},m8=function(t){return t instanceof tu||t instanceof Ay||t instanceof nu&&t.hasClass("enclosing")?t:null},lW=function e(t,n){var r=m8(t);if(r){var i=r.children;if(i.length){if(n==="right")return e(i[i.length-1],"right");if(n==="left")return e(i[0],"left")}}return t},og=function(t,n){return t?(n&&(t=lW(t,n)),oW[t.classes[0]]||null):null},Rc=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return Vi(n.concat(r))},ot=function(t,n,r){if(!t)return Vi();if(Rh[t.type]){var i=Rh[t.type](t,n);if(r&&n.size!==r.size){i=Vi(n.sizingClasses(r),[i],n);var a=n.sizeMultiplier/r.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new ie("Got group of unknown type: '"+t.type+"'")};function ad(e,t){var n=Vi(["base"],e,t),r=Vi(["strut"]);return r.style.height=fe(n.height+n.depth),n.depth&&(r.style.verticalAlign=fe(-n.depth)),n.children.unshift(r),n}function lg(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=fn(e,t,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var a=[],s=[],o=0;o<r.length;o++)if(s.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,s.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(a.push(ad(s,t)),s=[])}else r[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(ad(s,t)),s=[]),a.push(r[o]));s.length>0&&a.push(ad(s,t));var c;n?(c=ad(fn(n,t,!0)),c.classes=["tag"],a.push(c)):i&&a.push(i);var u=Vi(["katex-html"],a);if(u.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=fe(u.height+u.depth),u.depth&&(d.style.verticalAlign=fe(-u.depth))}return u}function p8(e){return new tu(e)}class br{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=za(this.classes));for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=De.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+De.escape(za(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Gl{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return De.escape(this.toText())}toText(){return this.text}}class cW{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",fe(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+fe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ne={MathNode:br,TextNode:Gl,SpaceNode:cW,newDocumentFragment:p8},Ar=function(t,n,r){return Mt[n][t]&&Mt[n][t].replace&&t.charCodeAt(0)!==55349&&!(l8.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=Mt[n][t].replace),new ne.TextNode(t)},Iy=function(t){return t.length===1?t[0]:new ne.MathNode("mrow",t)},Ny=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var a=t.text;if(De.contains(["\\imath","\\jmath"],a))return null;Mt[i][a]&&Mt[i][a].replace&&(a=Mt[i][a].replace);var s=H.fontMap[r].fontName;return Cy(a,s,i)?H.fontMap[r].variant:null},Kn=function(t,n,r){if(t.length===1){var i=_t(t[0],n);return r&&i instanceof br&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<t.length;o++){var l=_t(t[o],n);if(l instanceof br&&s instanceof br){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var c=l.children[0];if(c instanceof Gl&&c.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var u=s.children[0];if(u instanceof Gl&&u.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof Gl&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),a.pop())}}}a.push(l),s=l}return a},Ba=function(t,n,r){return Iy(Kn(t,n,r))},_t=function(t,n){if(!t)return new ne.MathNode("mrow");if(Ih[t.type]){var r=Ih[t.type](t,n);return r}else throw new ie("Got group of unknown type: '"+t.type+"'")};function P4(e,t,n,r,i){var a=Kn(e,n),s;a.length===1&&a[0]instanceof br&&De.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new ne.MathNode("mrow",a);var o=new ne.MathNode("annotation",[new ne.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var l=new ne.MathNode("semantics",[s,o]),c=new ne.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var u=i?"katex":"katex-mathml";return H.makeSpan([u],[c])}var g8=function(t){return new Ai({style:t.displayMode?Pe.DISPLAY:Pe.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},y8=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=H.makeSpan(r,[t])}return t},uW=function(t,n,r){var i=g8(r),a;if(r.output==="mathml")return P4(t,n,i,r.displayMode,!0);if(r.output==="html"){var s=lg(t,i);a=H.makeSpan(["katex"],[s])}else{var o=P4(t,n,i,r.displayMode,!1),l=lg(t,i);a=H.makeSpan(["katex"],[o,l])}return y8(a,r)},dW=function(t,n,r){var i=g8(r),a=lg(t,i),s=H.makeSpan(["katex"],[a]);return y8(s,r)},hW={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},fW=function(t){var n=new ne.MathNode("mo",[new ne.TextNode(hW[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},mW={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},pW=function(t){return t.type==="ordgroup"?t.body.length:1},gW=function(t,n){function r(){var o=4e5,l=t.label.slice(1);if(De.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=t,u=pW(c.base),d,f,h;if(u>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,h=.42,f=l+"4"):(d=312,o=2340,h=.34,f="tilde4");else{var g=[1,1,2,2,3,3][u];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][g],d=[0,239,300,360,420][g],h=[0,.24,.3,.3,.36,.42][g],f=l+g):(o=[0,600,1033,2339,2340][g],d=[0,260,286,306,312][g],h=[0,.26,.286,.3,.306,.34][g],f="tilde"+g)}var p=new Fa(f),v=new Xi([p],{width:"100%",height:fe(h),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:H.makeSvgSpan([],[v],n),minWidth:0,height:h}}else{var b=[],w=mW[l],[k,T,R]=w,x=R/1e3,M=k.length,I,B;if(M===1){var D=w[3];I=["hide-tail"],B=[D]}else if(M===2)I=["halfarrow-left","halfarrow-right"],B=["xMinYMin","xMaxYMin"];else if(M===3)I=["brace-left","brace-center","brace-right"],B=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+M+" children.");for(var Y=0;Y<M;Y++){var X=new Fa(k[Y]),ce=new Xi([X],{width:"400em",height:fe(x),viewBox:"0 0 "+o+" "+R,preserveAspectRatio:B[Y]+" slice"}),se=H.makeSvgSpan([I[Y]],[ce],n);if(M===1)return{span:se,minWidth:T,height:x};se.style.height=fe(x),b.push(se)}return{span:H.makeSpan(["stretchy"],b,n),minWidth:T,height:x}}}var{span:i,minWidth:a,height:s}=r();return i.height=s,i.style.height=fe(s),a>0&&(i.style.minWidth=fe(a)),i},yW=function(t,n,r,i,a){var s,o=t.height+t.depth+r+i;if(/fbox|color|angl/.test(n)){if(s=H.makeSpan(["stretchy",n],[],a),n==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new ag({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new ag({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Xi(c,{width:"100%",height:fe(o)});s=H.makeSvgSpan([],[u],a)}return s.height=o,s.style.height=fe(o),s},Yi={encloseSpan:yW,mathMLnode:fW,svgSpan:gW};function Ge(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function My(e){var t=K0(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function K0(e){return e&&(e.type==="atom"||jH.hasOwnProperty(e.type))?e:null}var Oy=(e,t)=>{var n,r,i;e&&e.type==="supsub"?(r=Ge(e.base,"accent"),n=r.base,e.base=n,i=$H(ot(e,t)),e.base=r):(r=Ge(e,"accent"),n=r.base);var a=ot(n,t.havingCrampedStyle()),s=r.isShifty&&De.isCharacterBox(n),o=0;if(s){var l=De.getBaseElem(n),c=ot(l,t.havingCrampedStyle());o=R4(c).skew}var u=r.label==="\\c",d=u?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),f;if(r.isStretchy)f=Yi.svgSpan(r,t),f=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+fe(2*o)+")",marginLeft:fe(2*o)}:void 0}]},t);else{var h,g;r.label==="\\vec"?(h=H.staticSvg("vec",t),g=H.svgData.vec[1]):(h=H.makeOrd({mode:r.mode,text:r.label},t,"textord"),h=R4(h),h.italic=0,g=h.width,u&&(d+=h.depth)),f=H.makeSpan(["accent-body"],[h]);var p=r.label==="\\textcircled";p&&(f.classes.push("accent-full"),d=a.height);var v=o;p||(v-=g/2),f.style.left=fe(v),r.label==="\\textcircled"&&(f.style.top=".2em"),f=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-d},{type:"elem",elem:f}]},t)}var b=H.makeSpan(["mord","accent"],[f],t);return i?(i.children[0]=b,i.height=Math.max(b.height,i.height),i.classes[0]="mord",i):b},b8=(e,t)=>{var n=e.isStretchy?Yi.mathMLnode(e.label):new ne.MathNode("mo",[Ar(e.label,e.mode)]),r=new ne.MathNode("mover",[_t(e.base,t),n]);return r.setAttribute("accent","true"),r},bW=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));pe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=Nh(t[0]),r=!bW.test(e.funcName),i=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Oy,mathmlBuilder:b8});pe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Oy,mathmlBuilder:b8});pe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=ot(e.base,t),r=Yi.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,a=H.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return H.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(e,t)=>{var n=Yi.mathMLnode(e.label),r=new ne.MathNode("munder",[_t(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var sd=e=>{var t=new ne.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};pe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),i=H.wrapFragment(ot(e.body,r,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;e.below&&(r=t.havingStyle(n.sub()),s=H.wrapFragment(ot(e.below,r,t),t),s.classes.push(a+"-arrow-pad"));var o=Yi.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*o.height,c=-t.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(c-=i.depth);var u;if(s){var d=-t.fontMetrics().axisHeight+s.height+.5*o.height+.111;u=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:d}]},t)}else u=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:l}]},t);return u.children[0].children[0].children[1].classes.push("svg-align"),H.makeSpan(["mrel","x-arrow"],[u],t)},mathmlBuilder(e,t){var n=Yi.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var i=sd(_t(e.body,t));if(e.below){var a=sd(_t(e.below,t));r=new ne.MathNode("munderover",[n,a,i])}else r=new ne.MathNode("mover",[n,i])}else if(e.below){var s=sd(_t(e.below,t));r=new ne.MathNode("munder",[n,s])}else r=sd(),r=new ne.MathNode("mover",[n,r]);return r}});var wW=H.makeSpan;function w8(e,t){var n=fn(e.body,t,!0);return wW([e.mclass],n,t)}function v8(e,t){var n,r=Kn(e.body,t);return e.mclass==="minner"?n=new ne.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new ne.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new ne.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}pe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:an(i),isCharacterBox:De.isCharacterBox(i)}},htmlBuilder:w8,mathmlBuilder:v8});var Q0=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};pe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Q0(t[0]),body:an(t[1]),isCharacterBox:De.isCharacterBox(t[1])}}});pe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,i=t[1],a=t[0],s;r!=="\\stackrel"?s=Q0(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:an(i)},l={type:"supsub",mode:a.mode,base:o,sup:r==="\\underset"?null:a,sub:r==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:s,body:[l],isCharacterBox:De.isCharacterBox(l)}},htmlBuilder:w8,mathmlBuilder:v8});pe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Q0(t[0]),body:an(t[0])}},htmlBuilder(e,t){var n=fn(e.body,t,!0),r=H.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=Kn(e.body,t),r=new ne.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var vW={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},z4=()=>({type:"styling",body:[],mode:"math",style:"display"}),F4=e=>e.type==="textord"&&e.text==="@",xW=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function kW(e,t,n){var r=vW[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function SW(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ie("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],i=[r],a=0;a<t.length;a++){for(var s=t[a],o=z4(),l=0;l<s.length;l++)if(!F4(s[l]))o.body.push(s[l]);else{r.push(o),l+=1;var c=My(s[l]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var f=!0,h=l+1;h<s.length;h++){if(xW(s[h],c)){f=!1,l=h;break}if(F4(s[h]))throw new ie("Missing a "+c+" character to complete a CD arrow.",s[h]);u[d].body.push(s[h])}if(f)throw new ie("Missing a "+c+" character to complete a CD arrow.",s[l])}else throw new ie('Expected one of "<>AV=|." after @',s[l]);var g=kW(c,u,e),p={type:"styling",body:[g],mode:"math",style:"display"};r.push(p),o=z4()}a%2===0?r.push(o):r.shift(),r=[],i.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var v=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:v,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}pe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=H.wrapFragment(ot(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=fe(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new ne.MathNode("mrow",[_t(e.label,t)]);return n=new ne.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ne.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});pe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=H.wrapFragment(ot(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new ne.MathNode("mrow",[_t(e.fragment,t)])}});pe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=Ge(t[0],"ordgroup"),i=r.body,a="",s=0;s<i.length;s++){var o=Ge(i[s],"textord");a+=o.text}var l=parseInt(a),c;if(isNaN(l))throw new ie("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new ie("\\@char with invalid code point "+a);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var x8=(e,t)=>{var n=fn(e.body,t.withColor(e.color),!1);return H.makeFragment(n)},k8=(e,t)=>{var n=Kn(e.body,t.withColor(e.color)),r=new ne.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};pe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=Ge(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:an(i)}},htmlBuilder:x8,mathmlBuilder:k8});pe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=Ge(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var a=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:a}},htmlBuilder:x8,mathmlBuilder:k8});pe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:a,size:i&&Ge(i,"size").value}},htmlBuilder(e,t){var n=H.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=fe(Xt(e.size,t)))),n},mathmlBuilder(e,t){var n=new ne.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",fe(Xt(e.size,t)))),n}});var cg={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},S8=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ie("Expected a control sequence",e);return t},_W=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},_8=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};pe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(cg[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=cg[r.text]),Ge(t.parseFunction(),"internal");throw new ie("Invalid token after macro prefix",r)}});pe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ie("Expected a control sequence",r);for(var a=0,s,o=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),o[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ie('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new ie('Argument number "'+r.text+'" out of order');a++,o.push([])}else{if(r.text==="EOF")throw new ie("Expected a macro definition");o[a].push(r.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},n===cg[n]),{type:"internal",mode:t.mode}}});pe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=S8(t.gullet.popToken());t.gullet.consumeSpaces();var i=_W(t);return _8(t,r,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});pe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=S8(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return _8(t,r,a,n==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var Ol=function(t,n,r){var i=Mt.math[t]&&Mt.math[t].replace,a=Cy(i||t,n,r);if(!a)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return a},Dy=function(t,n,r,i){var a=r.havingBaseStyle(n),s=H.makeSpan(i.concat(a.sizingClasses(r)),[t],r),o=a.sizeMultiplier/r.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},E8=function(t,n,r){var i=n.havingBaseStyle(r),a=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=fe(a),t.height-=a,t.depth+=a},EW=function(t,n,r,i,a,s){var o=H.makeSymbol(t,"Main-Regular",a,i),l=Dy(o,n,i,s);return r&&E8(l,i,n),l},TW=function(t,n,r,i){return H.makeSymbol(t,"Size"+n+"-Regular",r,i)},T8=function(t,n,r,i,a,s){var o=TW(t,n,a,i),l=Dy(H.makeSpan(["delimsizing","size"+n],[o],i),Pe.TEXT,i,s);return r&&E8(l,i,Pe.TEXT),l},vm=function(t,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=H.makeSpan(["delimsizinginner",i],[H.makeSpan([],[H.makeSymbol(t,n,r)])]);return{type:"elem",elem:a}},xm=function(t,n,r){var i=ai["Size4-Regular"][t.charCodeAt(0)]?ai["Size4-Regular"][t.charCodeAt(0)][4]:ai["Size1-Regular"][t.charCodeAt(0)][4],a=new Fa("inner",MH(t,Math.round(1e3*n))),s=new Xi([a],{width:fe(i),height:fe(n),style:"width:"+fe(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=H.makeSvgSpan([],[s],r);return o.height=n,o.style.height=fe(n),o.style.width=fe(i),{type:"elem",elem:o}},ug=.008,od={type:"kern",size:-1*ug},CW=["|","\\lvert","\\rvert","\\vert"],AW=["\\|","\\lVert","\\rVert","\\Vert"],C8=function(t,n,r,i,a,s){var o,l,c,u,d="",f=0;o=c=u=t,l=null;var h="Size1-Regular";t==="\\uparrow"?c=u="":t==="\\Uparrow"?c=u="":t==="\\downarrow"?o=c="":t==="\\Downarrow"?o=c="":t==="\\updownarrow"?(o="\\uparrow",c="",u="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",c="",u="\\Downarrow"):De.contains(CW,t)?(c="",d="vert",f=333):De.contains(AW,t)?(c="",d="doublevert",f=556):t==="["||t==="\\lbrack"?(o="",c="",u="",h="Size4-Regular",d="lbrack",f=667):t==="]"||t==="\\rbrack"?(o="",c="",u="",h="Size4-Regular",d="rbrack",f=667):t==="\\lfloor"||t===""?(c=o="",u="",h="Size4-Regular",d="lfloor",f=667):t==="\\lceil"||t===""?(o="",c=u="",h="Size4-Regular",d="lceil",f=667):t==="\\rfloor"||t===""?(c=o="",u="",h="Size4-Regular",d="rfloor",f=667):t==="\\rceil"||t===""?(o="",c=u="",h="Size4-Regular",d="rceil",f=667):t==="("||t==="\\lparen"?(o="",c="",u="",h="Size4-Regular",d="lparen",f=875):t===")"||t==="\\rparen"?(o="",c="",u="",h="Size4-Regular",d="rparen",f=875):t==="\\{"||t==="\\lbrace"?(o="",l="",u="",c="",h="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="",l="",u="",c="",h="Size4-Regular"):t==="\\lgroup"||t===""?(o="",u="",c="",h="Size4-Regular"):t==="\\rgroup"||t===""?(o="",u="",c="",h="Size4-Regular"):t==="\\lmoustache"||t===""?(o="",u="",c="",h="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(o="",u="",c="",h="Size4-Regular");var g=Ol(o,h,a),p=g.height+g.depth,v=Ol(c,h,a),b=v.height+v.depth,w=Ol(u,h,a),k=w.height+w.depth,T=0,R=1;if(l!==null){var x=Ol(l,h,a);T=x.height+x.depth,R=2}var M=p+k+T,I=Math.max(0,Math.ceil((n-M)/(R*b))),B=M+I*R*b,D=i.fontMetrics().axisHeight;r&&(D*=i.sizeMultiplier);var Y=B/2-D,X=[];if(d.length>0){var ce=B-p-k,se=Math.round(B*1e3),de=OH(d,Math.round(ce*1e3)),ze=new Fa(d,de),W=(f/1e3).toFixed(3)+"em",$=(se/1e3).toFixed(3)+"em",K=new Xi([ze],{width:W,height:$,viewBox:"0 0 "+f+" "+se}),C=H.makeSvgSpan([],[K],i);C.height=se/1e3,C.style.width=W,C.style.height=$,X.push({type:"elem",elem:C})}else{if(X.push(vm(u,h,a)),X.push(od),l===null){var oe=B-p-k+2*ug;X.push(xm(c,oe,i))}else{var G=(B-p-k-T)/2+2*ug;X.push(xm(c,G,i)),X.push(od),X.push(vm(l,h,a)),X.push(od),X.push(xm(c,G,i))}X.push(od),X.push(vm(o,h,a))}var A=i.havingBaseStyle(Pe.TEXT),ee=H.makeVList({positionType:"bottom",positionData:Y,children:X},A);return Dy(H.makeSpan(["delimsizing","mult"],[ee],A),Pe.TEXT,i,s)},km=80,Sm=.08,_m=function(t,n,r,i,a){var s=NH(t,i,r),o=new Fa(t,s),l=new Xi([o],{width:"400em",height:fe(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return H.makeSvgSpan(["hide-tail"],[l],a)},RW=function(t,n){var r=n.havingBaseSizing(),i=N8("\\surd",t*r.sizeMultiplier,I8,r),a=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,c=0,u=0,d;return i.type==="small"?(u=1e3+1e3*s+km,t<1?a=1:t<1.4&&(a=.7),l=(1+s+Sm)/a,c=(1+s)/a,o=_m("sqrtMain",l,u,s,n),o.style.minWidth="0.853em",d=.833/a):i.type==="large"?(u=(1e3+km)*Kl[i.size],c=(Kl[i.size]+s)/a,l=(Kl[i.size]+s+Sm)/a,o=_m("sqrtSize"+i.size,l,u,s,n),o.style.minWidth="1.02em",d=1/a):(l=t+s+Sm,c=t+s,u=Math.floor(1e3*t+s)+km,o=_m("sqrtTall",l,u,s,n),o.style.minWidth="0.742em",d=1.056),o.height=c,o.style.height=fe(l),{span:o,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*a}},A8=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],IW=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],R8=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Kl=[0,1.2,1.8,2.4,3],NW=function(t,n,r,i,a){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),De.contains(A8,t)||De.contains(R8,t))return T8(t,n,!1,r,i,a);if(De.contains(IW,t))return C8(t,Kl[n],!1,r,i,a);throw new ie("Illegal delimiter: '"+t+"'")},MW=[{type:"small",style:Pe.SCRIPTSCRIPT},{type:"small",style:Pe.SCRIPT},{type:"small",style:Pe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],OW=[{type:"small",style:Pe.SCRIPTSCRIPT},{type:"small",style:Pe.SCRIPT},{type:"small",style:Pe.TEXT},{type:"stack"}],I8=[{type:"small",style:Pe.SCRIPTSCRIPT},{type:"small",style:Pe.SCRIPT},{type:"small",style:Pe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],DW=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},N8=function(t,n,r,i){for(var a=Math.min(2,3-i.style.size),s=a;s<r.length&&r[s].type!=="stack";s++){var o=Ol(t,DW(r[s]),"math"),l=o.height+o.depth;if(r[s].type==="small"){var c=i.havingBaseStyle(r[s].style);l*=c.sizeMultiplier}if(l>n)return r[s]}return r[r.length-1]},M8=function(t,n,r,i,a,s){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var o;De.contains(R8,t)?o=MW:De.contains(A8,t)?o=I8:o=OW;var l=N8(t,n,o,i);return l.type==="small"?EW(t,l.style,r,i,a,s):l.type==="large"?T8(t,l.size,r,i,a,s):C8(t,n,r,i,a,s)},LW=function(t,n,r,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,u=Math.max(n-o,r+o),d=Math.max(u/500*l,2*u-c);return M8(t,d,!0,i,a,s)},$i={sqrtImage:RW,sizedDelim:NW,sizeToMaxHeight:Kl,customSizedDelim:M8,leftRightDelim:LW},B4={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},PW=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Z0(e,t){var n=K0(e);if(n&&De.contains(PW,n.text))return n;throw n?new ie("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new ie("Invalid delimiter type '"+e.type+"'",e)}pe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Z0(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:B4[e.funcName].size,mclass:B4[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?H.makeSpan([e.mclass]):$i.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Ar(e.delim,e.mode));var n=new ne.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=fe($i.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function $4(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}pe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ie("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Z0(t[0],e).text,color:n}}});pe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Z0(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var a=Ge(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{$4(e);for(var n=fn(e.body,t,!0,["mopen","mclose"]),r=0,i=0,a=!1,s=0;s<n.length;s++)n[s].isMiddle?a=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;var o;if(e.left==="."?o=Rc(t,["mopen"]):o=$i.leftRightDelim(e.left,r,i,t,e.mode,["mopen"]),n.unshift(o),a)for(var l=1;l<n.length;l++){var c=n[l],u=c.isMiddle;u&&(n[l]=$i.leftRightDelim(u.delim,r,i,u.options,e.mode,[]))}var d;if(e.right===".")d=Rc(t,["mclose"]);else{var f=e.rightColor?t.withColor(e.rightColor):t;d=$i.leftRightDelim(e.right,r,i,f,e.mode,["mclose"])}return n.push(d),H.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{$4(e);var n=Kn(e.body,t);if(e.left!=="."){var r=new ne.MathNode("mo",[Ar(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var i=new ne.MathNode("mo",[Ar(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return Iy(n)}});pe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Z0(t[0],e);if(!e.parser.leftrightDepth)throw new ie("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Rc(t,[]);else{n=$i.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?Ar("|","text"):Ar(e.delim,e.mode),r=new ne.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Ly=(e,t)=>{var n=H.wrapFragment(ot(e.body,t),t),r=e.label.slice(1),i=t.sizeMultiplier,a,s=0,o=De.isCharacterBox(e.body);if(r==="sout")a=H.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/i,s=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var l=Xt({number:.6,unit:"pt"},t),c=Xt({number:.35,unit:"ex"},t),u=t.havingBaseSizing();i=i/u.sizeMultiplier;var d=n.height+n.depth+l+c;n.style.paddingLeft=fe(d/2+l);var f=Math.floor(1e3*d*i),h=RH(f),g=new Xi([new Fa("phase",h)],{width:"400em",height:fe(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});a=H.makeSvgSpan(["hide-tail"],[g],t),a.style.height=fe(d),s=n.depth+l+c}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var p=0,v=0,b=0;/box/.test(r)?(b=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),p=t.fontMetrics().fboxsep+(r==="colorbox"?0:b),v=p):r==="angl"?(b=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),p=4*b,v=Math.max(0,.25-n.depth)):(p=o?.2:0,v=p),a=Yi.encloseSpan(n,r,p,v,t),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle="solid",a.style.borderWidth=fe(b)):r==="angl"&&b!==.049&&(a.style.borderTopWidth=fe(b),a.style.borderRightWidth=fe(b)),s=n.depth+v,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var w;if(e.backgroundColor)w=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:n,shift:0}]},t);else{var k=/cancel|phase/.test(r)?["svg-align"]:[];w=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:k}]},t)}return/cancel/.test(r)&&(w.height=n.height,w.depth=n.depth),/cancel/.test(r)&&!o?H.makeSpan(["mord","cancel-lap"],[w],t):H.makeSpan(["mord"],[w],t)},Py=(e,t)=>{var n=0,r=new ne.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[_t(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};pe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=Ge(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:Ly,mathmlBuilder:Py});pe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,a=Ge(t[0],"color-token").color,s=Ge(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:Ly,mathmlBuilder:Py});pe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});pe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Ly,mathmlBuilder:Py});pe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var O8={};function bi(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)O8[n[l]]=o;a&&(Rh[t]=a),s&&(Ih[t]=s)}var D8={};function E(e,t){D8[e]=t}function U4(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var J0=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ie("{"+e.envName+"} can be used only in display mode.")};function zy(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Wa(e,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:d,leqno:f}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var h=e.gullet.expandMacroAsText("\\arraystretch");if(h==null)s=1;else if(s=parseFloat(h),!s||s<0)throw new ie("Invalid \\arraystretch: "+h)}e.gullet.beginGroup();var g=[],p=[g],v=[],b=[],w=l!=null?[]:void 0;function k(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function T(){w&&(e.gullet.macros.get("\\df@tag")?(w.push(e.subparse([new Sr("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(k(),b.push(U4(e));;){var R=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),R={type:"ordgroup",mode:e.mode,body:R},n&&(R={type:"styling",mode:e.mode,style:n,body:[R]}),g.push(R);var x=e.fetch().text;if(x==="&"){if(d&&g.length===d){if(c||o)throw new ie("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(x==="\\end"){T(),g.length===1&&R.type==="styling"&&R.body[0].body.length===0&&(p.length>1||!u)&&p.pop(),b.length<p.length+1&&b.push([]);break}else if(x==="\\\\"){e.consume();var M=void 0;e.gullet.future().text!==" "&&(M=e.parseSizeGroup(!0)),v.push(M?M.value:null),T(),b.push(U4(e)),g=[],p.push(g),k()}else throw new ie("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:p,cols:a,rowGaps:v,hskipBeforeAndAfter:r,hLinesBeforeRow:b,colSeparationType:o,tags:w,leqno:f}}function Fy(e){return e.slice(0,1)==="d"?"display":"text"}var wi=function(t,n){var r,i,a=t.body.length,s=t.hLinesBeforeRow,o=0,l=new Array(a),c=[],u=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,f=5*d;if(t.colSeparationType&&t.colSeparationType==="small"){var h=n.havingStyle(Pe.SCRIPT).sizeMultiplier;f=.2778*(h/n.sizeMultiplier)}var g=t.colSeparationType==="CD"?Xt({number:3,unit:"ex"},n):12*d,p=3*d,v=t.arraystretch*g,b=.7*v,w=.3*v,k=0;function T(lt){for(var Ae=0;Ae<lt.length;++Ae)Ae>0&&(k+=.25),c.push({pos:k,isDashed:lt[Ae]})}for(T(s[0]),r=0;r<t.body.length;++r){var R=t.body[r],x=b,M=w;o<R.length&&(o=R.length);var I=new Array(R.length);for(i=0;i<R.length;++i){var B=ot(R[i],n);M<B.depth&&(M=B.depth),x<B.height&&(x=B.height),I[i]=B}var D=t.rowGaps[r],Y=0;D&&(Y=Xt(D,n),Y>0&&(Y+=w,M<Y&&(M=Y),Y=0)),t.addJot&&(M+=p),I.height=x,I.depth=M,k+=x,I.pos=k,k+=M+Y,l[r]=I,T(s[r+1])}var X=k/2+n.fontMetrics().axisHeight,ce=t.cols||[],se=[],de,ze,W=[];if(t.tags&&t.tags.some(lt=>lt))for(r=0;r<a;++r){var $=l[r],K=$.pos-X,C=t.tags[r],oe=void 0;C===!0?oe=H.makeSpan(["eqn-num"],[],n):C===!1?oe=H.makeSpan([],[],n):oe=H.makeSpan([],fn(C,n,!0),n),oe.depth=$.depth,oe.height=$.height,W.push({type:"elem",elem:oe,shift:K})}for(i=0,ze=0;i<o||ze<ce.length;++i,++ze){for(var G=ce[ze]||{},A=!0;G.type==="separator";){if(A||(de=H.makeSpan(["arraycolsep"],[]),de.style.width=fe(n.fontMetrics().doubleRuleSep),se.push(de)),G.separator==="|"||G.separator===":"){var ee=G.separator==="|"?"solid":"dashed",he=H.makeSpan(["vertical-separator"],[],n);he.style.height=fe(k),he.style.borderRightWidth=fe(u),he.style.borderRightStyle=ee,he.style.margin="0 "+fe(-u/2);var U=k-X;U&&(he.style.verticalAlign=fe(-U)),se.push(he)}else throw new ie("Invalid separator type: "+G.separator);ze++,G=ce[ze]||{},A=!1}if(!(i>=o)){var Te=void 0;(i>0||t.hskipBeforeAndAfter)&&(Te=De.deflt(G.pregap,f),Te!==0&&(de=H.makeSpan(["arraycolsep"],[]),de.style.width=fe(Te),se.push(de)));var te=[];for(r=0;r<a;++r){var xe=l[r],Fe=xe[i];if(Fe){var Ie=xe.pos-X;Fe.depth=xe.depth,Fe.height=xe.height,te.push({type:"elem",elem:Fe,shift:Ie})}}te=H.makeVList({positionType:"individualShift",children:te},n),te=H.makeSpan(["col-align-"+(G.align||"c")],[te]),se.push(te),(i<o-1||t.hskipBeforeAndAfter)&&(Te=De.deflt(G.postgap,f),Te!==0&&(de=H.makeSpan(["arraycolsep"],[]),de.style.width=fe(Te),se.push(de)))}}if(l=H.makeSpan(["mtable"],se),c.length>0){for(var Re=H.makeLineSpan("hline",n,u),Tt=H.makeLineSpan("hdashline",n,u),xt=[{type:"elem",elem:l,shift:0}];c.length>0;){var Be=c.pop(),nt=Be.pos-X;Be.isDashed?xt.push({type:"elem",elem:Tt,shift:nt}):xt.push({type:"elem",elem:Re,shift:nt})}l=H.makeVList({positionType:"individualShift",children:xt},n)}if(W.length===0)return H.makeSpan(["mord"],[l],n);var Xe=H.makeVList({positionType:"individualShift",children:W},n);return Xe=H.makeSpan(["tag"],[Xe],n),H.makeFragment([l,Xe])},zW={c:"center ",l:"left ",r:"right "},vi=function(t,n){for(var r=[],i=new ne.MathNode("mtd",[],["mtr-glue"]),a=new ne.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var o=t.body[s],l=[],c=0;c<o.length;c++)l.push(new ne.MathNode("mtd",[_t(o[c],n)]));t.tags&&t.tags[s]&&(l.unshift(i),l.push(i),t.leqno?l.unshift(a):l.push(a)),r.push(new ne.MathNode("mtr",l))}var u=new ne.MathNode("mtable",r),d=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);u.setAttribute("rowspacing",fe(d));var f="",h="";if(t.cols&&t.cols.length>0){var g=t.cols,p="",v=!1,b=0,w=g.length;g[0].type==="separator"&&(f+="top ",b=1),g[g.length-1].type==="separator"&&(f+="bottom ",w-=1);for(var k=b;k<w;k++)g[k].type==="align"?(h+=zW[g[k].align],v&&(p+="none "),v=!0):g[k].type==="separator"&&v&&(p+=g[k].separator==="|"?"solid ":"dashed ",v=!1);u.setAttribute("columnalign",h.trim()),/[sd]/.test(p)&&u.setAttribute("columnlines",p.trim())}if(t.colSeparationType==="align"){for(var T=t.cols||[],R="",x=1;x<T.length;x++)R+=x%2?"0em ":"1em ";u.setAttribute("columnspacing",R.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var M="",I=t.hLinesBeforeRow;f+=I[0].length>0?"left ":"",f+=I[I.length-1].length>0?"right ":"";for(var B=1;B<I.length-1;B++)M+=I[B].length===0?"none ":I[B][0]?"dashed ":"solid ";return/[sd]/.test(M)&&u.setAttribute("rowlines",M.trim()),f!==""&&(u=new ne.MathNode("menclose",[u]),u.setAttribute("notation",f.trim())),t.arraystretch&&t.arraystretch<1&&(u=new ne.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},L8=function(t,n){t.envName.indexOf("ed")===-1&&J0(t);var r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",a=t.envName==="split",s=Wa(t.parser,{cols:r,addJot:!0,autoTag:a?void 0:zy(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:t.parser.settings.leqno},"display"),o,l=0,c={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var u="",d=0;d<n[0].body.length;d++){var f=Ge(n[0].body[d],"textord");u+=f.text}o=Number(u),l=o*2}var h=!l;s.body.forEach(function(b){for(var w=1;w<b.length;w+=2){var k=Ge(b[w],"styling"),T=Ge(k.body[0],"ordgroup");T.body.unshift(c)}if(h)l<b.length&&(l=b.length);else{var R=b.length/2;if(o<R)throw new ie("Too many math in a row: "+("expected "+o+", but got "+R),b[0])}});for(var g=0;g<l;++g){var p="r",v=0;g%2===1?p="l":g>0&&h&&(v=1),r[g]={type:"align",align:p,pregap:v,postgap:0}}return s.colSeparationType=h?"align":"alignat",s};bi({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=K0(t[0]),r=n?[t[0]]:Ge(t[0],"ordgroup").body,i=r.map(function(s){var o=My(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new ie("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Wa(e.parser,a,Fy(e.envName))},htmlBuilder:wi,mathmlBuilder:vi});bi({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new ie("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var a=Wa(e.parser,r,Fy(e.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:wi,mathmlBuilder:vi});bi({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=Wa(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:wi,mathmlBuilder:vi});bi({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=K0(t[0]),r=n?[t[0]]:Ge(t[0],"ordgroup").body,i=r.map(function(s){var o=My(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new ie("Unknown column alignment: "+l,s)});if(i.length>1)throw new ie("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Wa(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new ie("{subarray} can contain only one column");return a},htmlBuilder:wi,mathmlBuilder:vi});bi({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Wa(e.parser,t,Fy(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:wi,mathmlBuilder:vi});bi({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:L8,htmlBuilder:wi,mathmlBuilder:vi});bi({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){De.contains(["gather","gather*"],e.envName)&&J0(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:zy(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Wa(e.parser,t,"display")},htmlBuilder:wi,mathmlBuilder:vi});bi({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:L8,htmlBuilder:wi,mathmlBuilder:vi});bi({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){J0(e);var t={autoTag:zy(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Wa(e.parser,t,"display")},htmlBuilder:wi,mathmlBuilder:vi});bi({type:"array",names:["CD"],props:{numArgs:0},handler(e){return J0(e),SW(e.parser)},htmlBuilder:wi,mathmlBuilder:vi});E("\\nonumber","\\gdef\\@eqnsw{0}");E("\\notag","\\nonumber");pe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ie(e.funcName+" valid only within array environment")}});var j4=O8;pe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if(i.type!=="ordgroup")throw new ie("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Ge(i.body[s],"textord").text;if(r==="\\begin"){if(!j4.hasOwnProperty(a))throw new ie("No such environment: "+a,i);var o=j4[a],{args:l,optArgs:c}=n.parseArguments("\\begin{"+a+"}",o),u={mode:n.mode,envName:a,parser:n},d=o.handler(u,l,c);n.expect("\\end",!1);var f=n.nextToken,h=Ge(n.parseFunction(),"environment");if(h.name!==a)throw new ie("Mismatch: \\begin{"+a+"} matched by \\end{"+h.name+"}",f);return d}return{type:"environment",mode:n.mode,name:a,nameGroup:i}}});var P8=(e,t)=>{var n=e.font,r=t.withFont(n);return ot(e.body,r)},z8=(e,t)=>{var n=e.font,r=t.withFont(n);return _t(e.body,r)},q4={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};pe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=Nh(t[0]),a=r;return a in q4&&(a=q4[a]),{type:"font",mode:n.mode,font:a.slice(1),body:i}},htmlBuilder:P8,mathmlBuilder:z8});pe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=De.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Q0(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});pe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:a}=n,s=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:P8,mathmlBuilder:z8});var F8=(e,t)=>{var n=t;return e==="display"?n=n.id>=Pe.SCRIPT.id?n.text():Pe.DISPLAY:e==="text"&&n.size===Pe.DISPLAY.size?n=Pe.TEXT:e==="script"?n=Pe.SCRIPT:e==="scriptscript"&&(n=Pe.SCRIPTSCRIPT),n},By=(e,t)=>{var n=F8(e.size,t.style),r=n.fracNum(),i=n.fracDen(),a;a=t.havingStyle(r);var s=ot(e.numer,a,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=t.havingStyle(i);var c=ot(e.denom,a,t),u,d,f;e.hasBarLine?(e.barSize?(d=Xt(e.barSize,t),u=H.makeLineSpan("frac-line",t,d)):u=H.makeLineSpan("frac-line",t),d=u.height,f=u.height):(u=null,d=0,f=t.fontMetrics().defaultRuleThickness);var h,g,p;n.size===Pe.DISPLAY.size||e.size==="display"?(h=t.fontMetrics().num1,d>0?g=3*f:g=7*f,p=t.fontMetrics().denom1):(d>0?(h=t.fontMetrics().num2,g=f):(h=t.fontMetrics().num3,g=3*f),p=t.fontMetrics().denom2);var v;if(u){var w=t.fontMetrics().axisHeight;h-s.depth-(w+.5*d)<g&&(h+=g-(h-s.depth-(w+.5*d))),w-.5*d-(c.height-p)<g&&(p+=g-(w-.5*d-(c.height-p)));var k=-(w-.5*d);v=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:p},{type:"elem",elem:u,shift:k},{type:"elem",elem:s,shift:-h}]},t)}else{var b=h-s.depth-(c.height-p);b<g&&(h+=.5*(g-b),p+=.5*(g-b)),v=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:p},{type:"elem",elem:s,shift:-h}]},t)}a=t.havingStyle(n),v.height*=a.sizeMultiplier/t.sizeMultiplier,v.depth*=a.sizeMultiplier/t.sizeMultiplier;var T;n.size===Pe.DISPLAY.size?T=t.fontMetrics().delim1:n.size===Pe.SCRIPTSCRIPT.size?T=t.havingStyle(Pe.SCRIPT).fontMetrics().delim2:T=t.fontMetrics().delim2;var R,x;return e.leftDelim==null?R=Rc(t,["mopen"]):R=$i.customSizedDelim(e.leftDelim,T,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?x=H.makeSpan([]):e.rightDelim==null?x=Rc(t,["mclose"]):x=$i.customSizedDelim(e.rightDelim,T,!0,t.havingStyle(n),e.mode,["mclose"]),H.makeSpan(["mord"].concat(a.sizingClasses(t)),[R,H.makeSpan(["mfrac"],[v]),x],t)},$y=(e,t)=>{var n=new ne.MathNode("mfrac",[_t(e.numer,t),_t(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=Xt(e.barSize,t);n.setAttribute("linethickness",fe(r))}var i=F8(e.size,t.style);if(i.size!==t.style.size){n=new ne.MathNode("mstyle",[n]);var a=i.size===Pe.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var o=new ne.MathNode("mo",[new ne.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(n),e.rightDelim!=null){var l=new ne.MathNode("mo",[new ne.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return Iy(s)}return n};pe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1],s,o=null,l=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:c,barSize:null}},htmlBuilder:By,mathmlBuilder:$y});pe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});pe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:r}}});var H4=["display","text","script","scriptscript"],W4=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};pe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],i=t[5],a=Nh(t[0]),s=a.type==="atom"&&a.family==="open"?W4(a.text):null,o=Nh(t[1]),l=o.type==="atom"&&o.family==="close"?W4(o.text):null,c=Ge(t[2],"size"),u,d=null;c.isBlank?u=!0:(d=c.value,u=d.number>0);var f="auto",h=t[3];if(h.type==="ordgroup"){if(h.body.length>0){var g=Ge(h.body[0],"textord");f=H4[Number(g.text)]}}else h=Ge(h,"textord"),f=H4[Number(h.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:u,barSize:d,leftDelim:s,rightDelim:l,size:f}},htmlBuilder:By,mathmlBuilder:$y});pe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ge(t[0],"size").value,token:i}}});pe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],a=mH(Ge(t[1],"infix").size),s=t[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:By,mathmlBuilder:$y});var B8=(e,t)=>{var n=t.style,r,i;e.type==="supsub"?(r=e.sup?ot(e.sup,t.havingStyle(n.sup()),t):ot(e.sub,t.havingStyle(n.sub()),t),i=Ge(e.base,"horizBrace")):i=Ge(e,"horizBrace");var a=ot(i.base,t.havingBaseStyle(Pe.DISPLAY)),s=Yi.svgSpan(i,t),o;if(i.isOver?(o=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=H.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=H.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t);i.isOver?o=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):o=H.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return H.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t)},FW=(e,t)=>{var n=Yi.mathMLnode(e.label);return new ne.MathNode(e.isOver?"mover":"munder",[_t(e.base,t),n])};pe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:B8,mathmlBuilder:FW});pe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=Ge(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:an(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=fn(e.body,t,!1);return H.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=Ba(e.body,t);return n instanceof br||(n=new br("mrow",[n])),n.setAttribute("href",e.href),n}});pe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=Ge(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:an(o)}}});pe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:an(t[0])}},htmlBuilder(e,t){var n=fn(e.body,t,!1);return H.makeFragment(n)},mathmlBuilder(e,t){return new ne.MathNode("mrow",Kn(e.body,t))}});pe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:i}=e,a=Ge(t[0],"raw").string,s=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var c=a.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length!==2)throw new ie("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:an(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=fn(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=H.makeSpan(r,n,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},mathmlBuilder:(e,t)=>Ba(e.body,t)});pe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:an(t[0]),mathml:an(t[1])}},htmlBuilder:(e,t)=>{var n=fn(e.html,t,!1);return H.makeFragment(n)},mathmlBuilder:(e,t)=>Ba(e.mathml,t)});var Em=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new ie("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!i8(r))throw new ie("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};pe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(n[0])for(var l=Ge(n[0],"raw").string,c=l.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length===2){var f=d[1].trim();switch(d[0].trim()){case"alt":o=f;break;case"width":i=Em(f);break;case"height":a=Em(f);break;case"totalheight":s=Em(f);break;default:throw new ie("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var h=Ge(t[0],"url").url;return o===""&&(o=h,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:h})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:a,totalheight:s,src:h}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=Xt(e.height,t),r=0;e.totalheight.number>0&&(r=Xt(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=Xt(e.width,t));var a={height:fe(n+r)};i>0&&(a.width=fe(i)),r>0&&(a.verticalAlign=fe(-r));var s=new FH(e.src,e.alt,a);return s.height=n,s.depth=r,s},mathmlBuilder:(e,t)=>{var n=new ne.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=Xt(e.height,t),i=0;if(e.totalheight.number>0&&(i=Xt(e.totalheight,t)-r,n.setAttribute("valign",fe(-i))),n.setAttribute("height",fe(r+i)),e.width.number>0){var a=Xt(e.width,t);n.setAttribute("width",fe(a))}return n.setAttribute("src",e.src),n}});pe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=Ge(t[0],"size");if(n.settings.strict){var a=r[1]==="m",s=i.value.unit==="mu";a?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return H.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=Xt(e.dimension,t);return new ne.SpaceNode(n)}});pe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=H.makeSpan([],[ot(e.body,t)]),n=H.makeSpan(["inner"],[n],t)):n=H.makeSpan(["inner"],[ot(e.body,t)]);var r=H.makeSpan(["fix"],[]),i=H.makeSpan([e.alignment],[n,r],t),a=H.makeSpan(["strut"]);return a.style.height=fe(i.height+i.depth),i.depth&&(a.style.verticalAlign=fe(-i.depth)),i.children.unshift(a),i=H.makeSpan(["thinbox"],[i],t),H.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new ne.MathNode("mpadded",[_t(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});pe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var a=n==="\\("?"\\)":"$",s=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});pe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ie("Mismatched "+e.funcName)}});var X4=(e,t)=>{switch(t.style.size){case Pe.DISPLAY.size:return e.display;case Pe.TEXT.size:return e.text;case Pe.SCRIPT.size:return e.script;case Pe.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};pe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:an(t[0]),text:an(t[1]),script:an(t[2]),scriptscript:an(t[3])}},htmlBuilder:(e,t)=>{var n=X4(e,t),r=fn(n,t,!1);return H.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=X4(e,t);return Ba(n,t)}});var $8=(e,t,n,r,i,a,s)=>{e=H.makeSpan([],[e]);var o=n&&De.isCharacterBox(n),l,c;if(t){var u=ot(t,r.havingStyle(i.sup()),r);c={elem:u,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var d=ot(n,r.havingStyle(i.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var f;if(c&&l){var h=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+s;f=H.makeVList({positionType:"bottom",positionData:h,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:fe(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:fe(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var g=e.height-s;f=H.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:fe(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},r)}else if(c){var p=e.depth+s;f=H.makeVList({positionType:"bottom",positionData:p,children:[{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:fe(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var v=[f];if(l&&a!==0&&!o){var b=H.makeSpan(["mspace"],[],r);b.style.marginRight=fe(a),v.unshift(b)}return H.makeSpan(["mop","op-limits"],v,r)},U8=["\\smallint"],ll=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=Ge(e.base,"op"),i=!0):a=Ge(e,"op");var s=t.style,o=!1;s.size===Pe.DISPLAY.size&&a.symbol&&!De.contains(U8,a.name)&&(o=!0);var l;if(a.symbol){var c=o?"Size2-Regular":"Size1-Regular",u="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(u=a.name.slice(1),a.name=u==="oiint"?"\\iint":"\\iiint"),l=H.makeSymbol(a.name,c,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),u.length>0){var d=l.italic,f=H.staticSvg(u+"Size"+(o?"2":"1"),t);l=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:f,shift:o?.08:0}]},t),a.name="\\"+u,l.classes.unshift("mop"),l.italic=d}}else if(a.body){var h=fn(a.body,t,!0);h.length===1&&h[0]instanceof Cr?(l=h[0],l.classes[0]="mop"):l=H.makeSpan(["mop"],h,t)}else{for(var g=[],p=1;p<a.name.length;p++)g.push(H.mathsym(a.name[p],a.mode,t));l=H.makeSpan(["mop"],g,t)}var v=0,b=0;return(l instanceof Cr||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(v=(l.height-l.depth)/2-t.fontMetrics().axisHeight,b=l.italic),i?$8(l,n,r,t,s,b,v):(v&&(l.style.position="relative",l.style.top=fe(v)),l)},ru=(e,t)=>{var n;if(e.symbol)n=new br("mo",[Ar(e.name,e.mode)]),De.contains(U8,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new br("mo",Kn(e.body,t));else{n=new br("mi",[new Gl(e.name.slice(1))]);var r=new br("mo",[Ar("","text")]);e.parentIsSupSub?n=new br("mrow",[n,r]):n=p8([n,r])}return n},BW={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};pe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=BW[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:ll,mathmlBuilder:ru});pe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:an(r)}},htmlBuilder:ll,mathmlBuilder:ru});var $W={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};pe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ll,mathmlBuilder:ru});pe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ll,mathmlBuilder:ru});pe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=$W[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:ll,mathmlBuilder:ru});var j8=(e,t)=>{var n,r,i=!1,a;e.type==="supsub"?(n=e.sup,r=e.sub,a=Ge(e.base,"operatorname"),i=!0):a=Ge(e,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(d=>{var f=d.text;return typeof f=="string"?{type:"textord",mode:d.mode,text:f}:d}),l=fn(o,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof Cr&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=H.makeSpan(["mop"],l,t)}else s=H.makeSpan(["mop"],[],t);return i?$8(s,n,r,t,t.style,0,0):s},UW=(e,t)=>{for(var n=Kn(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var a=n[i];if(!(a instanceof ne.SpaceNode))if(a instanceof ne.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof ne.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(u=>u.toText()).join("");n=[new ne.TextNode(o)]}var l=new ne.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new ne.MathNode("mo",[Ar("","text")]);return e.parentIsSupSub?new ne.MathNode("mrow",[l,c]):ne.newDocumentFragment([l,c])};pe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:an(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:j8,mathmlBuilder:UW});E("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");zs({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?H.makeFragment(fn(e.body,t,!1)):H.makeSpan(["mord"],fn(e.body,t,!0),t)},mathmlBuilder(e,t){return Ba(e.body,t,!0)}});pe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=ot(e.body,t.havingCrampedStyle()),r=H.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,a=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return H.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var n=new ne.MathNode("mo",[new ne.TextNode("")]);n.setAttribute("stretchy","true");var r=new ne.MathNode("mover",[_t(e.body,t),n]);return r.setAttribute("accent","true"),r}});pe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:an(r)}},htmlBuilder:(e,t)=>{var n=fn(e.body,t.withPhantom(),!1);return H.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=Kn(e.body,t);return new ne.MathNode("mphantom",n)}});pe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=H.makeSpan([],[ot(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),H.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=Kn(an(e.body),t),r=new ne.MathNode("mphantom",n),i=new ne.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});pe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=H.makeSpan(["inner"],[ot(e.body,t.withPhantom())]),r=H.makeSpan(["fix"],[]);return H.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=Kn(an(e.body),t),r=new ne.MathNode("mphantom",n),i=new ne.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});pe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=Ge(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=ot(e.body,t),r=Xt(e.dy,t);return H.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new ne.MathNode("mpadded",[_t(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});pe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});pe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],a=Ge(t[0],"size"),s=Ge(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ge(i,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var n=H.makeSpan(["mord","rule"],[],t),r=Xt(e.width,t),i=Xt(e.height,t),a=e.shift?Xt(e.shift,t):0;return n.style.borderRightWidth=fe(r),n.style.borderTopWidth=fe(i),n.style.bottom=fe(a),n.width=r,n.height=i+a,n.depth=-a,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=Xt(e.width,t),r=Xt(e.height,t),i=e.shift?Xt(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new ne.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",fe(n)),s.setAttribute("height",fe(r));var o=new ne.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",fe(i)):(o.setAttribute("height",fe(i)),o.setAttribute("depth",fe(-i))),o.setAttribute("voffset",fe(i)),o}});function q8(e,t,n){for(var r=fn(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,a=0;a<r.length;a++){var s=r[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[a].classes,t.sizingClasses(n)):r[a].classes[s+1]==="reset-size"+t.size&&(r[a].classes[s+1]="reset-size"+n.size),r[a].height*=i,r[a].depth*=i}return H.makeFragment(r)}var V4=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],jW=(e,t)=>{var n=t.havingSize(e.size);return q8(e.body,n,t)};pe({type:"sizing",names:V4,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:V4.indexOf(r)+1,body:a}},htmlBuilder:jW,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=Kn(e.body,n),i=new ne.MathNode("mstyle",r);return i.setAttribute("mathsize",fe(n.sizeMultiplier)),i}});pe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,a=!1,s=n[0]&&Ge(n[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var c=s.body[l];if(o=c.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var u=t[0];return{type:"smash",mode:r.mode,body:u,smashHeight:i,smashDepth:a}},htmlBuilder:(e,t)=>{var n=H.makeSpan([],[ot(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var a=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return H.makeSpan(["mord"],[a],t)},mathmlBuilder:(e,t)=>{var n=new ne.MathNode("mpadded",[_t(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});pe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],a=t[0];return{type:"sqrt",mode:r.mode,body:a,index:i}},htmlBuilder(e,t){var n=ot(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=H.wrapFragment(n,t);var r=t.fontMetrics(),i=r.defaultRuleThickness,a=i;t.style.id<Pe.TEXT.id&&(a=t.fontMetrics().xHeight);var s=i+a/4,o=n.height+n.depth+s+i,{span:l,ruleWidth:c,advanceWidth:u}=$i.sqrtImage(o,t),d=l.height-c;d>n.height+n.depth+s&&(s=(s+d-n.height-n.depth)/2);var f=l.height-n.height-s-c;n.style.paddingLeft=fe(u);var h=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+f)},{type:"elem",elem:l},{type:"kern",size:c}]},t);if(e.index){var g=t.havingStyle(Pe.SCRIPTSCRIPT),p=ot(e.index,g,t),v=.6*(h.height-h.depth),b=H.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:p}]},t),w=H.makeSpan(["root"],[b]);return H.makeSpan(["mord","sqrt"],[w,h],t)}else return H.makeSpan(["mord","sqrt"],[h],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new ne.MathNode("mroot",[_t(n,t),_t(r,t)]):new ne.MathNode("msqrt",[_t(n,t)])}});var Y4={display:Pe.DISPLAY,text:Pe.TEXT,script:Pe.SCRIPT,scriptscript:Pe.SCRIPTSCRIPT};pe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(e,t){var n=Y4[e.style],r=t.havingStyle(n).withFont("");return q8(e.body,r,t)},mathmlBuilder(e,t){var n=Y4[e.style],r=t.havingStyle(n),i=Kn(e.body,r),a=new ne.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var qW=function(t,n){var r=t.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Pe.DISPLAY.size||r.alwaysHandleSupSub);return i?ll:null}else if(r.type==="operatorname"){var a=r.alwaysHandleSupSub&&(n.style.size===Pe.DISPLAY.size||r.limits);return a?j8:null}else{if(r.type==="accent")return De.isCharacterBox(r.base)?Oy:null;if(r.type==="horizBrace"){var s=!t.sub;return s===r.isOver?B8:null}else return null}else return null};zs({type:"supsub",htmlBuilder(e,t){var n=qW(e,t);if(n)return n(e,t);var{base:r,sup:i,sub:a}=e,s=ot(r,t),o,l,c=t.fontMetrics(),u=0,d=0,f=r&&De.isCharacterBox(r);if(i){var h=t.havingStyle(t.style.sup());o=ot(i,h,t),f||(u=s.height-h.fontMetrics().supDrop*h.sizeMultiplier/t.sizeMultiplier)}if(a){var g=t.havingStyle(t.style.sub());l=ot(a,g,t),f||(d=s.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}var p;t.style===Pe.DISPLAY?p=c.sup1:t.style.cramped?p=c.sup3:p=c.sup2;var v=t.sizeMultiplier,b=fe(.5/c.ptPerEm/v),w=null;if(l){var k=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof Cr||k)&&(w=fe(-s.italic))}var T;if(o&&l){u=Math.max(u,p,o.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var R=c.defaultRuleThickness,x=4*R;if(u-o.depth-(l.height-d)<x){d=x-(u-o.depth)+l.height;var M=.8*c.xHeight-(u-o.depth);M>0&&(u+=M,d-=M)}var I=[{type:"elem",elem:l,shift:d,marginRight:b,marginLeft:w},{type:"elem",elem:o,shift:-u,marginRight:b}];T=H.makeVList({positionType:"individualShift",children:I},t)}else if(l){d=Math.max(d,c.sub1,l.height-.8*c.xHeight);var B=[{type:"elem",elem:l,marginLeft:w,marginRight:b}];T=H.makeVList({positionType:"shift",positionData:d,children:B},t)}else if(o)u=Math.max(u,p,o.depth+.25*c.xHeight),T=H.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:o,marginRight:b}]},t);else throw new Error("supsub must have either sup or sub.");var D=og(s,"right")||"mord";return H.makeSpan([D],[s,H.makeSpan(["msupsub"],[T])],t)},mathmlBuilder(e,t){var n=!1,r,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[_t(e.base,t)];e.sub&&a.push(_t(e.sub,t)),e.sup&&a.push(_t(e.sup,t));var s;if(n)s=r?"mover":"munder";else if(e.sub)if(e.sup){var c=e.base;c&&c.type==="op"&&c.limits&&t.style===Pe.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(t.style===Pe.DISPLAY||c.limits)?s="munderover":s="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===Pe.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===Pe.DISPLAY)?s="munder":s="msub"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===Pe.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===Pe.DISPLAY)?s="mover":s="msup"}return new ne.MathNode(s,a)}});zs({type:"atom",htmlBuilder(e,t){return H.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new ne.MathNode("mo",[Ar(e.text,e.mode)]);if(e.family==="bin"){var r=Ny(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var H8={mi:"italic",mn:"normal",mtext:"normal"};zs({type:"mathord",htmlBuilder(e,t){return H.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new ne.MathNode("mi",[Ar(e.text,e.mode,t)]),r=Ny(e,t)||"italic";return r!==H8[n.type]&&n.setAttribute("mathvariant",r),n}});zs({type:"textord",htmlBuilder(e,t){return H.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=Ar(e.text,e.mode,t),r=Ny(e,t)||"normal",i;return e.mode==="text"?i=new ne.MathNode("mtext",[n]):/[0-9]/.test(e.text)?i=new ne.MathNode("mn",[n]):e.text==="\\prime"?i=new ne.MathNode("mo",[n]):i=new ne.MathNode("mi",[n]),r!==H8[i.type]&&i.setAttribute("mathvariant",r),i}});var Tm={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Cm={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};zs({type:"spacing",htmlBuilder(e,t){if(Cm.hasOwnProperty(e.text)){var n=Cm[e.text].className||"";if(e.mode==="text"){var r=H.makeOrd(e,t,"textord");return r.classes.push(n),r}else return H.makeSpan(["mspace",n],[H.mathsym(e.text,e.mode,t)],t)}else{if(Tm.hasOwnProperty(e.text))return H.makeSpan(["mspace",Tm[e.text]],[],t);throw new ie('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(Cm.hasOwnProperty(e.text))n=new ne.MathNode("mtext",[new ne.TextNode("")]);else{if(Tm.hasOwnProperty(e.text))return new ne.MathNode("mspace");throw new ie('Unknown type of space "'+e.text+'"')}return n}});var G4=()=>{var e=new ne.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};zs({type:"tag",mathmlBuilder(e,t){var n=new ne.MathNode("mtable",[new ne.MathNode("mtr",[G4(),new ne.MathNode("mtd",[Ba(e.body,t)]),G4(),new ne.MathNode("mtd",[Ba(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var K4={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Q4={"\\textbf":"textbf","\\textmd":"textmd"},HW={"\\textit":"textit","\\textup":"textup"},Z4=(e,t)=>{var n=e.font;if(n){if(K4[n])return t.withTextFontFamily(K4[n]);if(Q4[n])return t.withTextFontWeight(Q4[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(HW[n])};pe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:an(i),font:r}},htmlBuilder(e,t){var n=Z4(e,t),r=fn(e.body,n,!0);return H.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=Z4(e,t);return Ba(e.body,n)}});pe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=ot(e.body,t),r=H.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,a=H.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return H.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var n=new ne.MathNode("mo",[new ne.TextNode("")]);n.setAttribute("stretchy","true");var r=new ne.MathNode("munder",[_t(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});pe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=ot(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return H.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new ne.MathNode("mpadded",[_t(e.body,t)],["vcenter"])}});pe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new ie("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=J4(e),r=[],i=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),r.push(H.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return H.makeSpan(["mord","text"].concat(i.sizingClasses(t)),H.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new ne.TextNode(J4(e)),r=new ne.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var J4=e=>e.body.replace(/ /g,e.star?"":""),xa=f8,W8=`[ \r
	]`,WW="\\\\[a-zA-Z@]+",XW="\\\\[^\uD800-\uDFFF]",VW="("+WW+")"+W8+"*",YW=`\\\\(
|[ \r	]+
?)[ \r	]*`,dg="[-]",GW=new RegExp(dg+"+$"),KW="("+W8+"+)|"+(YW+"|")+"([!-\\[\\]---]"+(dg+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(dg+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+VW)+("|"+XW+")");class e2{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(KW,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new Sr("EOF",new nr(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new ie("Unexpected character: '"+t[n]+"'",new Sr(t[n],new nr(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=t.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Sr(i,new nr(this,n,this.tokenRegex.lastIndex))}}class QW{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ie("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(t)&&(a[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var ZW=D8;E("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});E("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});E("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});E("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});E("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});E("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");E("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var t2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};E("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ie("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=t2[t.text],r==null||r>=n)throw new ie("Invalid base-"+n+" digit "+t.text);for(var i;(i=t2[e.future().text])!=null&&i<n;)r*=n,r+=i,e.popToken()}return"\\@char{"+r+"}"});var Uy=(e,t,n)=>{var r=e.consumeArg().tokens;if(r.length!==1)throw new ie("\\newcommand's first argument must be a macro name");var i=r[0].text,a=e.isDefined(i);if(a&&!t)throw new ie("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!n)throw new ie("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(r=e.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var o="",l=e.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=e.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new ie("Invalid number of arguments: "+o);s=parseInt(o),r=e.consumeArg().tokens}return e.macros.set(i,{tokens:r,numArgs:s}),""};E("\\newcommand",e=>Uy(e,!1,!0));E("\\renewcommand",e=>Uy(e,!0,!1));E("\\providecommand",e=>Uy(e,!0,!0));E("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});E("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});E("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),xa[n],Mt.math[n],Mt.text[n]),""});E("\\bgroup","{");E("\\egroup","}");E("~","\\nobreakspace");E("\\lq","`");E("\\rq","'");E("\\aa","\\r a");E("\\AA","\\r A");E("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");E("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");E("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");E("","\\mathscr{B}");E("","\\mathscr{E}");E("","\\mathscr{F}");E("","\\mathscr{H}");E("","\\mathscr{I}");E("","\\mathscr{L}");E("","\\mathscr{M}");E("","\\mathscr{R}");E("","\\mathfrak{C}");E("","\\mathfrak{H}");E("","\\mathfrak{Z}");E("\\Bbbk","\\Bbb{k}");E("","\\cdotp");E("\\llap","\\mathllap{\\textrm{#1}}");E("\\rlap","\\mathrlap{\\textrm{#1}}");E("\\clap","\\mathclap{\\textrm{#1}}");E("\\mathstrut","\\vphantom{(}");E("\\underbar","\\underline{\\text{#1}}");E("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');E("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");E("\\ne","\\neq");E("","\\neq");E("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");E("","\\notin");E("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");E("","\\perp");E("","\\mathclose{!\\mkern-0.8mu!}");E("","\\notni");E("","\\ulcorner");E("","\\urcorner");E("","\\llcorner");E("","\\lrcorner");E("","\\copyright");E("","\\textregistered");E("","\\textregistered");E("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');E("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');E("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');E("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');E("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");E("","\\vdots");E("\\varGamma","\\mathit{\\Gamma}");E("\\varDelta","\\mathit{\\Delta}");E("\\varTheta","\\mathit{\\Theta}");E("\\varLambda","\\mathit{\\Lambda}");E("\\varXi","\\mathit{\\Xi}");E("\\varPi","\\mathit{\\Pi}");E("\\varSigma","\\mathit{\\Sigma}");E("\\varUpsilon","\\mathit{\\Upsilon}");E("\\varPhi","\\mathit{\\Phi}");E("\\varPsi","\\mathit{\\Psi}");E("\\varOmega","\\mathit{\\Omega}");E("\\substack","\\begin{subarray}{c}#1\\end{subarray}");E("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");E("\\boxed","\\fbox{$\\displaystyle{#1}$}");E("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");E("\\implies","\\DOTSB\\;\\Longrightarrow\\;");E("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var n2={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};E("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in n2?t=n2[n]:(n.slice(0,4)==="\\not"||n in Mt.math&&De.contains(["bin","rel"],Mt.math[n].group))&&(t="\\dotsb"),t});var jy={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};E("\\dotso",function(e){var t=e.future().text;return t in jy?"\\ldots\\,":"\\ldots"});E("\\dotsc",function(e){var t=e.future().text;return t in jy&&t!==","?"\\ldots\\,":"\\ldots"});E("\\cdots",function(e){var t=e.future().text;return t in jy?"\\@cdots\\,":"\\@cdots"});E("\\dotsb","\\cdots");E("\\dotsm","\\cdots");E("\\dotsi","\\!\\cdots");E("\\dotsx","\\ldots\\,");E("\\DOTSI","\\relax");E("\\DOTSB","\\relax");E("\\DOTSX","\\relax");E("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");E("\\,","\\tmspace+{3mu}{.1667em}");E("\\thinspace","\\,");E("\\>","\\mskip{4mu}");E("\\:","\\tmspace+{4mu}{.2222em}");E("\\medspace","\\:");E("\\;","\\tmspace+{5mu}{.2777em}");E("\\thickspace","\\;");E("\\!","\\tmspace-{3mu}{.1667em}");E("\\negthinspace","\\!");E("\\negmedspace","\\tmspace-{4mu}{.2222em}");E("\\negthickspace","\\tmspace-{5mu}{.277em}");E("\\enspace","\\kern.5em ");E("\\enskip","\\hskip.5em\\relax");E("\\quad","\\hskip1em\\relax");E("\\qquad","\\hskip2em\\relax");E("\\tag","\\@ifstar\\tag@literal\\tag@paren");E("\\tag@paren","\\tag@literal{({#1})}");E("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ie("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});E("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");E("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");E("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");E("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");E("\\newline","\\\\\\relax");E("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var X8=fe(ai["Main-Regular"]["T".charCodeAt(0)][1]-.7*ai["Main-Regular"]["A".charCodeAt(0)][1]);E("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+X8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");E("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+X8+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");E("\\hspace","\\@ifstar\\@hspacer\\@hspace");E("\\@hspace","\\hskip #1\\relax");E("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");E("\\ordinarycolon",":");E("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");E("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');E("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');E("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');E("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');E("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');E("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');E("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');E("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');E("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');E("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');E("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');E("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');E("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');E("","\\dblcolon");E("","\\eqcolon");E("","\\coloneqq");E("","\\eqqcolon");E("","\\Coloneqq");E("\\ratio","\\vcentcolon");E("\\coloncolon","\\dblcolon");E("\\colonequals","\\coloneqq");E("\\coloncolonequals","\\Coloneqq");E("\\equalscolon","\\eqqcolon");E("\\equalscoloncolon","\\Eqqcolon");E("\\colonminus","\\coloneq");E("\\coloncolonminus","\\Coloneq");E("\\minuscolon","\\eqcolon");E("\\minuscoloncolon","\\Eqcolon");E("\\coloncolonapprox","\\Colonapprox");E("\\coloncolonsim","\\Colonsim");E("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");E("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");E("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");E("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");E("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");E("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");E("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");E("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");E("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");E("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");E("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");E("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");E("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");E("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");E("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");E("\\ngeqq","\\html@mathml{\\@ngeqq}{}");E("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");E("\\nleqq","\\html@mathml{\\@nleqq}{}");E("\\nleqslant","\\html@mathml{\\@nleqslant}{}");E("\\nshortmid","\\html@mathml{\\@nshortmid}{}");E("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");E("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");E("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");E("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");E("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");E("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");E("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");E("\\imath","\\html@mathml{\\@imath}{}");E("\\jmath","\\html@mathml{\\@jmath}{}");E("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");E("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");E("","\\llbracket");E("","\\rrbracket");E("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");E("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");E("","\\lBrace");E("","\\rBrace");E("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");E("","\\minuso");E("\\darr","\\downarrow");E("\\dArr","\\Downarrow");E("\\Darr","\\Downarrow");E("\\lang","\\langle");E("\\rang","\\rangle");E("\\uarr","\\uparrow");E("\\uArr","\\Uparrow");E("\\Uarr","\\Uparrow");E("\\N","\\mathbb{N}");E("\\R","\\mathbb{R}");E("\\Z","\\mathbb{Z}");E("\\alef","\\aleph");E("\\alefsym","\\aleph");E("\\Alpha","\\mathrm{A}");E("\\Beta","\\mathrm{B}");E("\\bull","\\bullet");E("\\Chi","\\mathrm{X}");E("\\clubs","\\clubsuit");E("\\cnums","\\mathbb{C}");E("\\Complex","\\mathbb{C}");E("\\Dagger","\\ddagger");E("\\diamonds","\\diamondsuit");E("\\empty","\\emptyset");E("\\Epsilon","\\mathrm{E}");E("\\Eta","\\mathrm{H}");E("\\exist","\\exists");E("\\harr","\\leftrightarrow");E("\\hArr","\\Leftrightarrow");E("\\Harr","\\Leftrightarrow");E("\\hearts","\\heartsuit");E("\\image","\\Im");E("\\infin","\\infty");E("\\Iota","\\mathrm{I}");E("\\isin","\\in");E("\\Kappa","\\mathrm{K}");E("\\larr","\\leftarrow");E("\\lArr","\\Leftarrow");E("\\Larr","\\Leftarrow");E("\\lrarr","\\leftrightarrow");E("\\lrArr","\\Leftrightarrow");E("\\Lrarr","\\Leftrightarrow");E("\\Mu","\\mathrm{M}");E("\\natnums","\\mathbb{N}");E("\\Nu","\\mathrm{N}");E("\\Omicron","\\mathrm{O}");E("\\plusmn","\\pm");E("\\rarr","\\rightarrow");E("\\rArr","\\Rightarrow");E("\\Rarr","\\Rightarrow");E("\\real","\\Re");E("\\reals","\\mathbb{R}");E("\\Reals","\\mathbb{R}");E("\\Rho","\\mathrm{P}");E("\\sdot","\\cdot");E("\\sect","\\S");E("\\spades","\\spadesuit");E("\\sub","\\subset");E("\\sube","\\subseteq");E("\\supe","\\supseteq");E("\\Tau","\\mathrm{T}");E("\\thetasym","\\vartheta");E("\\weierp","\\wp");E("\\Zeta","\\mathrm{Z}");E("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");E("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");E("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");E("\\bra","\\mathinner{\\langle{#1}|}");E("\\ket","\\mathinner{|{#1}\\rangle}");E("\\braket","\\mathinner{\\langle{#1}\\rangle}");E("\\Bra","\\left\\langle#1\\right|");E("\\Ket","\\left|#1\\right\\rangle");var V8=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var l=d=>f=>{e&&(f.macros.set("|",s),i.length&&f.macros.set("\\|",o));var h=d;if(!d&&i.length){var g=f.future();g.text==="|"&&(f.popToken(),h=!0)}return{tokens:h?i:r,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var c=t.consumeArg().tokens,u=t.expandTokens([...a,...c,...n]);return t.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};E("\\bra@ket",V8(!1));E("\\bra@set",V8(!0));E("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");E("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");E("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");E("\\angln","{\\angl n}");E("\\blue","\\textcolor{##6495ed}{#1}");E("\\orange","\\textcolor{##ffa500}{#1}");E("\\pink","\\textcolor{##ff00af}{#1}");E("\\red","\\textcolor{##df0030}{#1}");E("\\green","\\textcolor{##28ae7b}{#1}");E("\\gray","\\textcolor{gray}{#1}");E("\\purple","\\textcolor{##9d38bd}{#1}");E("\\blueA","\\textcolor{##ccfaff}{#1}");E("\\blueB","\\textcolor{##80f6ff}{#1}");E("\\blueC","\\textcolor{##63d9ea}{#1}");E("\\blueD","\\textcolor{##11accd}{#1}");E("\\blueE","\\textcolor{##0c7f99}{#1}");E("\\tealA","\\textcolor{##94fff5}{#1}");E("\\tealB","\\textcolor{##26edd5}{#1}");E("\\tealC","\\textcolor{##01d1c1}{#1}");E("\\tealD","\\textcolor{##01a995}{#1}");E("\\tealE","\\textcolor{##208170}{#1}");E("\\greenA","\\textcolor{##b6ffb0}{#1}");E("\\greenB","\\textcolor{##8af281}{#1}");E("\\greenC","\\textcolor{##74cf70}{#1}");E("\\greenD","\\textcolor{##1fab54}{#1}");E("\\greenE","\\textcolor{##0d923f}{#1}");E("\\goldA","\\textcolor{##ffd0a9}{#1}");E("\\goldB","\\textcolor{##ffbb71}{#1}");E("\\goldC","\\textcolor{##ff9c39}{#1}");E("\\goldD","\\textcolor{##e07d10}{#1}");E("\\goldE","\\textcolor{##a75a05}{#1}");E("\\redA","\\textcolor{##fca9a9}{#1}");E("\\redB","\\textcolor{##ff8482}{#1}");E("\\redC","\\textcolor{##f9685d}{#1}");E("\\redD","\\textcolor{##e84d39}{#1}");E("\\redE","\\textcolor{##bc2612}{#1}");E("\\maroonA","\\textcolor{##ffbde0}{#1}");E("\\maroonB","\\textcolor{##ff92c6}{#1}");E("\\maroonC","\\textcolor{##ed5fa6}{#1}");E("\\maroonD","\\textcolor{##ca337c}{#1}");E("\\maroonE","\\textcolor{##9e034e}{#1}");E("\\purpleA","\\textcolor{##ddd7ff}{#1}");E("\\purpleB","\\textcolor{##c6b9fc}{#1}");E("\\purpleC","\\textcolor{##aa87ff}{#1}");E("\\purpleD","\\textcolor{##7854ab}{#1}");E("\\purpleE","\\textcolor{##543b78}{#1}");E("\\mintA","\\textcolor{##f5f9e8}{#1}");E("\\mintB","\\textcolor{##edf2df}{#1}");E("\\mintC","\\textcolor{##e0e5cc}{#1}");E("\\grayA","\\textcolor{##f6f7f7}{#1}");E("\\grayB","\\textcolor{##f0f1f2}{#1}");E("\\grayC","\\textcolor{##e3e5e6}{#1}");E("\\grayD","\\textcolor{##d6d8da}{#1}");E("\\grayE","\\textcolor{##babec2}{#1}");E("\\grayF","\\textcolor{##888d93}{#1}");E("\\grayG","\\textcolor{##626569}{#1}");E("\\grayH","\\textcolor{##3b3e40}{#1}");E("\\grayI","\\textcolor{##21242c}{#1}");E("\\kaBlue","\\textcolor{##314453}{#1}");E("\\kaGreen","\\textcolor{##71B307}{#1}");var Y8={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class JW{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new QW(ZW,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new e2(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Sr("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new ie("Extra }",a)}else if(a.text==="EOF")throw new ie("Unexpected end of input in a macro argument, expected '"+(t&&r?t[o]:"}")+"'",a);if(t&&r)if((s===0||s===1&&t[o]==="{")&&a.text===t[o]){if(++o,o===t.length){n.splice(-o,o);break}}else o=0}while(s!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:a}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new ie("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var a=this.popToken();if(r[i]!==a.text)throw new ie("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<t;o++)s.push(this.consumeArg(n&&n[o+1]).tokens);return s}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ie("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||t&&i.unexpandable){if(t&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new ie("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new ie("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new ie("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Sr(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new e2(i,this.settings),l=[],c=o.lex();c.text!=="EOF";)l.push(c),c=o.lex();l.reverse();var u={tokens:l,numArgs:a};return u}return i}isDefined(t){return this.macros.has(t)||xa.hasOwnProperty(t)||Mt.math.hasOwnProperty(t)||Mt.text.hasOwnProperty(t)||Y8.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:xa.hasOwnProperty(t)&&!xa[t].primitive}}var r2=/^[]/,ld=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Am={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},i2={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class ef{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new JW(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new ie("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Sr("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(ef.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&xa[i.text]&&xa[i.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;r.push(a)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new ie("only one infix operator per group",t[i].token);n=i,r=t[i].replaceWith}if(n!==-1&&r){var a,s,o=t.slice(0,n),l=t.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var c;return r==="\\\\abovefrac"?c=this.callFunction(r,[a,t[n],s],[]):c=this.callFunction(r,[a,s],[]),[c]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new ie("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var i={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(t){var n=this.parseGroup("atom",t);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var s=a.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new ie("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(r)throw new ie("Double superscript",a);r=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new ie("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(r)throw new ie("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(ld[a.text]){var c=r2.test(a.text),u=[];for(u.push(new Sr(ld[a.text])),this.consume();;){var d=this.fetch().text;if(!ld[d]||r2.test(d)!==c)break;u.unshift(new Sr(ld[d])),this.consume()}var f=this.subparse(u);c?i={type:"ordgroup",mode:"math",body:f}:r={type:"ordgroup",mode:"math",body:f}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(t,n){var r=this.fetch(),i=r.text,a=xa[i];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new ie("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!a.allowedInText)throw new ie("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&a.allowedInMath===!1)throw new ie("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,r,t)}callFunction(t,n,r,i,a){var s={funcName:t,parser:this,token:i,breakOnTokenText:a},o=xa[t];if(o&&o.handler)return o.handler(s,n,r);throw new ie("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<r;s++){var o=n.argTypes&&n.argTypes[s],l=s<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var c=this.parseGroupOfType("argument to '"+t+"'",o,l);if(l)a.push(c);else if(c!=null)i.push(c);else throw new ie("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",r);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(r)throw new ie("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new ie("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ie("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(t,n){for(var r=this.fetch(),i=r,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new ie("Invalid "+n+": '"+r.text+"'",r);return r.range(i,a)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ie("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new ie("Invalid size: '"+n.text+"'",n);var a={number:+(i[1]+i[2]),unit:i[3]};if(!i8(a))throw new ie("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:a};return n&&this.switchMode(i),s}parseGroup(t,n){var r=this.fetch(),i=r.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:nr.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,t)||this.parseSymbol(),a==null&&i[0]==="\\"&&!Y8.hasOwnProperty(i)){if(this.settings.throwOnError)throw new ie("Undefined control sequence: "+i,r);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],a=i.text;a==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:nr.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:nr.range(i,t[r+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&t[r+1].text===a&&(t.splice(r,2,{type:"textord",mode:"text",loc:nr.range(i,t[r+1]),text:a+a}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ie(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}i2.hasOwnProperty(n[0])&&!Mt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=i2[n[0]]+n.slice(1));var a=GW.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="":n==="j"&&(n=""));var s;if(Mt[this.mode][n]){this.settings.strict&&this.mode==="math"&&sg.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var o=Mt[this.mode][n].group,l=nr.range(t),c;if(UH.hasOwnProperty(o)){var u=o;c={type:"atom",mode:this.mode,family:u,loc:l,text:n}}else c={type:o,mode:this.mode,loc:l,text:n};s=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&(r8(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:nr.range(t),text:n};else return null;if(this.consume(),a)for(var d=0;d<a[0].length;d++){var f=a[0][d];if(!Am[f])throw new ie("Unknown accent ' "+f+"'",t);var h=Am[f][this.mode]||Am[f].text;if(!h)throw new ie("Accent "+f+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:nr.range(t),label:h,isStretchy:!1,isShifty:!0,base:s}}return s}}ef.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var qy=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new ef(t,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ie("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Sr("\\df@tag")])}]}return i},G8=function(t,n,r){n.textContent="";var i=Hy(t,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),G8=function(){throw new ie("KaTeX doesn't work in quirks mode.")});var eX=function(t,n){var r=Hy(t,n).toMarkup();return r},tX=function(t,n){var r=new Ey(n);return qy(t,r)},K8=function(t,n,r){if(r.throwOnError||!(t instanceof ie))throw t;var i=H.makeSpan(["katex-error"],[new Cr(n)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+r.errorColor),i},Hy=function(t,n){var r=new Ey(n);try{var i=qy(t,r);return uW(i,t,r)}catch(a){return K8(a,t,r)}},nX=function(t,n){var r=new Ey(n);try{var i=qy(t,r);return dW(i,t,r)}catch(a){return K8(a,t,r)}},a2={version:"0.16.11",render:G8,renderToString:eX,ParseError:ie,SETTINGS_SCHEMA:Od,__parse:tX,__renderToDomTree:Hy,__renderToHTMLTree:nX,__setFontMetrics:DH,__defineSymbol:m,__defineFunction:pe,__defineMacro:E,__domTree:{Span:nu,Anchor:Ay,SymbolNode:Cr,SvgNode:Xi,PathNode:Fa,LineNode:ag}};function rX(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function iX(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:a},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:o,mathText:s,mathTextData:o}};function e(l){this.enter({type:"math",meta:null,value:"",data:{hName:"div",hProperties:{className:["math","math-display"]},hChildren:[{type:"text",value:""}]}},l)}function t(){this.buffer()}function n(){const l=this.resume(),c=this.stack[this.stack.length-1];c.meta=l}function r(){this.getData("mathFlowInside")||(this.buffer(),this.setData("mathFlowInside",!0))}function i(l){const c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),u=this.exit(l);u.value=c,u.data.hChildren[0].value=c,this.setData("mathFlowInside")}function a(l){this.enter({type:"inlineMath",value:"",data:{hName:"span",hProperties:{className:["math","math-inline"]},hChildren:[{type:"text",value:""}]}},l),this.buffer()}function s(l){const c=this.resume(),u=this.exit(l);u.value=c,u.data.hChildren[0].value=c}function o(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function aX(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(a,s,o,l){const c=a.value||"",u=$c(l),d="$".repeat(Math.max(rX(c,"$")+1,2)),f=o.enter("mathFlow");let h=u.move(d);if(a.meta){const g=o.enter("mathFlowMeta");h+=u.move(L1(o,a.meta,{before:h,after:`
`,encode:["$"],...u.current()})),g()}return h+=u.move(`
`),c&&(h+=u.move(c+`
`)),h+=u.move(d),f(),h}function r(a,s,o){let l=a.value||"",c=1;for(t||c++;new RegExp("(^|[^$])"+"\\$".repeat(c)+"([^$]|$)").test(l);)c++;const u="$".repeat(c);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let d=-1;for(;++d<o.unsafe.length;){const f=o.unsafe[d],h=D1(f);let g;if(f.atBreak)for(;g=h.exec(l);){let p=g.index;l.codePointAt(p)===10&&l.codePointAt(p-1)===13&&p--,l=l.slice(0,p)+" "+l.slice(g.index+1)}}return u+l+u}function i(){return"$"}}function Q8(e={}){const t=this.data();n("micromarkExtensions",aH(e)),n("fromMarkdownExtensions",iX()),n("toMarkdownExtensions",aX(e));function n(r,i){(t[r]?t[r]:t[r]=[]).push(i)}}const Rm={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},s2=/[#.]/g;function sX(e,t){const n=e||"",r={};let i=0,a,s;for(;i<n.length;){s2.lastIndex=i;const o=s2.exec(n),l=n.slice(i,o?o.index:n.length);l&&(a?a==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:s=l,i+=l.length),o&&(a=o[0],i++)}return{type:"element",tagName:s||t||"div",properties:r,children:[]}}const oX=new Set(["menu","submit","reset","button"]),hg={}.hasOwnProperty;function Z8(e,t,n){const r=n&&dX(n);return function(a,s,...o){let l=-1,c;if(a==null)c={type:"root",children:[]},o.unshift(s);else if(c=sX(a,t),c.tagName=c.tagName.toLowerCase(),r&&hg.call(r,c.tagName)&&(c.tagName=r[c.tagName]),lX(s,c.tagName)){let u;for(u in s)hg.call(s,u)&&cX(e,c.properties,u,s[u])}else o.unshift(s);for(;++l<o.length;)fg(c.children,o[l]);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}}function lX(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?oX.has(e.type.toLowerCase()):!("value"in e)}function cX(e,t,n,r){const i=Z6(e,n);let a=-1,s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=Cv(r):i.commaSeparated?s=Av(r):i.commaOrSpaceSeparated?s=Cv(Av(r).join(" ")):s=o2(i,i.property,r):Array.isArray(r)?s=r.concat():s=i.property==="style"?uX(r):String(r);if(Array.isArray(s)){const o=[];for(;++a<s.length;)o[a]=o2(i,i.property,s[a]);s=o}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function fg(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)fg(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?fg(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function o2(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||bc(n)===bc(t)))return!0}return n}function uX(e){const t=[];let n;for(n in e)hg.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function dX(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const hX=Z8(J6,"div"),fX=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],mX=Z8(e5,"g",fX);function pX(e,t){return(e?J8(e,t||{}):void 0)||{type:"root",children:[]}}function J8(e,t){const n=gX(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function gX(e,t){switch(e.nodeType){case 1:return vX(e,t);case 3:return bX(e);case 8:return wX(e);case 9:return l2(e,t);case 10:return yX();case 11:return l2(e,t);default:return}}function l2(e,t){return{type:"root",children:eS(e,t)}}function yX(){return{type:"doctype"}}function bX(e){return{type:"text",value:e.nodeValue||""}}function wX(e){return{type:"comment",value:e.nodeValue||""}}function vX(e,t){const n=e.namespaceURI,r=n===Rm.svg?mX:hX,i=n===Rm.html?e.tagName.toLowerCase():e.tagName,a=n===Rm.html&&i==="template"?e.content:e,s=e.getAttributeNames(),o={};let l=-1;for(;++l<s.length;)o[s[l]]=e.getAttribute(s[l])||"";return r(i,o,eS(a,t))}function eS(e,t){const n=e.childNodes,r=[];let i=-1;for(;++i<n.length;){const a=J8(n[i],t);a!==void 0&&r.push(a)}return r}const xX=new DOMParser;function kX(e,t){const n=t!=null&&t.fragment?SX(e):xX.parseFromString(e,"text/html");return pX(n)}function SX(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const c2=Object.assign,_X="rehype-katex";function tS(e){const t=e||{},n=t.throwOnError||!1;return(r,i)=>{Fc(r,"element",a=>{const s=a.properties&&Array.isArray(a.properties.className)?a.properties.className:[],o=s.includes("math-inline"),l=s.includes("math-display");if(!o&&!l)return;const c=jp(a,{whitespace:"pre"});let u;try{u=a2.renderToString(c,c2({},t,{displayMode:l,throwOnError:!0}))}catch(f){const h=f,g=n?"fail":"message",p=[_X,h.name.toLowerCase()].join(":");if(i[g](h.message,a.position,p),h.name!=="ParseError"){a.children=[{type:"element",tagName:"span",properties:{className:["katex-error"],title:String(h),style:"color:"+(t.errorColor||"#cc0000")},children:[{type:"text",value:c}]}];return}u=a2.renderToString(c,c2({},t,{displayMode:l,throwOnError:!1,strict:"ignore"}))}const d=kX(u,{fragment:!0});a.children=d.children})}}const EX=L.div`
  height: ${e=>e.theme.scale.scale10};
  background: #0a0c28;
  @media screen and (max-width: 1024px) {
    height: 414px;
  }
  @media screen and (max-width: 768px) {
    height: 276px;
  }
`,TX=L.main`
  max-width: 1024px;
  margin-top: -${e=>e.theme.scale.scale09};
  margin-bottom: ${e=>e.theme.scale.scale07};
  margin-inline: auto;
  padding-inline: 64px;
  // - - -
  /* height: 400px; */
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 15px;
  }
  @media screen and (max-width: 1024px) {
    margin-top: -252px;
  }
  @media screen and (max-width: 768px) {
    margin-top: -168px;
    padding-inline: 32px;
  }
`,CX=L.h1`
  margin-bottom: ${e=>e.theme.scale.scale03};
  color: ${e=>e.theme.color.neutral.gray01};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize8};
  /* line-height: ${e=>e.theme.font.lineHeight9}; */
  line-height: 1.4;
  text-transform: capitalize;
  /* word-break: break-all; */
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 34.5px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 10px;
    font-size: 23px;
  }
`,nS=L.p`
  margin-bottom: ${e=>e.theme.scale.scale04};
  color: ${e=>e.theme.color.neutral.gray01};
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize5};
  /* line-height: ${e=>e.theme.font.lineHeight5}; */
  line-height: 1.3;
  @media screen and (max-width: 1024px) {
    margin-bottom: 24px;
    font-size: 18px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 16px;
    font-size: 12px;
  }
`,AX=L.a`
  display: flex;
  align-items: center;
  margin-bottom: ${e=>e.theme.scale.scale04};
  @media screen and (max-width: 1024px) {
    margin-bottom: 24px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 16px;
  }
`,RX=L.img`
  margin-right: 24px;
  height: ${e=>e.theme.scale.scale06};
  width: ${e=>e.theme.scale.scale06};
  border: 2px solid ${e=>e.theme.color.neutral.gray01};
  border-radius: 50%;
  @media screen and (max-width: 1024px) {
    margin-right: 18px;
    height: 60px;
    width: 60px;
  }
  @media screen and (max-width: 768px) {
    margin-right: 12px;
    height: 60px;
    width: 60px;
  }
`,IX=L(nS)`
  margin-bottom: 0;
`,NX=L.img`
  width: 100%;
  margin-bottom: ${e=>e.theme.scale.scale04};
  border-radius: ${e=>e.theme.scale.scale02};
  /* height: 336px; */
  @media screen and (max-width: 1024px) {
    margin-bottom: 24px;
    border-radius: 9px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 16px;
    border-radius: 6px;
  }
`,MX=L.div`
  margin-bottom: ${e=>e.theme.scale.scale08};
  @media screen and (max-width: 1024px) {
    margin-bottom: 156px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 104px;
  }
`,OX=L.div``,DX=L.div`
  text-align: center;
  margin-bottom: ${e=>e.theme.scale.scale06};
  @media screen and (max-width: 1024px) {
    margin-bottom: 60px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 40px;
  }
`,LX=L.span`
  padding-inline: ${e=>e.theme.scale.scale06};
  padding-bottom: ${e=>e.theme.scale.scale01};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize8};
  /* line-height: ${e=>e.theme.font.lineHeight8}; */
  line-height: 1.2;
  text-transform: capitalize;
  background-image: url(${Zi});
  background-clip: border-box;
  background-repeat: no-repeat;
  background-position: bottom 0 right 0;
  background-size: 50%;
  @media screen and (max-width: 768px) {
    padding-inline: 60px;
    padding-bottom: 6px;
    font-size: 34.5px;
  }
`,PX=L.ul`
  display: flex;
  flex-flow: wrap;
  justify-content: space-between;
  flex: 1;
  margin-bottom: ${e=>e.theme.scale.scale04};
  @media screen and (max-width: 1024px) {
  }
  @media screen and (max-width: 768px) {
    flex-direction: column;

    margin-bottom: 24px;
  }
`,zX=L.li`
  width: 48%;
  margin-bottom: ${e=>e.theme.scale.scale04};
  border: 1px solid #dfdfdf;
  border-radius: ${e=>e.theme.scale.scale03};
  box-shadow: 5px 5px 15px -5px ${e=>e.theme.color.neutral.gray06};
  overflow: hidden;
  @media screen and (max-width: 768px) {
    width: 100%;
    margin-bottom: 16px;
    border-radius: 15px;
  }
`,FX=L.img`
  width: 100%;
  height: ${e=>e.theme.scale.scale08};
  flex-direction: column;
  @media screen and (max-width: 1024px) {
    height: 156px;
  }
`,BX=L.div`
  padding: ${e=>e.theme.scale.scale03};
  // - - -
  /* height: 100px; */
  @media screen and (max-width: 768px) {
    padding: 15px;
  }
`,$X=L.h1`
  margin-bottom: ${e=>e.theme.scale.scale03};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize4};
  /* line-height: ${e=>e.theme.font.lineHeight4}; */
  line-height: 1.4;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-transform: capitalize;
  @media screen and (max-width: 768px) {
    margin-bottom: 15px;
    font-size: 15px;
  }
`,UX=L.p`
  display: -webkit-box;
  margin-bottom: ${e=>e.theme.scale.scale03};
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize3};
  /* line-height: ${e=>e.theme.font.lineHeight3}; */
  line-height: 1.5;
  word-break: break-all;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
  overflow: hidden;
  text-overflow: ellipsis;
  @media screen and (max-width: 768px) {
    margin-bottom: 15px;
    font-size: 12px;
  }
`,jX=L(qa)`
  display: inline-block;
  margin-bottom: ${e=>e.theme.scale.scale01};
  padding-block: ${e=>e.theme.scale.scale01};
  padding-inline: ${e=>e.theme.scale.scale04};
  color: ${e=>e.theme.color.neutral.gray01};
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize2};
  /* line-height: ${e=>e.theme.font.lineHeight2}; */
  line-height: 1.5;
  background: linear-gradient(90deg, #767ee5, #9966cc);
  border-radius: 20px;
  @media screen and (max-width: 768px) {
    margin-bottom: 6px;
    padding-block: 6px;
    padding-inline: 24px;
    font-size: 10.5px;
    border-radius: 15px;
  }
`,qX=L(qa)`
  display: block;
  text-align: right;
  color: #7680dd;
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize4};
  /* line-height: ${e=>e.theme.font.lineHeight4}; */
  line-height: 1.4;
  @media screen and (max-width: 768px) {
    font-size: 15px;
  }
`,Im=Object.assign({"/src/blog/2023-01-07-Curp_-Revisit-the-Consensus-Protocol.md":nk,"/src/blog/2023-02-19-Thinking-About-Programs-from-Mathematical-Perspective-to-Verify-Their-Correctness.md":rk,"/src/blog/2023-03-10-How-to-Elegantly-Organize-Async-Rust-Code.md":ik,"/src/blog/2023-04-19-Database-Isolation-Levels-and-MVCC.md":ak,"/src/blog/2023-05-21-The-design-and-Implementation-of-the-Xline-Persistent-Storage-Layer.md":sk,"/src/blog/2023-08-18-Introduction-to-CURP-Protocol.md":ok,"/src/blog/2023-09-23-Mechanism-and-Implementation-of-Lease.md":lk,"/src/blog/2023-11-01-Implementation-of-CURP-Server.md":ck,"/src/blog/2023-12-13-CURP-State-Machine-Engine.md":uk,"/src/blog/2024-01-04-Xline-Command-Deduplication-Mechanism-(Part-One)Introduction-to-RIFL.md":dk,"/src/blog/2024-02-06-Analysis-of-Xline-Jepsen-Tests.md":hk,"/src/blog/2024-03-13-Membership-Change-Source-Code-Interpretation.md":fk,"/src/blog/2024-03-22-Early-Explorations-and-Practices-of-Xline-a-Stateful-Application-Managed-by-Karmada.md":mk,"/src/blog/2024-05-23-Xline-command-Deduplication-Mechanism-(II)-RIFL-Implementation.md":pk,"/src/blog/2024-08-15-Interval-Tree -Implementation-in-Xline.md":gk,"/src/blog/2024-09-21-Asynchronous-runtime-IO-problem-analysis.md":yk}),HX=()=>{const{msg:e}=m1();Q.useEffect(()=>{window.scrollTo(0,0)},[]);const[t,n,r,...i]=(e||"").split("-"),a=i.join(" "),s=Im[`/src/blog/${e}.md`],[o,l,c,u]=s.split(`---
`),d=Gp.parse(l);let f=0;return S.jsxs(S.Fragment,{children:[S.jsx(EX,{}),S.jsxs(TX,{children:[S.jsx(CX,{children:a}),S.jsxs(nS,{children:[me(`${t}-${n}-${r}`).format("MMM Do")," "," ",d.read_time," min read"]}),S.jsxs(AX,{href:d.author.url,children:[S.jsx(RX,{src:d.author.img_url}),S.jsx(IX,{children:d.author.name})]}),S.jsx(NX,{src:d.cover}),S.jsx(MX,{children:S.jsx(Ko,{children:u,rehypePlugins:[jc,tS],remarkPlugins:[Uc,Q8],components:{h1:({level:h,children:g})=>S.jsx(pt,{level:h,children:g}),h2:({level:h,children:g})=>S.jsx(pt,{level:h,children:g}),h3:({level:h,children:g})=>S.jsx(pt,{level:h,children:g}),h4:({level:h,children:g})=>S.jsx(pt,{level:h,children:g}),h5:({level:h,children:g})=>S.jsx(pt,{level:h,children:g}),h6:({level:h,children:g})=>S.jsx(pt,{level:h,children:g}),p:({children:h})=>S.jsx(qc,{children:h}),em:({children:h})=>S.jsx(ci,{children:h}),strong:({children:h})=>S.jsx(ci,{type:"bold",children:h}),hr:()=>S.jsx(Hc,{}),ul:({depth:h,ordered:g,className:p,children:v})=>S.jsx(ui,{depth:h,ordered:g,className:p,children:v}),ol:({depth:h,ordered:g,className:p,children:v})=>S.jsx(ui,{depth:h,ordered:g,className:p,children:v}),li:({children:h})=>S.jsx(Wc,{children:h}),img:({src:h,alt:g})=>S.jsx(Xc,{src:h,alt:g}),blockquote:({children:h})=>S.jsx(Vc,{children:h})}})}),S.jsxs(OX,{children:[S.jsx(DX,{children:S.jsx(LX,{children:"related resources"})}),S.jsx(PX,{children:Object.keys(Im).reverse().map((h,g)=>{f++;const p=h.split(/[/,.]/),v=p[3],[b,w,k,...T]=p[3].split("-"),R=T.join(" "),[x,M,I,B]=Im[h].split(`---
`),D=Gp.parse(M),Y=`/src/blog/${e}.md`;return h===Y||f>2?(f--,null):S.jsxs(zX,{children:[S.jsx(FX,{src:D.cover,alt:"cover"}),S.jsxs(BX,{children:[S.jsx($X,{children:R}),S.jsx(UX,{children:I}),S.jsx(jX,{onClick:()=>window.scrollTo(0,0),to:`/blog/${v}`,children:"Read more"})]})]},g)})}),S.jsx(qX,{to:"/blog",children:"View All "})]})]})]})},WX="/xline-home/assets/image1-9be52310.png",XX="/xline-home/assets/image2-baebe8ee.png",VX="/xline-home/assets/image3-a2f91129.png",u2="/xline-home/assets/image4-feb06521.png",YX="/xline-home/assets/dot-028994da.svg",GX=L.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: calc(86px + 416px);
  padding-top: 86px;
  background: #0a0c28;
  @media screen and (max-width: 1024px) {
    padding-top: 69px;
    height: calc(312px + 69px);
  }
  @media screen and (max-width: 1024px) {
    padding-top: 53px;
    height: calc(208px + 53px);
  }
`,KX=L.h1`
  position: relative;
  display: inline-block;
  padding-inline: 32px;
  color: white;
  font-weight: 700;
  font-size: 72px;
  line-height: 1.5;
  text-transform: capitalize;
  transform: translateY(-10%);
  @media screen and (max-width: 1024px) {
    padding-inline: 24px;
    font-size: 54px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 16px;
    font-size: 36px;
  }
`,QX=L.img`
  z-index: -1;
  position: absolute;
  left: 50%;
  bottom: -17px;
  transform: translateX(-45%);
  width: 295.01px;
  height: 35.35px;
  @media screen and (max-width: 1024px) {
    bottom: -12%;
    width: 221px;
    height: 27px;
  }
  @media screen and (max-width: 768px) {
    bottom: -8%;
    width: 148px;
    height: 18px;
  }
`,ZX=L.main`
  display: flex;
  margin-inline: auto;
  padding-block: ${e=>e.theme.scale.scale06};
  padding-inline: ${e=>e.theme.scale.scale07};
  max-width: ${e=>e.theme.scale.scale12};
  // - - -
  /* height: 200px;
  background-color: lightcoral; */
  @media screen and (max-width: 1024px) {
    padding-block: 60px;
    padding-inline: 96px;
  }
  @media screen and (max-width: 768px) {
    padding-block: 40px;
    padding-inline: 64px;
  }
`,JX=L.div`
  flex-shrink: 0;
  width: ${e=>e.theme.scale.scale08};
  margin-right: ${e=>e.theme.scale.scale06};
  padding-block: ${e=>e.theme.scale.scale07};
  // - - -
  /* height: 100px;
  background-color: lightblue; */
  @media screen and (max-width: 1440px) {
    display: none;
  }
`,eV=L.p`
  margin-bottom: ${e=>e.theme.scale.scale04};
  color: #a6a6a6;
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize4};
  line-height: ${e=>e.theme.font.lineHeight4};
`,tV=L(qa)`
  display: block;
  margin-bottom: ${e=>e.theme.scale.scale03};
  padding: ${e=>e.theme.scale.scale03};
  color: #454545;
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize3};
  line-height: ${e=>e.theme.font.lineHeight3};
  border: 1px solid #dfdfdf;
  border-radius: ${e=>e.theme.scale.scale01};
  box-shadow: 5px 5px 15px -5px ${e=>e.theme.color.neutral.gray06};
`;L.div`
  display: flex;
  flex-flow: wrap;
  justify-content: space-between;
  /* flex: 1; */
  /* padding-inline: ${e=>e.theme.scale.scale05}; */
  // - - -
  /* min-height: 100px;
  background-color: lightcyan; */
  @media screen and (max-width: 1024px) {
    flex-direction: column;
  }
`;L.div`
  width: 48%;
  margin-bottom: ${e=>e.theme.scale.scale04};
  border: 1px solid #dfdfdf;
  border-radius: ${e=>e.theme.scale.scale03};
  box-shadow: 5px 5px 15px -5px ${e=>e.theme.color.neutral.gray06};
  overflow: hidden;
  // - - -
  /* height: 400px; */
  /* background: lightpink; */
  @media screen and (max-width: 1024px) {
    width: 100%;
  }
`;L.img`
  width: 100%;
  /* height: ${e=>e.theme.scale.scale08}; */
`;L.div`
  padding: ${e=>e.theme.scale.scale03};
  // - - -
  /* height: 100px; */
  @media screen and (max-width: 1024px) {
    padding: 15px;
  }
  @media screen and (max-width: 768px) {
    padding: 10px;
  }
`;L.h1`
  margin-bottom: ${e=>e.theme.scale.scale03};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize4};
  /* line-height: ${e=>e.theme.font.lineHeight4}; */
  line-height: 1.5;
  /* white-space: nowrap; */
  overflow: hidden;
  text-overflow: ellipsis;
  text-transform: capitalize;
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 15px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 10px;
    font-size: 10px;
  }
`;L.p`
  display: -webkit-box;
  margin-bottom: ${e=>e.theme.scale.scale03};
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize3};
  /* line-height: ${e=>e.theme.font.lineHeight3}; */
  line-height: 1.5;
  word-break: break-all;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
  overflow: hidden;
  text-overflow: ellipsis;
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 12px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 10px;
    font-size: 8px;
  }
`;L(qa)`
  display: inline-block;
  margin-bottom: ${e=>e.theme.scale.scale01};
  padding-block: ${e=>e.theme.scale.scale01};
  padding-inline: ${e=>e.theme.scale.scale04};
  color: ${e=>e.theme.color.neutral.gray01};
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize2};
  /* line-height: ${e=>e.theme.font.lineHeight2}; */
  line-height: 1.5;
  background: linear-gradient(90deg, #767ee5, #9966cc);
  border-radius: 20px;
  @media screen and (max-width: 1024px) {
    margin-bottom: 6px;
    padding-block: 6px;
    padding-inline: 24px;
    font-size: 10.5px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 4px;
    padding-block: 4px;
    padding-inline: 16px;
    font-size: 7px;
  }
`;const nV=L.ul``,rV=L.li`
  display: flex;
  align-items: center;
  padding-block: 24px;
  padding-inline: 12px;
  border-bottom: 0.5px solid #9a9a9a;
  cursor: pointer;
  /* :last-child {
    border-bottom: none;
  } */
  @media screen and (max-width: 1024px) {
    flex-direction: column;
    padding-block: 18px;
    padding-inline: 9px;
  }
  @media screen and (max-width: 768px) {
    padding-block: 12px;
    padding-inline: 6px;
  }
`,iV=L.div`
  flex-grow: 1;
  margin-right: 48px;
  @media screen and (max-width: 1024px) {
    margin-right: 0;
  }
`,aV=L.img`
  width: 40%;
  @media screen and (max-width: 1024px) {
    width: 100%;
  }
`,sV=L.div`
  margin-bottom: 6px;
  font-size: 15px;
  line-height: 2;
  font-weight: 600px;
  color: #7680dd;
  @media screen and (max-width: 1024px) {
    margin-bottom: 4.5px;
    font-size: 12px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 3px;
  }
`,oV=L.div`
  margin-bottom: 27px;
  font-size: 27px;
  line-height: 1.22;
  font-weight: 600;
  color: #1e1e1e;
  @media screen and (max-width: 1024px) {
    margin-bottom: 20.25px;
    font-size: 20.25;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 13.5px;
    font-size: 16px;
  }
`,lV=L.div`
  margin-bottom: 6px;
  font-size: 13.5px;
  line-height: 1.77;
  font-weight: 400;
  color: #7d7d7d;
  @media screen and (max-width: 1024px) {
    margin-bottom: 4.5px;
    font-size: 12px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 3px;
  }
`,cV=L.div`
  display: flex;
  align-items: center;
  font-size: 12px;
  line-height: 1%.5;
  font-weight: 600;
  @media screen and (max-width: 1024px) {
    font-size: 9px;
  }
  @media screen and (max-width: 768px) {
    font-size: 6px;
  }
`,uV=L.img`
  width: 22px;
  height: 22px;
  padding-inline: 8px;
  @media screen and (max-width: 1024px) {
    width: 16.5px;
    height: 16.5px;
    padding-inline: 6px;
  }
  @media screen and (max-width: 768px) {
    width: 11px;
    height: 11px;
    padding-inline: 4px;
  }
`,dV=L.div`
  color: #797979;
`,hV=L.div`
  color: #7680dd;
`,d2=[{date:"2023-01-19",title:"Geo distributed Metadata Management System",description:"The webinar aims to briefly introduce DatenLords open source project Xline, a distributed metadata management system for multi-clusters. It reveals the motivation of Xline, the architecture of it and the important consensus protocol, CURP. The performance comparison shows the advantage of Xline over the current solution.",author:"By Jicheng Shi",read:"19min",img:WX,url:"https://www.cncf.io/online-programs/cncf-on-demand-webinar-geo-distributed-metadata-management-system/"},{date:"2023-05-04",title:"Proofing the Correctness of the CURP Consensus Protocol Using TLA+",description:"The CURP Replication Protocol (NSDI 19) aims to eliminate the additional round trips between servers in replicated state machines. We extended CURP into a consensus protocol and used it in our open source project Xline. This webinar is about how we modeled the CURP consensus protocol in TLA+ and verified the correctness of it.",author:"By Ye Tian",read:"20min",img:XX,url:"https://www.cncf.io/online-programs/cncf-on-demand-webinar-proofing-the-correctness-of-the-curp-consensus-protocol-using-tla/"},{date:"2023-09-08",title:"How to Write a Distributed Key-value store in Rust",description:"In this presentation, we will explore how to use Rust to build a distributed key-value store, taking the open-source distributed KV storage Xline as an example. ",author:"By Jiawei Zhao",read:"35min",img:VX,url:"https://community.cncf.io/events/details/cncf-cncf-online-programs-presents-cncf-on-demand-webinar-how-to-write-a-distributed-key-value-store-in-rust/"},{date:"2023-12-14",title:"Application and Analysis of Jepsen Tests in Xline",description:"This presentation offers an overview of applying Jepsen tests to Xline, a distributed KV Store. It begins with a brief introduction to Jepsen, followed by an exploration of the application of Jepsen tests to Xline. The presentation then delves into the test results and system analysis. Finally, it discusses the lessons learned and outlines future work in chaos engineering for Xline. ",author:"By Zhenghao Yin",read:"13min",img:u2,url:"https://www.cncf.io/online-programs/cncf-on-demand-webinar-application-and-analysis-of-jepsen-tests-in-xline/"},{date:"2024-05-30",title:"Early Exploration & Practice Managing Stateful Applications Across Clusters",description:"In this presentation, we will take Xline as an example to share some early explorations and practices of DatenLord using Karmada to manage stateful applications, including the advantages and challenges of cross-cluster deployment and the solutions. ",author:"By Jiawei Zhao",read:"24min",img:u2,url:"https://www.cncf.io/online-programs/cncf-on-demand-webinar-early-exploration-practice-managing-stateful-applications-across-clusters/"}],fV=e=>{const{date:t,title:n,description:r,author:i,read:a,img:s,url:o}=e.data;return S.jsxs(rV,{onClick:()=>window.location.href=`${o}`,children:[S.jsxs(iV,{children:[S.jsx(sV,{children:me(t,"YYYY-MM-DD").format("dddd MMMM D, YYYY")}),S.jsx(oV,{children:n}),S.jsx(lV,{children:r}),S.jsxs(cV,{children:[S.jsx(dV,{children:i}),S.jsx(uV,{src:YX}),S.jsx(hV,{children:a})]})]}),S.jsx(aV,{src:s})]})},mV=()=>S.jsxs(S.Fragment,{children:[S.jsx(GX,{children:S.jsxs(KX,{children:["video",S.jsx(QX,{src:Zi,alt:"underline"})]})}),S.jsxs(ZX,{children:[S.jsxs(JX,{children:[S.jsx(eV,{children:"Video"}),d2.slice().reverse().map(({title:e,url:t})=>S.jsx(tV,{to:t,children:e},e))]}),S.jsx(nV,{children:d2.slice().reverse().map(e=>S.jsx(fV,{data:e},e.title))})]})]}),Dl="/xline-home/assets/image1-177e3788.png",pV=L.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: calc(86px + 416px);
  padding-top: 86px;
  background: #0a0c28;
  @media screen and (max-width: 1024px) {
    padding-top: 69px;
    height: calc(312px + 69px);
  }
  @media screen and (max-width: 1024px) {
    padding-top: 53px;
    height: calc(208px + 53px);
  }
`,gV=L.h1`
  position: relative;
  display: inline-block;
  padding-inline: 32px;
  color: white;
  font-weight: 700;
  font-size: 72px;
  line-height: 1.5;
  text-transform: capitalize;
  transform: translateY(-10%);
  word-wrap: break-word;
  max-width: 50vw;
  text-align: center;
  @media screen and (max-width: 1024px) {
    padding-inline: 24px;
    font-size: 54px;
  }
  @media screen and (max-width: 768px) {
    padding-inline: 16px;
    font-size: 36px;
  }
`,yV=L.img`
  z-index: -1;
  position: absolute;
  left: 50%;
  bottom: -17px;
  transform: translateX(-45%);
  width: 295.01px;
  height: 35.35px;
  @media screen and (max-width: 1024px) {
    bottom: -12%;
    width: 221px;
    height: 27px;
  }
  @media screen and (max-width: 768px) {
    bottom: -8%;
    width: 148px;
    height: 18px;
  }
`,bV=L.main`
  display: flex;
  margin-inline: auto;
  padding-block: ${e=>e.theme.scale.scale06};
  padding-inline: ${e=>e.theme.scale.scale07};
  max-width: ${e=>e.theme.scale.scale12};
  // - - -
  /* height: 200px;
  background-color: lightcoral; */
  @media screen and (max-width: 1024px) {
    padding-block: 60px;
    padding-inline: 96px;
  }
  @media screen and (max-width: 768px) {
    padding-block: 40px;
    padding-inline: 64px;
  }
`,wV=L.div`
  flex-shrink: 0;
  width: ${e=>e.theme.scale.scale08};
  margin-right: ${e=>e.theme.scale.scale06};
  padding-block: ${e=>e.theme.scale.scale07};
  // - - -
  /* height: 100px;
  background-color: lightblue; */
  @media screen and (max-width: 1440px) {
    display: none;
  }
`,vV=L.p`
  margin-bottom: ${e=>e.theme.scale.scale04};
  color: #a6a6a6;
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize4};
  line-height: ${e=>e.theme.font.lineHeight4};
`,xV=L(qa)`
  display: block;
  margin-bottom: ${e=>e.theme.scale.scale03};
  padding: ${e=>e.theme.scale.scale03};
  color: #454545;
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize3};
  line-height: ${e=>e.theme.font.lineHeight3};
  border: 1px solid #dfdfdf;
  border-radius: ${e=>e.theme.scale.scale01};
  box-shadow: 5px 5px 15px -5px ${e=>e.theme.color.neutral.gray06};
`,h2=L.div`
  display: flex;
  flex-flow: wrap;
  justify-content: space-between;
  padding-bottom: 10vh;
  &:last-child {
    padding-bottom: 0;
  }
  /* flex: 1; */
  /* padding-inline: ${e=>e.theme.scale.scale05}; */
  // - - -
  /* min-height: 100px;
  background-color: lightcyan; */
  @media screen and (max-width: 1024px) {
    flex-direction: column;
  }
`;L.div`
  width: 48%;
  margin-bottom: ${e=>e.theme.scale.scale04};
  border: 1px solid #dfdfdf;
  border-radius: ${e=>e.theme.scale.scale03};
  box-shadow: 5px 5px 15px -5px ${e=>e.theme.color.neutral.gray06};
  overflow: hidden;
  // - - -
  /* height: 400px; */
  /* background: lightpink; */
  @media screen and (max-width: 1024px) {
    width: 100%;
  }
`;L.img`
  width: 100%;
  /* height: ${e=>e.theme.scale.scale08}; */
`;L.div`
  padding: ${e=>e.theme.scale.scale03};
  // - - -
  /* height: 100px; */
  @media screen and (max-width: 1024px) {
    padding: 15px;
  }
  @media screen and (max-width: 768px) {
    padding: 10px;
  }
`;L.h1`
  margin-bottom: ${e=>e.theme.scale.scale03};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize4};
  /* line-height: ${e=>e.theme.font.lineHeight4}; */
  line-height: 1.5;
  /* white-space: nowrap; */
  overflow: hidden;
  text-overflow: ellipsis;
  text-transform: capitalize;
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 15px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 10px;
    font-size: 10px;
  }
`;L.p`
  display: -webkit-box;
  margin-bottom: ${e=>e.theme.scale.scale03};
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize3};
  /* line-height: ${e=>e.theme.font.lineHeight3}; */
  line-height: 1.5;
  word-break: break-all;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
  overflow: hidden;
  text-overflow: ellipsis;
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 12px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 10px;
    font-size: 8px;
  }
`;L(qa)`
  display: inline-block;
  margin-bottom: ${e=>e.theme.scale.scale01};
  padding-block: ${e=>e.theme.scale.scale01};
  padding-inline: ${e=>e.theme.scale.scale04};
  color: ${e=>e.theme.color.neutral.gray01};
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize2};
  /* line-height: ${e=>e.theme.font.lineHeight2}; */
  line-height: 1.5;
  background: linear-gradient(90deg, #767ee5, #9966cc);
  border-radius: 20px;
  @media screen and (max-width: 1024px) {
    margin-bottom: 6px;
    padding-block: 6px;
    padding-inline: 24px;
    font-size: 10.5px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 4px;
    padding-block: 4px;
    padding-inline: 16px;
    font-size: 7px;
  }
`;const f2=L.ul``,rS=L.li`
  display: flex;
  align-items: center;
  padding-block: 24px;
  padding-inline: 12px;
  border-bottom: 0.5px solid #9a9a9a;
  cursor: pointer;
  /* :last-child {
    border-bottom: none;
  } */
  @media screen and (max-width: 1024px) {
    flex-direction: column;
    padding-block: 18px;
    padding-inline: 9px;
  }
  @media screen and (max-width: 768px) {
    padding-block: 12px;
    padding-inline: 6px;
  }
`,iS=L.div`
  flex-grow: 1;
  margin-right: 48px;
  @media screen and (max-width: 1024px) {
    margin-right: 0;
  }
`,aS=L.img`
  width: 40%;
  @media screen and (max-width: 1024px) {
    width: 100%;
  }
`,sS=L.div`
  margin-bottom: 27px;
  font-size: 27px;
  line-height: 1.22;
  font-weight: 600;
  color: #1e1e1e;
  @media screen and (max-width: 1024px) {
    margin-bottom: 20.25px;
    font-size: 20.25;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 13.5px;
    font-size: 16px;
  }
`,oS=L.div`
  margin-bottom: 12px;
  font-size: 13.5px;
  line-height: 1.77;
  font-weight: 400;
  color: #7d7d7d;
  @media screen and (max-width: 1024px) {
    margin-bottom: 4.5px;
    font-size: 12px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 3px;
  }
`;L.div`
  margin-bottom: 6px;
  max-width: 80%;
  font-size: 13.5px;
  line-height: 1.77;
  font-weight: 400;
  color: #7d7d7d;
  @media screen and (max-width: 1024px) {
    margin-bottom: 4.5px;
    font-size: 12px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 3px;
  }
`;const m2=L.div`
  color: #7680dd;
  font-size: 1.5vw;
  font-weight: 600;
`,kV=L.div``,p2=[{title:"Xline Community Meeting",description:"we will hold xline community meeting from time to time. Please stay tuned for our next community meeting.",img:Dl}],g2=[{title:"Xline Community Meeting July, 2024",description:"At the community meeting on July 30, 2024, the focus was primarily on the updates for Xline version 0.7. This included performance optimizations and command deduplication based on RIFL.",img:Dl,url:"https://www.youtube.com/watch?v=jvU44y14Ey8"},{title:"Xline Community Meeting May, 2024",description:"In the community meeting on May 31, 2024, it introduced the current development status and progress of Xline, with a particular emphasis on the safety of implementing joint consensus in CURP algorithm.",img:Dl,url:"https://www.youtube.com/watch?v=2aQkiQCvshQ"},{title:"Xline Community Meeting March, 2024",description:"In the community meeting on March 29, 2024, it introduced the current development status and progress of Xline, with a particular emphasis on performance improvements, along with codebase rewrites to resolve consistency issues.",img:Dl,url:"https://www.youtube.com/watch?v=UdC_mteVeH8"},{title:"Xline Community Meeting January, 2024",description:"In the community meeting on January 27, 2024, it introduced the current development status and progress of Xline, with a particular emphasis on explaining the implementation of Xline membership changes.",img:Dl,url:"https://www.youtube.com/watch?v=jvU44y14Ey8"}],SV=e=>{const{title:t,description:n,img:r,url:i}=e.data;return S.jsxs(rS,{onClick:()=>window.location.href=`${i}`,children:[S.jsxs(iS,{children:[S.jsx(sS,{children:t}),S.jsx(oS,{children:n})]}),S.jsx(aS,{src:r})]})},_V=e=>{const{title:t,description:n,img:r,url:i}=e.data;return S.jsxs(rS,{onClick:()=>window.location.href=`${i}`,children:[S.jsxs(iS,{children:[S.jsx(sS,{children:t}),S.jsx(oS,{children:n})]}),S.jsx(aS,{src:r})]})},EV=()=>S.jsxs(S.Fragment,{children:[S.jsx(pV,{children:S.jsxs(gV,{children:["community meeting",S.jsx(yV,{src:Zi,alt:"underline"})]})}),S.jsxs(bV,{children:[S.jsxs(wV,{children:[S.jsx(vV,{children:"Meeting"}),g2.map(({title:e,url:t})=>S.jsx(xV,{to:t,children:e},e))]}),S.jsxs(kV,{children:[p2.length>0&&S.jsxs(h2,{children:[S.jsx(m2,{children:"Upcoming meetings"}),S.jsx(f2,{children:p2.map(e=>S.jsx(_V,{data:e},e.title))})]}),S.jsxs(h2,{children:[S.jsx(m2,{children:"Previous meetings"}),S.jsx(f2,{children:g2.map(e=>S.jsx(SV,{data:e},e.title))})]})]})]})]}),TV=`## Introduction\r
\r
This page lists the project ideas for Google Summer of Code 2024.\r
The ideas comes from serveral projects:\r
\r
- DatenLord  \r
  An application-orientated, cloud-native distributed storage system. [Repo](https://github.com/datenlord/datenlord)\r
- Xline  \r
  A geo-distributed KV store for metadata management. [Repo](https://github.com/xline-kv/Xline)\r
- Xline Client  \r
  Xline client SDK, we currently provides clients written in rust/go/python/java. [Repo](https://github.com/xlinehttps://github.com/xline-kv)\r
\r
  We use Rust as our main language for all our projects. The Xline client project may require the use of additional languages.\r
\r
## About GSoC\r
\r
Google Summer of Code is a global, online program focused on bringing new contributors into open source software development. GSoC Contributors work with an open source organization on a 12+ week programming project under the guidance of mentors. If you are new to GSoC, please refer to the GSoC website to learn [how it works](https://summerofcode.withgoogle.com/how-it-works). Please note that the deadline for this years GSoC application is April 2nd at 18:00 UTC.\r
\r
## Information for Contributors\r
\r
- You can choose an idea from this page, but if you have something else in mind, you may modify the ideas or submit your own proposals.\r
- Get in touch on [Github](https://github.com/xline-kv/Xline) or [Discord](https://discord.com/invite/hqDRtYkWzm), feel free to ask questions and tell us what you are passionate about.\r
- All projects require a good knowledge of Rust and distributed systems.\r
- Please read the Contribute Guide([Xline](https://github.com/xline-kv/Xline/blob/master/CONTRIBUTING.md), [datenlord](https://github.com/datenlord/datenlord#how-to-contribute)) of each project before you start working on the coding.\r
- If you are unable to participate in our GSoC program for any reason, you are still welcome to choose an idea from this page if there are no existing contributors.\r
- Contributors are selected based on their past experience and skills. Please contact us in advance to confirm your eligibility for the tasks.\r
- We will continue to update tasks and descriptions. Please check this page from time to time if you want to participate in our projects.\r
\r
## Ideas\r
\r
### Integrating Xline to DatenLord\r
\r
- Difficulty: Easy\r
- Skills required: Rust, Etcd\r
- Expected Project size: 90 hours\r
- Description: The primary objective of DatenLord is to enable high availability across multi-cloud, hybrid-cloud, and multiple data centers, which often results in high latency situations. Currently, we utilize Etcd as the metadata storage in the DatenLord project. However, we are planning to transition to Xline, which offers improved throughput in such scenarios.\r
- Expected Outcome:\r
  - Replace Etcd with Xline in datenlord project\r
  - Benchmark the performance before and after changes\r
- Possible mentors: Yang Fengming, Su Jinyang\r
\r
### Improve Transaction Validation\r
\r
- Difficulty: Medium\r
- Skills required: Rust, Etcd, knowledge to common data structures\r
- Expected Project size: 90 hours\r
- Description: We want to ensure that in Xline, individual transactions do not have overlapping puts and deletes operations. The current validation implementation has a high time complexity and can potentially impact performance for transactions with multiple operations. Additionally, we are uncertain about the correctness of this implementation and there may be potential bugs present.\r
- Expected Outcome:\r
  - Implement the Interval Tree for range overlapping checks.\r
  - Refactor txn validation and provides correctness proof.\r
  - Write unit tests.\r
- Possible mentors: Yin Zhenghao, Zhao Jiawei\r
\r
### Xline C Client\r
\r
- Difficulty: Medium\r
- Skills required: Rust, C\r
- Expected Project size: 175 hours\r
- Description: We currently have several Xline client implementations in different languages. We want to provide a C SDK to make Xline even more accessible. The client needs to implement all the current Xline APIs.\r
- Expected Outcome:\r
  - Implement Curp protocol client in C.\r
  - Implement Xline client in C.\r
  - Write unit tests for Xline C client.\r
  - Performance benchmark for the client.\r
  - Write docs for Xline C client.\r
- Possible mentors: Shi Jicheng, Guan Yu\r
\r
### Joint consensus correctness testing\r
\r
- Difficulty: Hard\r
- Skills required: Rust, Knowledge to consensus algorithms and chaos engineering\r
- Expected Project size: 350 hours\r
- Description: We have implemented joint consensus in Xline, which allows for arbitrary configuration changes. The joint consensus is more complex than single-server membership change and we want to add integration and chaos tests to verify the correctness of our implementation.\r
- Expected Outcome:\r
  - Write Integration tests.\r
  - Write Chaos testing.\r
  - Find and fix possible bugs.\r
- Possible mentors: Guan Yu, Zhao Jiawei\r
\r
### Implementing Chaos testing in Madsim\r
\r
- Difficulty: Hard\r
- Skills required: Rust, [Jepsen](https://github.com/jepsen-io/jepsen), Knowledge of chaos engineering and deterministic simulation\r
- Expected Project size: 350 hours\r
  - Description: Jepsen is a widely-used framework for verifying distributed systems. Although Jepsen is effective at finding issues within a system, it lacks determinism in its testing methodology, making the debugging process more difficult. On the other hand, [Madsim](https://github.com/madsim-rs/madsim) is a deterministic simulator designed for distributed systems, offering fault injection capabilities. Our goal is to combine the strengths of Madsim and Jepsen, creating a lightweight framework for chaos testing within a single-machine environment. With its deterministic nature, this framework allows for reproducible tests and facilitates the debugging process.\r
- Expected Outcome:\r
  - Write operations/faults generators under the Madsim framework.\r
  - Write a linearizability checker in Rust, similar to [Knossos](https://github.com/jepsen-io/knossos).\r
  - Write a transactional safety checker in Rust, similar to [Elle](https://github.com/jepsen-io/elle).\r
  - Setup chaos testing using these components.\r
- Possible mentors: Yin Zhenghao, Shi Jicheng\r
\r
## Communication\r
\r
Discord will serve as the primary communication platform during this years GSoC program. This includes the following:\r
\r
- Communicating with your mentor\r
- Participating in meetings\r
  Its also worth mentioning that our Discord server is not created solely for the GSoC program; it is also used as our regular project channel. This ensures all contributors are aware of the progress of the project and offer suggestions and advice. While you will be assigned a mentor, but the entire community is available to help you with any problems you may face.\r
  Please make sure to read the servers rules before participating. Be specific when asking questions so that everyone can understand. We will respond as soon as we are available and able to assist you with your questions.\r
  Use English for communication is a mandatory requirement as we rely on it for effective collaboration.\r
  Invite link to our server: https://discord.com/invite/hqDRtYkWzm\r
\r
## Expectations\r
\r
### Weekly working hours\r
\r
For the GSoC project labeled **"hard"**, you are expected to work at least 40 hours a week. For medium and easy tasks, you may choose your own working hours, but please communicate with your mentor in advance and make sure to keep on schedule.\r
\r
### Self-motivation\r
\r
Our program requires self-motivation, as it involves individual research, problem solving, and coding efforts. While mentor support is available, the majority of the projects success hinges on your own self-motivation and dedication.\r
\r
### Frequent communication with mentor\r
\r
Regular communication with your mentor is essential. They need to be constantly updated about your progress, your plans, obstacles faced, and how you overcame them or if youre stuck.\r
Before starting the project, establish a communication schedule for interactions with your mentor.\r
\r
### Design documents\r
\r
We expect you to maintain a design document for the project. It should includes your project plan, issues and technical specifications. Your design document will be reviewed by your mentor before starting the actual coding.\r
\r
## Resources\r
\r
### Learning materials\r
\r
Mentors will provide project-specific tutorials, documentation and research articles to makes sure that you understand the projects framework.\r
\r
### Development environment\r
\r
Development in our project can be resource-intensive. If you struggle with coding and benchmarking on your local machine, you can get an account and perform your work on our shared Linux server.\r
\r
## Contributor Guidance\r
\r
### Application Process\r
\r
1. Read the links and instructions given on this site and choose one or more ideas.\r
2. Join our Discord server: https://discord.com/invite/hqDRtYkWzm . We provide a dedicated channel for the GSoC program.\r
3. Talk with your prospective mentor for the chosen project in the Discord server.\r
4. Submit the application/proposal including all requirements at the Google Summer of Code Site before deadline.\r
\r
## What goes in an application?\r
\r
Please provide the following information in your application:\r
\r
1. Your brief CV including contact information.\r
2. Answers to the following questions:\r
\r
- What do you find most attractive about our program and the reason you choose us?\r
- How does your current skills match with the requirements of our program?\r
- What do you expect to gain from this program and how can we get the best out of you?\r
- Have you ever participated in GSoC (or a similar program) before?\r
\r
3.Information about your **proposed project, which includes a detailed and weekly schedule with breakdowns and clear milestones**\r
`,CV=L.div`
  height: 600px;
  background: #0a0c28;
  @media screen and (max-width: 1024px) {
    height: 414px;
  }
  @media screen and (max-width: 768px) {
    height: 276px;
  }
`,AV=L.main`
  max-width: 1024px;
  margin-left: 30vw;
  padding-inline: 5vw;
  margin-top: -${e=>e.theme.scale.scale09};
  margin-bottom: ${e=>e.theme.scale.scale07};
  /* margin-left: auto; */
  /* padding-inline: 64px; */
  // - - -
  /* height: 400px; */
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 15px;
  }
  @media screen and (max-width: 1024px) {
    margin-top: -252px;
  }
  @media screen and (max-width: 768px) {
    margin-top: -168px;
    /* padding-inline: 32px; */
  }
`,RV=L.div`
  margin-bottom: ${e=>e.theme.scale.scale08};
  @media screen and (max-width: 1024px) {
    margin-bottom: 156px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 104px;
  }
`;L.div`
  margin-bottom: ${e=>e.theme.scale.scale07};
  color: ${e=>e.theme.color.neutral.gray01};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize10};
  /* line-height: ${e=>e.theme.font.lineHeight9}; */
  line-height: 1.4;
  text-transform: capitalize;
  /* word-break: break-all; */
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 34.5px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 10px;
    font-size: 23px;
  }
`;const IV=L.h1`
  margin-bottom: ${e=>e.theme.scale.scale03};
  color: ${e=>e.theme.color.neutral.gray01};
  font-weight: ${e=>e.theme.font.fontWeightBold};
  font-size: ${e=>e.theme.font.fontSize8};
  /* line-height: ${e=>e.theme.font.lineHeight9}; */
  line-height: 1.4;
  text-transform: capitalize;
  /* word-break: break-all; */
  @media screen and (max-width: 1024px) {
    margin-bottom: 15px;
    font-size: 34.5px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 10px;
    font-size: 23px;
  }
`,lS=L.p`
  margin-bottom: ${e=>e.theme.scale.scale04};
  color: ${e=>e.theme.color.neutral.gray01};
  font-weight: ${e=>e.theme.font.fontWeightRegular};
  font-size: ${e=>e.theme.font.fontSize5};
  /* line-height: ${e=>e.theme.font.lineHeight5}; */
  line-height: 1.3;
  @media screen and (max-width: 1024px) {
    margin-bottom: 24px;
    font-size: 18px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 16px;
    font-size: 12px;
  }
`,NV=L.a`
  display: flex;
  align-items: center;
  margin-bottom: ${e=>e.theme.scale.scale08};
  @media screen and (max-width: 1024px) {
    margin-bottom: 24px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 16px;
  }
`,MV=L.img`
  margin-right: 24px;
  height: ${e=>e.theme.scale.scale06};
  width: ${e=>e.theme.scale.scale06};
  border: 2px solid ${e=>e.theme.color.neutral.gray01};
  border-radius: 50%;
  @media screen and (max-width: 1024px) {
    margin-right: 18px;
    height: 60px;
    width: 60px;
  }
  @media screen and (max-width: 768px) {
    margin-right: 12px;
    height: 60px;
    width: 60px;
  }
`;L.img`
  width: 100%;
  margin-bottom: ${e=>e.theme.scale.scale04};
  border-radius: ${e=>e.theme.scale.scale02};
  /* height: 336px; */
  @media screen and (max-width: 1024px) {
    margin-bottom: 24px;
    border-radius: 9px;
  }
  @media screen and (max-width: 768px) {
    margin-bottom: 16px;
    border-radius: 6px;
  }
`;const OV=L(lS)`
  margin-bottom: 0;
`;L.div`
  display: flex;
  padding-inline: 4vw;
`;const DV=L.div`
  position: sticky;
  top: 0;
  float: left;
  width: 30vw;
  padding-block: 5vh;
  padding-inline: 5vw;
  height: 100vh;
  overflow-y: scroll;
`,LV=Object.assign({"/src/pages/GSoC/index.md":TV}),PV=LV["/src/pages/GSoC/index.md"],zV=()=>{const[e,t]=Q.useState();Q.useEffect(()=>{window.scrollTo(0,0)},[]),Q.useEffect(()=>{const r=document.getElementById("article"),i=r==null?void 0:r.querySelectorAll("h2, h3");i!=null&&t(Array.from(i))},[]);const n=r=>{var i;console.log(document.querySelector(`#${r}`)),(i=document.querySelector(`#${r}`))==null||i.scrollIntoView({})};return S.jsxs(S.Fragment,{children:[S.jsx(CV,{}),S.jsx(DV,{children:e&&e.map(r=>r.tagName=="H2"?S.jsx("div",{style:{fontSize:"18px",fontWeight:"600",paddingBlock:"4px",cursor:"pointer"},onClick:()=>n(r.id),children:r.textContent}):S.jsx("div",{style:{paddingLeft:"16px",fontSize:"16px",paddingBlock:"4px",cursor:"pointer"},onClick:()=>n(r.id),children:r.textContent}))}),S.jsxs(AV,{children:[S.jsx(IV,{children:"GSoC 2024 Ideas Page"}),S.jsxs(lS,{children:[me("2024-02-04").format("MMM Do"),"  10 min read"]}),S.jsxs(NV,{href:"https://github.com/bsbds",children:[S.jsx(MV,{src:"https://avatars.githubusercontent.com/u/69835502?v=4"}),S.jsx(OV,{children:"bsbdf"})]}),S.jsx(RV,{id:"article",children:S.jsx(Ko,{children:PV,rehypePlugins:[jc,tS],remarkPlugins:[Uc,Q8],components:{h1:({level:r,children:i})=>S.jsx(pt,{level:r,children:i}),h2:({level:r,children:i})=>S.jsx(pt,{level:r,children:i}),h3:({level:r,children:i})=>S.jsx(pt,{level:r,children:i}),h4:({level:r,children:i})=>S.jsx(pt,{level:r,children:i}),h5:({level:r,children:i})=>S.jsx(pt,{level:r,children:i}),h6:({level:r,children:i})=>S.jsx(pt,{level:r,children:i}),p:({children:r})=>S.jsx(qc,{children:r}),em:({children:r})=>S.jsx(ci,{children:r}),strong:({children:r})=>S.jsx(ci,{type:"bold",children:r}),hr:()=>S.jsx(Hc,{}),ul:({depth:r,ordered:i,className:a,children:s})=>S.jsx(ui,{depth:r,ordered:i,className:a,children:s}),ol:({depth:r,ordered:i,className:a,children:s})=>S.jsx(ui,{depth:r,ordered:i,className:a,children:s}),li:({children:r})=>S.jsx(Wc,{children:r}),img:({src:r,alt:i})=>S.jsx(Xc,{src:r,alt:i}),blockquote:({children:r})=>S.jsx(Vc,{children:r})}})})]})]})},FV=cT([{path:"/",element:S.jsx(gA,{}),children:[{path:"/",element:S.jsx(GA,{})},{path:"/contribute",element:S.jsx(vR,{})},{path:"/meeting",element:S.jsx(EV,{})},{path:"/GsoC",element:S.jsx(zV,{})},{path:"/blog",element:S.jsx(ZB,{})},{path:"/blog/:msg",element:S.jsx(HX,{})},{path:"/docs/:params",element:S.jsx(pF,{})},{path:"/deep-dive/:params",element:S.jsx(AF,{})},{path:"/video",element:S.jsx(mV,{})}]},{path:"test",element:S.jsx(Xz,{})}]),BV={color:{neutral:{gray01:"#ffffff",gray02:"#fafafa",gray03:"#f5f5f5",gray04:"#f0f0f0",gray05:"#d9d9d9",gray06:"#bfbfbf",gray07:"#8c8c8c",gray08:"#595959",gray09:"#434343",gray10:"#262626",gray11:"#1f1f1f",gray12:"#141414",gray13:"#000000"},white:"white"},scale:{scale01:"8px",scale02:"12px",scale03:"20px",scale04:"32px",scale05:"48px",scale06:"80px",scale07:"128px",scale08:"208px",scale09:"336px",scale10:"552px",scale11:"896px",scale12:"1440px",sm:"16px",md:"32px",lg:"64px",xl:"96px",xxl:"128px"},font:{fontFamily:"Arial",fontSize1:"12px",fontSize2:"14px",fontSize3:"16px",fontSize4:"20px",fontSize5:"24px",fontSize6:"30px",fontSize7:"38px",fontSize8:"46px",fontSize9:"56px",fontSize10:"68px",lineHeight1:"20px",lineHeight2:"22px",lineHeight3:"24px",lineHeight4:"28px",lineHeight5:"32px",lineHeight6:"38px",lineHeight7:"46px",lineHeight8:"54px",lineHeight9:"64px",lineHeight10:"76px",fontWeightRegular:"500",fontWeightBold:"600"}},$V=_C`
  * {
  box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: Inter;
    line-height: 1.5;
  }

  a {
    text-decoration: none;
  }

  h1, h2, h3, h4, h5, h6 {
    margin-block: 0;
  }

  p {
    margin-block: 0;
    line-height: 1.2;
  }

  ul, ol {
    list-style-type: none;
    margin-block: 0;
    padding-inline-start: 0;
  }

  ol + ul {
    margin-left: 20px;
  }

  pre {
    background: ${e=>e.theme.color.neutral.gray04};
    padding: 12px;
    border-radius: 4px;
    overflow-x: scroll;
  }

  code {
    font-size: 16px;
    padding: 4px;
    border-radius: 4px;
    background: ${e=>e.theme.color.neutral.gray04};
    font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  }

  pre code {
    padding: 0;
  }

  .hljs {
    font-size: 16px;
    font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    color: #333;
    overflow: hidden;
  }
  /* .hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
} */
  .hljs-comment,
  .hljs-quote {
    color: #998;
    font-style: italic;
  }
  .hljs-keyword,
  .hljs-selector-tag,
  .hljs-subst {
    color: #333;
    font-weight: 700;
  }
  .hljs-literal,
  .hljs-number,
  .hljs-tag .hljs-attr,
  .hljs-template-variable,
  .hljs-variable {
    color: teal;
  }
  .hljs-doctag,
  .hljs-string {
    color: #d14;
  }
  .hljs-section,
  .hljs-selector-id,
  .hljs-title {
    color: #900;
    font-weight: 700;
  }
  .hljs-subst {
    font-weight: 400;
  }
  .hljs-class .hljs-title,
  .hljs-type {
    color: #458;
    font-weight: 700;
  }
  .hljs-attribute,
  .hljs-name,
  .hljs-tag {
    color: navy;
    font-weight: 400;
  }
  .hljs-link,
  .hljs-regexp {
    color: #009926;
  }
  .hljs-bullet,
  .hljs-symbol {
    color: #990073;
  }
  .hljs-built_in,
  .hljs-builtin-name {
    color: #0086b3;
  }
  .hljs-meta {
    color: #999;
    font-weight: 700;
  }
  .hljs-deletion {
    background: #fdd;
  }
  .hljs-addition {
    background: #dfd;
  }
  .hljs-emphasis {
    font-style: italic;
  }
  .hljs-strong {
    font-weight: 700;
  }
`;Nm.createRoot(document.getElementById("root")).render(S.jsx(Xn.StrictMode,{children:S.jsxs(kC,{theme:BV,children:[S.jsx(bT,{router:FV}),S.jsx($V,{})]})}))});export default UV();
